import{c as se,I as oe}from"./chunks/createReactComponent.64a419de.js";import{u as i,r as t}from"./chunks/index.8dbfd31f.js";import{j as v}from"./chunks/tw-merge.ef383cd6.js";import"./chunks/_commonjsHelpers.37791fd4.js";const D=t.exports.forwardRef((e,n)=>{const r={position:"absolute",top:0,left:0,width:"100%",height:"100%",willChange:"clip",userSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return i.createElement("div",Object.assign({},e,{style:r,"data-rcs":"clip-item",ref:n}))});D.displayName="ContainerClip";const $=t.exports.forwardRef(({children:e,portrait:n},r)=>{const l={position:"absolute",top:0,width:"100%",height:"100%",pointerEvents:"none"},a={position:"absolute",width:n?"100%":void 0,height:n?void 0:"100%",transform:n?"translateY(-50%)":"translateX(-50%)",pointerEvents:"all"};return i.createElement("div",{style:l,"data-rcs":"handle-container",ref:r},i.createElement("div",{style:a},e))});$.displayName="ThisHandleContainer";const O=({flip:e})=>{const n={width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:e?"rotate(180deg)":void 0};return i.createElement("div",{style:n})},ce=({portrait:e,buttonStyle:n,linesStyle:r,style:l,...a})=>{const c={display:"flex",flexDirection:e?"row":"column",placeItems:"center",height:"100%",cursor:e?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...l},u={flexGrow:1,height:e?2:"100%",width:e?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 7px rgba(0,0,0,.35)",...r},d={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",boxShadow:"0 0 7px rgba(0,0,0,.35)",transform:e?"rotate(90deg)":void 0,...n};return i.createElement("div",Object.assign({className:"__rcs-handle-root"},a,{style:c}),i.createElement("div",{className:"__rcs-handle-line",style:u}),i.createElement("div",{className:"__rcs-handle-button",style:d},i.createElement(O,null),i.createElement(O,{flip:!0})),i.createElement("div",{className:"__rcs-handle-line",style:u}))},le=({boxSizing:e="border-box",objectFit:n="cover",objectPosition:r="center",...l}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:e,objectFit:n,objectPosition:r,...l}),ie=e=>{const n=t.exports.useRef(e);return t.exports.useEffect(()=>{n.current=e}),n.current},X=(e,n,r,l)=>{const a=t.exports.useRef();t.exports.useEffect(()=>{a.current=n},[n]),t.exports.useEffect(()=>{if(!(r&&r.addEventListener))return;const c=u=>a.current&&a.current(u);return r.addEventListener(e,c,l),()=>{r.removeEventListener(e,c,l)}},[e,r,l])},ae=typeof window<"u"&&window.document&&window.document.createElement?t.exports.useLayoutEffect:t.exports.useEffect,ue=(e,n)=>{const r=t.exports.useRef(),l=t.exports.useCallback(()=>{e.current&&r.current&&r.current.observe(e.current)},[e]);ae(()=>(r.current=new ResizeObserver(([a])=>n(a.contentRect)),l(),()=>{r.current&&r.current.disconnect()}),[n,l])},g={passive:!0},Y={capture:!0,passive:!1},de=({handle:e,itemOne:n,itemTwo:r,onlyHandleDraggable:l=!1,onPositionChange:a,portrait:c=!1,position:u=50,boundsPadding:d=0,changePositionOnHover:I=!1,style:F,...V})=>{const f=t.exports.useRef(null),P=t.exports.useRef(null),j=t.exports.useRef(null),p=t.exports.useRef(u),B=ie(u),[y,U]=t.exports.useState(!1),S=t.exports.useRef(!1),[W,q]=t.exports.useState(),[A,K]=t.exports.useState(!1);t.exports.useEffect(()=>{q(l?j.current:f.current)},[l]);const m=t.exports.useCallback(function({x:o,y:w,isOffset:R,portrait:h,boundsPadding:T}){const{top:Z,left:ee,width:C,height:k}=f.current.getBoundingClientRect();if(C===0||k===0)return;const te=Math.min(Math.max(h?R?w-Z-window.pageYOffset:w:R?o-ee-window.pageXOffset:o,0),h?k:C),M=h?k/(f.current.offsetHeight||1):C/(f.current.offsetWidth||1),b=te/M,z=C/M,N=k/M,_=b/(h?N:z)*100,ne=h?b===0||b===N:b===0||b===z,re=_===p.current&&(p.current===0||p.current===100);if(A&&re&&ne)return;K(!0),p.current=_;const L=Math.min(Math.max(b,0+T),(h?N:z)-T);P.current.style.clip=h?`rect(auto,auto,${L}px,auto)`:`rect(auto,${L}px,auto,auto)`,j.current.style.transform=h?`translate3d(0,${L}px,0)`:`translate3d(${L}px,0,0)`,a&&a(p.current)},[A,a]);t.exports.useEffect(()=>{const{width:s,height:o}=f.current.getBoundingClientRect(),w=u===B?p.current:u;m({portrait:c,boundsPadding:d,x:s/100*w,y:o/100*w})},[c,u,B,d,m]);const H=t.exports.useCallback(s=>{s.preventDefault(),m({portrait:c,boundsPadding:d,isOffset:!0,x:s instanceof MouseEvent?s.pageX:s.touches[0].pageX,y:s instanceof MouseEvent?s.pageY:s.touches[0].pageY}),U(!0)},[c,d,m]),x=t.exports.useCallback(function(o){m({portrait:c,boundsPadding:d,isOffset:!0,x:o instanceof MouseEvent?o.pageX:o.touches[0].pageX,y:o instanceof MouseEvent?o.pageY:o.touches[0].pageY})},[c,d,m]),E=t.exports.useCallback(()=>{U(!1)},[]),G=t.exports.useCallback(({width:s,height:o})=>{const{width:w,height:R}=f.current.getBoundingClientRect();m({portrait:c,boundsPadding:d,x:s/100*p.current*w/s,y:o/100*p.current*R/o})},[c,d,m]);t.exports.useEffect(()=>(y&&!S.current&&(window.addEventListener("mousemove",x,g),window.addEventListener("mouseup",E,g),window.addEventListener("touchmove",x,g),window.addEventListener("touchend",E,g),S.current=!0),()=>{S.current&&(window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",E),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",E),S.current=!1)}),[x,E,y]),ue(f,G),t.exports.useEffect(()=>{const s=f.current,o=()=>{y||E()};return I&&(s.addEventListener("mousemove",x,g),s.addEventListener("mouseleave",o,g)),()=>{s.removeEventListener("mousemove",x),s.removeEventListener("mouseleave",o)}},[I,x,E,y]),X("mousedown",H,W,Y),X("touchstart",H,W,Y);const J=e||i.createElement(ce,{portrait:c}),Q={position:"relative",overflow:"hidden",cursor:y?c?"ns-resize":"ew-resize":void 0,userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...F};return i.createElement("div",Object.assign({},V,{ref:f,style:Q,"data-rcs":"root"}),r,i.createElement(D,{ref:P},n),i.createElement($,{portrait:c,ref:j},J))},ve=({style:e,...n})=>{const r=le(e);return i.createElement("img",Object.assign({},n,{style:r,"data-rcs":"image"}))},fe=se("MoveHorizontal",[["polyline",{points:"18 8 22 12 18 16",key:"1hqrds"}],["polyline",{points:"6 8 2 12 6 16",key:"f0ernq"}],["line",{x1:"2",y1:"12",x2:"22",y2:"12",key:"zvmn4p"}]]);function Ee(e){return v.exports.jsx(de,{handle:v.exports.jsxs("div",{className:"flex h-full flex-col items-center justify-center",children:[v.exports.jsx("div",{className:"flex-1 border-l-2 border-divider"}),v.exports.jsxs("div",{className:"relative h-10 w-10 rounded-full border-2 border-divider",children:[v.exports.jsx("div",{className:"pointer-events-none absolute inset-0 h-full w-full rounded-full backdrop-blur-sm"}),v.exports.jsx(oe,{className:"dark h-full w-full cursor-move rounded-full border-0 backdrop-blur-none",children:v.exports.jsx(fe,{className:"dark"})})]}),v.exports.jsx("div",{className:"flex-1 border-l-2 border-divider"})]}),...e})}export{Ee as ReactCompareSlider,ve as ReactCompareSliderImage};
