<!doctype html><html class=h-full lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
    A blog to share my interests (mostly programming)
  "><meta name=deploy-date content="2022-06-22"><meta name=publish-date content="2022-05-17"><meta name=last-modified-date content="2022-05-23"><meta name=author content><meta name=color-scheme content="dark light"><meta name=keywords content="tailscale,web,hugo,android"><style>@font-face{font-family:fira sans;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firasans/v16/va9E4kDNxMZdWfMOD5VfkA.ttf)format('truetype')}@font-face{font-family:merriweather;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/merriweather/v30/u-440qyriQwlOrhSvowK_l5Oew.ttf)format('truetype')}</style><link rel=stylesheet href="/css/main.min.css"><title>Discovering Tailscale |
Phelipe Teles</title><meta property="og:title" content="Discovering Tailscale"><meta property="og:description" content="I have recently started playing with Tailscale, and after a rough start I think I got the hang of it and wanna share how it improved some of my workflows like testing my blog on my Android device or connecting to it with adb without a USB cable."><meta property="og:type" content="article"><meta property="og:url" content="https://phelipetls.github.io/posts/discovering-tailscale/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-17T00:00:00+00:00"><meta property="article:modified_time" content="2022-05-23T23:19:19-03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Discovering Tailscale"><meta name=twitter:description content="I have recently started playing with Tailscale, and after a rough start I think I got the hang of it and wanna share how it improved some of my workflows like testing my blog on my Android device or connecting to it with adb without a USB cable."><script async defer data-website-id=32b90065-c2a6-4390-9684-dfde99409815 src=https://umami-production-10b2.up.railway.app/main.js></script>
<script type=module defer src=https://phelipetls.github.io/js/bundle.min.js></script>
<link rel=stylesheet href=https://phelipetls.github.io/css/lite-yt-embed.min.css><link rel=stylesheet href=/css/dark-syntax-highlight.min.css></head><body data-preload class="h-full bg-background text-foreground transition-colors duration-500 ease-out"><script>function storeThemeOption(e){e&&localStorage.setItem("__theme",e)}function getStoredThemeOption(){return localStorage.getItem("__theme")||"auto"}function getAutoTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function getThemeFromOption(e){return e==="auto"?getAutoTheme():e}function setTheme(e){const t=getThemeFromOption(e);document.body.classList.toggle("dark",t==="dark")}function dispatchNewThemeEvent(e){const t=new CustomEvent("newTheme",{detail:{theme:getThemeFromOption(e)}});document.body.dispatchEvent(t)}window.__setTheme=function(e){setTheme(e),storeThemeOption(e),dispatchNewThemeEvent(e)};const storedThemeOption=getStoredThemeOption();window.__setTheme(storedThemeOption),window.addEventListener("load",function(){document.body.removeAttribute("data-preload"),dispatchNewThemeEvent(storedThemeOption)})</script><div><div data-nav-container class="fixed top-0 z-30 h-16 w-full bg-background py-2 transition-transform"><div class="mx-auto flex h-full max-w-5xl items-center justify-between pr-page-padding"><nav class="no-scrollbar flex h-full items-center overflow-x-scroll py-1 px-page-padding" aria-label="Main navigation"><ul class="m-0 flex h-full list-none flex-row flex-nowrap items-center gap-2"><li class=h-full><a id=home href=https://phelipetls.github.io/ class="after:content-[''] after:absolute after:-z-10 after:bg-surface
after:w-full after:h-full after:rounded-md after:shadow-md
after:shadow-divider after:scale-0 hover:after:scale-100
after:opacity-0 hover:after:opacity-100
after:transition-[transform,_opacity] after:duration-500
hover:after:bg-hover
relative
flex
h-full
items-center
justify-center
rounded-md
border-0
px-2">Home</a></li><li class=h-full><a id=posts href=https://phelipetls.github.io/posts/ aria-current=page class="hover:bg-hover card transition-colors duration-500
relative
flex
h-full
items-center
justify-center
rounded-md
border-0
px-2">Posts</a></li><li class=h-full><a id=projects href=https://phelipetls.github.io/projects/ class="after:content-[''] after:absolute after:-z-10 after:bg-surface
after:w-full after:h-full after:rounded-md after:shadow-md
after:shadow-divider after:scale-0 hover:after:scale-100
after:opacity-0 hover:after:opacity-100
after:transition-[transform,_opacity] after:duration-500
hover:after:bg-hover
relative
flex
h-full
items-center
justify-center
rounded-md
border-0
px-2">Projects</a></li><li class=h-full><a id=resume href=https://phelipetls.github.io/resume/ class="after:content-[''] after:absolute after:-z-10 after:bg-surface
after:w-full after:h-full after:rounded-md after:shadow-md
after:shadow-divider after:scale-0 hover:after:scale-100
after:opacity-0 hover:after:opacity-100
after:transition-[transform,_opacity] after:duration-500
hover:after:bg-hover
relative
flex
h-full
items-center
justify-center
rounded-md
border-0
px-2">Résumé</a></li></ul></nav><div class="h-full py-1"><div class="card flex h-full items-center px-2"><button data-theme-button class="btn btn-icon" aria-label="Change theme" aria-expanded=false aria-controls=theme-listbox aria-haspopup=true><svg class="feather" viewBox="0 0 24 24"><title>Theme icon</title><defs><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg><svg id="monitor" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-monitor"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg></defs>
<use data-theme-button-svg-icon href=#sun></use></svg></button></div></div><ul data-theme-listbox id=theme-listbox class="card absolute top-0 left-0 z-50 m-0 flex list-none flex-col border border-divider text-lg" style=visibility:hidden;opacity:0;pointer-events:none;--icon-size:24px role=listbox aria-orientation=vertical aria-activedescendant=theme-option-auto aria-label="Theme options" tabindex=-1><li class="m-0 flex cursor-pointer items-center gap-1 px-2 py-1" id=theme-option-light data-theme=light role=option tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>Light</li><li class="m-0 flex cursor-pointer items-center gap-1 px-2 py-1" id=theme-option-dark data-theme=dark role=option tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>Dark</li><li class="m-0 flex cursor-pointer items-center gap-1 px-2 py-1" id=theme-option-auto data-theme=auto role=option tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-monitor"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>System</li></ul></div></div><main class="grid grid-cols-layout"><div class="card col-full max-w-full rounded-none py-16 px-page-padding shadow-none sm:col-content sm:rounded-md sm:px-16 sm:shadow-md"><article><header><h1 class="mb-4 text-4xl">Discovering Tailscale</h1><div class="mb-4 flex flex-col gap-2"><div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-book-open"><path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/></svg><div>3 min.</div></div><div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg><time datetime=2022-05-17>May 17, 2022</time></div></div><div class="mb-4 flex flex-wrap gap-2"><a href=/tags/tailscale/ class="tag whitespace-nowrap">tailscale</a>
<a href=/tags/web/ class="tag whitespace-nowrap">web</a>
<a href=/tags/hugo/ class="tag whitespace-nowrap">hugo</a>
<a href=/tags/android/ class="tag whitespace-nowrap">android</a>
<a href=/tags class=tag aria-label="More tags">...</a></div></header><hr class=my-8><div data-blog-post class=max-w-prose><p>I have recently started playing with Tailscale, and after a rough start I think
I got the hang of it and wanna share how it improved some of my workflows like
testing my blog on my Android device or connecting to it with <code>adb</code> without a
USB cable.</p><h2 class="mb-8 mt-8 pt-8" id=what-is-tailscale>What is Tailscale?
<a class="text-primary border-0" href=#what-is-tailscale>#</a></h2><p>Tailscale helps you connect your devices seamlessly, without configuration or
much setup, in a virtual private network. All you need is to download the app
on your operating system, log in and enjoy. A stable IP address, in the range
<code>100.x.y.z</code>, will be assigned to your devices, meaning it <a href=https://tailscale.com/kb/1033/ip-and-dns-addresses/>won&rsquo;t
change</a>
, which
is convenient.</p><h3 class="mb-8 mt-8 pt-8" id=download>Download
<a class="text-primary border-0" href=#download>#</a></h3><p><a href=https://tailscale.com/download/>You can download Tailscale here</a>
. A shell
script is provided for Linux:</p><pre tabindex=0><code class=language-shell-sesson data-lang=shell-sesson>$ curl -fsSL https://tailscale.com/install.sh | sh
</code></pre><p>This will install a command-line interface, which is the primary way you&rsquo;ll use
it in Linux.</p><h3 class="mb-8 mt-8 pt-8" id=usage>Usage
<a class="text-primary border-0" href=#usage>#</a></h3><p>You just need to run one command to start Tailscale and authenticate:</p><pre tabindex=0><code class=language-shell-sesson data-lang=shell-sesson>$ tailscale up
</code></pre><p>To check your connected devices and their IP addresses,</p><pre tabindex=0><code class=language-shell-sesson data-lang=shell-sesson>$ tailscale status
100.x.y.z   fedora               phelipetls@  linux   -
</code></pre><p>Now try downloading the mobile app and activate it there, and your mobile
device should be listed in there as well:</p><pre tabindex=0><code class=language-shell-sesson data-lang=shell-sesson>$ tailscale status
100.x.y.z   fedora               phelipetls@  linux   -
100.x.y.z   s20-fe-de-phelipe    phelipetls@  android idle, tx 6685800 rx 260204
</code></pre><h2 class="mb-8 mt-8 pt-8" id=use-cases>Use cases
<a class="text-primary border-0" href=#use-cases>#</a></h2><p>What initially made me reach to Tailscale was that I wanted to run my blog in
my mobile device, because I needed to test if previewing PDF with
<a href=https://mozilla.github.io/pdf.js/><code>pdf.js</code></a>
was working.</p><p>Initially, I went with what I was familiar to me, which is using
<a href=/posts/adb-a-must-know-cli-tool-for-android-development/><code>adb</code></a>
. But the
<a href=https://developer.android.com/studio/command-line/adb#connect-to-a-device-over-wi-fi-android-11+>initial setup
required</a>
is non-trivial, and you&rsquo;d have to install <code>adb</code>. It&rsquo;s still a good option
though, if the initial setup has already been done.</p><p>Anyway, this made me suspicious that there&rsquo;s gotta be an easier way to do this.
I got a hint that Tailscale might help with that, so I went to read about it.</p><h3 class="mb-8 mt-8 pt-8" id=testing-hugo-website-in-a-mobile-device>Testing Hugo website in a mobile device
<a class="text-primary border-0" href=#testing-hugo-website-in-a-mobile-device>#</a></h3><p>Having done the initial setup, <a href=https://www.reddit.com/r/Tailscale/comments/ukittc/how_to_access_a_web_server_running_on_my_laptop/>it took me some
help</a>
to find out how to make Hugo&rsquo;s development server, running in my laptop,
available to my mobile device. Eventually I found this does the trick:</p><pre tabindex=0><code class=language-shell-sesson data-lang=shell-sesson>$ hugo serve --bind 100.x.y.z --baseUrl 100.x.y.z
</code></pre><p>Where <code>100.x.y.z</code> is the laptop&rsquo;s Tailscale IP address, i.e. the output of
<code>tailscale ip -4</code>. Now just open the URL <code>http://100.x.y.z:1313</code> on your mobile
device. In fact, you don&rsquo;t even need to be on the same Wi-Fi for this to work,
it&rsquo;s going to be available as long you&rsquo;re still connected to Tailscale. That&rsquo;s
the magic thing about it.</p><h3 class="mb-8 mt-8 pt-8" id=test-any-server-in-a-mobile-device>Test any server in a mobile device
<a class="text-primary border-0" href=#test-any-server-in-a-mobile-device>#</a></h3><p>Of course, this is not limited to Hugo. Many web servers provide a way to do
the same. Say, for example, you want to serve the static build of your site, in
the <code>public</code> directory and check it out in your phone.</p><p>You can use Python&rsquo;s <code>http.server</code> module:</p><pre tabindex=0><code class=language-shell-sesson data-lang=shell-sesson>$ python3 -m http.server --bind $(tailscale ip -4) --directory public
</code></pre><p>Or Vercel&rsquo;s <a href=https://github.com/vercel/serve><code>serve</code></a>
:</p><pre tabindex=0><code class=language-shell-sesson data-lang=shell-sesson>$ npx serve --listen $(tailscale ip -4) public
</code></pre><p>Usually, one of these two command-line options, <code>--bind</code> or <code>--listen</code>, will be
available.</p><h3 class="mb-8 mt-8 pt-8" id=taildrop>Taildrop
<a class="text-primary border-0" href=#taildrop>#</a></h3><p>Tailscale also has a feature called
<a href=https://tailscale.com/kb/1106/taildrop/>Taildrop</a>
, a convenient way to share
files between devices.</p><p>In your Android device, Tailscale will show up as an option to share files, and
in doing so you&rsquo;ll be able to get the file into the current directory of your
laptop with <code>sudo tailscale file get .</code>.</p><p>Alternatively, you can send files from your laptop to your mobile device with:</p><pre tabindex=0><code class=language-shell-sesson data-lang=shell-sesson>$ sudo tailscale file cp $file $mobile_device_tailscale_ip_address:
</code></pre></div></article><div data-theme-copy-code-tooltip role=tooltip class="pointer-events-none absolute rounded-md border border-divider bg-background px-2" style=opacity:0>Copied<div data-theme-copy-code-tooltip-arrow class="absolute h-[8px] w-[8px] rotate-45 border-r border-b border-divider bg-background"></div></div><hr class=my-8><script src=https://utteranc.es/client.js repo=phelipetls/phelipetls.github.io issue-term=pathname theme=preferred-color-scheme crossorigin=anonymous async></script><hr class=my-8><nav class="flex flex-wrap justify-between gap-2 sm:flex-nowrap" aria-label="Posts navigation"><a class="flex grow basis-1/2 items-center gap-2 border-0" href=/posts/moving-away-from-tiling-window-managers/><span class=text-primary><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg></span>Moving away from tiling window managers</a>
<a class="flex h-full grow basis-1/2 items-center justify-end gap-2 self-end border-0 text-right" href=/posts/introduction-to-ansible/>Ansible for dotfiles: the introduction I wish I've had
<span class=text-primary><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></span></a></nav></div></main><footer class="mx-auto flex w-full max-w-content flex-col gap-4 px-page-padding py-4 sm:flex-row sm:justify-between"><div class="flex flex-wrap justify-center sm:order-last sm:justify-end"><nav aria-label=Links><div class="flex gap-4"><a id=contact-email class=border-0 href=mailto:phelipe_teles@hotmail.com aria-label=E-mail><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a><a id=contact-linkedin class=border-0 href=https://linkedin.com/in/phelipeteles aria-label=LinkedIn><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a><a id=contact-github class=border-0 href=https://github.com/phelipetls aria-label=GitHub><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></nav></div><p class="flex-1 text-center sm:text-left">This content is under a
<a rel=license href=http://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0</a>
license.</p></footer></div><script src=https://phelipetls.github.io/js/post-bundle.min.js></script></body></html>