<!DOCTYPE html><html class="h-full min-h-0 text-base sm:text-lg selection:bg-primary selection:text-on-primary scroll-smooth scroll-pt-nav-height sm:scroll-pt-0" lang="en-US" data-notransition> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="deploy-date" content="2025-11-05"><meta name="author" content="Phelipe Teles"><meta name="color-scheme" content="dark light"><title>Deriving types from data in TypeScript - Phelipe Teles | Phelipe Teles</title><link rel="canonical" href="https://phelipetls.github.io/posts/deriving-types-from-data-typescript/"><meta name="description" content="A TypeScript pattern I like to use is to derive types from data. Types in
TypeScript only exist at build time, so this pattern has the benefit of types
being automatically linked to the runtime values they represent."><meta name="robots" content="index, follow"><meta property="og:title" content="Deriving types from data in TypeScript"><meta property="og:type" content="article"><meta property="og:image" content="https://phelipetls.github.io/posts/deriving-types-from-data-typescript/image.png"><meta property="og:url" content="https://phelipetls.github.io/posts/deriving-types-from-data-typescript/"><meta property="og:image:url" content="https://phelipetls.github.io/posts/deriving-types-from-data-typescript/image.png"><meta property="og:image:height"><meta property="og:image:alt" content="Blog Post Deriving types from data in TypeScript Preview Image"><meta property="article:published_time" content="2023-04-02T00:00:00Z"><meta property="article:author" content="Phelipe Teles"><meta property="article:tag" content="typescript"><meta name="twitter:card" content="summary_large_image"><meta content="https://phelipetls.github.io/posts/deriving-types-from-data-typescript/image.png" name="twitter:image"> <meta name="publish-date" content="2023-04-02"> <meta name="keywords" content="typescript"><meta name="description" content="A TypeScript pattern I like to use is to derive types from data. Types in
TypeScript only exist at build time, so this pattern has the benefit of types
being automatically linked to the runtime values they represent."> <style id="sandpack">--sxs{--sxs:0 light sp-482805736}@media{.light{--sp-space-1:4px;--sp-space-2:8px;--sp-space-3:12px;--sp-space-4:16px;--sp-space-5:20px;--sp-space-6:24px;--sp-space-7:28px;--sp-space-8:32px;--sp-space-9:36px;--sp-space-10:40px;--sp-space-11:44px;--sp-border-radius:4px;--sp-layout-height:300px;--sp-layout-headerHeight:40px;--sp-transitions-default:150ms ease;--sp-zIndices-base:1;--sp-zIndices-overlay:2;--sp-zIndices-top:3;--sp-colors-surface1:#ffffff;--sp-colors-surface2:#EFEFEF;--sp-colors-surface3:#F3F3F3;--sp-colors-disabled:#C5C5C5;--sp-colors-base:#323232;--sp-colors-clickable:#808080;--sp-colors-hover:#4D4D4D;--sp-colors-accent:#3973E0;--sp-colors-error:#EA3323;--sp-colors-errorSurface:#FCF1F0;--sp-colors-warning:#6A4516;--sp-colors-warningSurface:#FEF2C0;--sp-font-body:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sp-font-mono:"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace;--sp-font-size:13px;--sp-font-lineHeight:20px;--sp-syntax-color-plain:#151515;--sp-syntax-color-comment:#999;--sp-syntax-fontStyle-comment:italic;--sp-syntax-color-keyword:#7C5AE3;--sp-syntax-color-tag:#0971F1;--sp-syntax-color-punctuation:#3B3B3B;--sp-syntax-color-definition:#85A600;--sp-syntax-color-property:#3B3B3B;--sp-syntax-color-static:#3B3B3B;--sp-syntax-color-string:#2E6BD0}.sp-482805736{--sp-space-1:4px;--sp-space-2:8px;--sp-space-3:12px;--sp-space-4:16px;--sp-space-5:20px;--sp-space-6:24px;--sp-space-7:28px;--sp-space-8:32px;--sp-space-9:36px;--sp-space-10:40px;--sp-space-11:44px;--sp-border-radius:4px;--sp-layout-height:300px;--sp-layout-headerHeight:40px;--sp-transitions-default:150ms ease;--sp-zIndices-base:1;--sp-zIndices-overlay:2;--sp-zIndices-top:3;--sp-colors-surface1:#282c34;--sp-colors-surface2:#21252b;--sp-colors-surface3:#2c313c;--sp-colors-disabled:#4d4d4d;--sp-colors-base:#a8b1c2;--sp-colors-clickable:#a8b1c2;--sp-colors-hover:#e8effc;--sp-colors-accent:#c678dd;--sp-colors-error:#e06c75;--sp-colors-errorSurface:#ffeceb;--sp-colors-warning:#E7C400;--sp-colors-warningSurface:#3A3000;--sp-font-body:"Fira Sans", sans-serif;--sp-font-mono:Consolas, Menlo, Monaco, "Fira Code", monospace;--sp-font-size:1rem;--sp-font-lineHeight:1.5;--sp-syntax-color-plain:#a8b1c2;--sp-syntax-color-comment:#757575;--sp-syntax-fontStyle-comment:italic;--sp-syntax-color-keyword:#c678dd;--sp-syntax-color-tag:#e06c75;--sp-syntax-color-punctuation:#a8b1c2;--sp-syntax-color-definition:#62aeef;--sp-syntax-color-property:#d19a66;--sp-syntax-color-static:#a8b1c2;--sp-syntax-color-string:#98c379}}--sxs{--sxs:1 sp-k-eyOShd sp-k-iOHdLQ}@media{@keyframes sp-k-eyOShd{0%{opacity:0}100%{opacity:1}}@keyframes sp-k-iOHdLQ{0%{transform:rotateX(-25.5deg) rotateY(45deg)}100%{transform:rotateX(-25.5deg) rotateY(405deg)}}}--sxs{--sxs:2 sp-c-gMfcns sp-c-bxeRRt sp-c-hfoyCM sp-c-fWymNx sp-c-euXojQ sp-c-bpmgvy sp-c-PJLV sp-c-fVPbOs sp-c-gtcpyq sp-c-jOWzsE sp-c-jkvvao sp-c-juMdfR sp-c-fgviib sp-c-kwibBT}@media{.sp-c-gMfcns svg{margin:auto}.sp-c-bxeRRt{-webkit-appearance:none;appearance:none;outline:none;display:flex;align-items:center;font-size:inherit;font-family:inherit;background-color:transparent;transition:color var(--sp-transitions-default), background var(--sp-transitions-default);cursor:pointer;color:var(--sp-colors-clickable);border:0;text-decoration:none}.sp-c-bxeRRt:disabled{color:var(--sp-colors-disabled)}.sp-c-bxeRRt:hover:not(:disabled,[data-active='true']){color:var(--sp-colors-hover)}.sp-c-bxeRRt[data-active="true"]{color:var(--sp-colors-accent)}.sp-c-bxeRRt svg{min-width:var(--sp-space-4);width:var(--sp-space-4);height:var(--sp-space-4)}.sp-c-bxeRRt.sp-c-gMfcns{padding:var(--sp-space-1);height:var(--sp-space-7);display:flex}.sp-c-bxeRRt.sp-c-gMfcns.sp-c-bxeRRt:not(:has(span)){width:var(--sp-space-7)}.sp-c-bxeRRt.sp-c-gMfcns.sp-c-bxeRRt:has(svg + span){padding-right:var(--sp-space-3);padding-left:var(--sp-space-2);gap:var(--sp-space-1)}.sp-c-hfoyCM{padding:0 var(--sp-space-1) 0 var(--sp-space-1);border-radius:var(--sp-border-radius);margin-left:var(--sp-space-1);width:var(--sp-space-5);visibility:hidden}.sp-c-hfoyCM svg{width:var(--sp-space-3);height:var(--sp-space-3);display:block;position:relative;top:1px}.sp-c-fWymNx{margin:0;display:block;font-family:var(--sp-font-mono);font-size:var(--sp-font-size);color:var(--sp-syntax-color-plain);line-height:var(--sp-font-lineHeight)}.sp-c-euXojQ{display:flex;flex-direction:column;width:100%;position:relative;background-color:var(--sp-colors-surface1);gap:1px}.sp-c-euXojQ:has(.sp-stack){background-color:var(--sp-colors-surface2)}.sp-c-bpmgvy{transform:translate(-4px, 9px) scale(0.13, 0.13)}.sp-c-bpmgvy *{position:absolute;width:96px;height:96px}.sp-c-fVPbOs{all:initial;font-size:var(--sp-font-size);font-family:var(--sp-font-body);display:block;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-tap-highlight-color:transparent;-webkit-font-smoothing:subpixel-antialiased}@media screen and (min-resolution: 2dppx){.sp-c-fVPbOs{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}.sp-c-fVPbOs *{box-sizing:border-box}.sp-c-fVPbOs .sp-wrapper:focus{outline:0}.sp-c-gtcpyq{flex:1;position:relative;overflow:auto;background:var(--sp-colors-surface1)}.sp-c-gtcpyq .cm-scroller{padding:var(--sp-space-4) 0}.sp-c-gtcpyq .sp-c-fWymNx{padding:var(--sp-space-4) 0}@media screen and (max-width: 768px){@supports (-webkit-overflow-scrolling: touch){.sp-c-gtcpyq .cm-content{font-size:16px}}}.sp-c-jOWzsE{margin:0;outline:none;height:100%}.sp-c-jkvvao .sp-syntax-string{color:var(--sp-syntax-color-string);font-style:var(--sp-syntax-fontStyle-string)}.sp-c-jkvvao .sp-syntax-plain{color:var(--sp-syntax-color-plain);font-style:var(--sp-syntax-fontStyle-plain)}.sp-c-jkvvao .sp-syntax-comment{color:var(--sp-syntax-color-comment);font-style:var(--sp-syntax-fontStyle-comment)}.sp-c-jkvvao .sp-syntax-keyword{color:var(--sp-syntax-color-keyword);font-style:var(--sp-syntax-fontStyle-keyword)}.sp-c-jkvvao .sp-syntax-definition{color:var(--sp-syntax-color-definition);font-style:var(--sp-syntax-fontStyle-definition)}.sp-c-jkvvao .sp-syntax-punctuation{color:var(--sp-syntax-color-punctuation);font-style:var(--sp-syntax-fontStyle-punctuation)}.sp-c-jkvvao .sp-syntax-property{color:var(--sp-syntax-color-property);font-style:var(--sp-syntax-fontStyle-property)}.sp-c-jkvvao .sp-syntax-tag{color:var(--sp-syntax-color-tag);font-style:var(--sp-syntax-fontStyle-tag)}.sp-c-jkvvao .sp-syntax-static{color:var(--sp-syntax-color-static);font-style:var(--sp-syntax-fontStyle-static)}.sp-c-juMdfR{flex:1;display:flex;flex-direction:column;background:white;overflow:auto;position:relative}.sp-c-juMdfR .sp-bridge-frame{border:0;position:absolute;left:var(--sp-space-2);bottom:var(--sp-space-2);z-index:var(--sp-zIndices-top);height:12px;width:30%;mix-blend-mode:multiply;pointer-events:none}.sp-c-fgviib{border:0;outline:0;width:100%;height:100%;min-height:160px;max-height:2000px;flex:1}.sp-c-kwibBT{display:flex;position:absolute;bottom:var(--sp-space-2);right:var(--sp-space-2);z-index:var(--sp-zIndices-overlay);gap:var(--sp-space-2)}}--sxs{--sxs:3 sp-c-PJLV-kCOVwI-status-pass sp-c-PJLV-kEzYsr-status-fail sp-c-PJLV-gHAhSA-status-skip sp-c-PJLV-jgnHyR-status-title sp-c-PJLV-iCgxLS-status-run sp-c-PJLV-bnDZSy-status-pass sp-c-PJLV-eYuGwt-status-fail sp-c-fVPbOs-gMQIch-variant-light sp-c-fVPbOs-LrWkf-variant-dark}@media{.sp-c-PJLV-kCOVwI-status-pass{color:var(--test-pass)}.sp-c-PJLV-kEzYsr-status-fail{color:var(--test-fail)}.sp-c-PJLV-gHAhSA-status-skip{color:var(--test-skip)}.sp-c-PJLV-jgnHyR-status-title{color:var(--test-title)}.sp-c-PJLV-iCgxLS-status-run{background:var(--test-run);color:var(--sp-colors-surface1)}.sp-c-PJLV-bnDZSy-status-pass{background:var(--test-pass);color:var(--sp-colors-surface1)}.sp-c-PJLV-eYuGwt-status-fail{background:var(--test-fail);color:var(--sp-colors-surface1)}.sp-c-fVPbOs-gMQIch-variant-light{color-scheme:light}.sp-c-fVPbOs-LrWkf-variant-dark{color-scheme:dark}}</style> <link rel="stylesheet" href="/_astro/_id_.ubW0JEXm.css">
<link rel="stylesheet" href="/_astro/_id_.Ck7a8zcL.css"></head> <body class="relative flex h-full flex-col bg-background font-sans text-on-background [&_main]:my-6"> <script>
  // @ts-check
  const storedThemeChoice = window.localStorage.getItem('__theme') ?? 'system'

  window.__setTheme = setTheme
  // prettier-ignore
  window.__setTheme(/** @type {ThemeChoice} */ (storedThemeChoice))

  /**
   * @type {(themeChoice: ThemeChoice) => Promise<void>}
   */
  async function setTheme(themeChoice) {
    let theme = themeChoice

    if (themeChoice === 'system') {
      theme = window.matchMedia('(prefers-color-scheme: dark)').matches
        ? 'dark'
        : 'light'
    }

    const changeTheme = () => {
      document.body.classList.toggle('dark', theme === 'dark')
    }

    let viewTransition = null

    if (
      document.startViewTransition &&
      !document.documentElement.hasAttribute('data-notransition')
    ) {
      document.documentElement.setAttribute('data-notransition', '')

      const width = document.documentElement.clientWidth
      const height = document.documentElement.clientHeight
      const diagonal = Math.sqrt(width ** 2 + height ** 2)
      const circleRadius = height > width ? height : diagonal
      document.documentElement.style.setProperty(
        '--circle-radius',
        `${circleRadius}px`,
      )

      viewTransition = document.startViewTransition(() => {
        changeTheme()
      })
    } else {
      changeTheme()
    }

    window.localStorage.setItem('__theme', themeChoice)

    document.body.dispatchEvent(
      new CustomEvent('newTheme', {
        detail: {
          themeChoice,
          theme,
        },
      }),
    )

    if (viewTransition) {
      await viewTransition.finished
      document.documentElement.removeAttribute('data-notransition')
    }
  }

  window.addEventListener('storage', function (e) {
    const newTheme = e.newValue
    if (newTheme && newTheme && e.key === '__theme') {
      // prettier-ignore
      window.__setTheme(/** @type {ThemeChoice} */ (newTheme))
    }
  })

  window.addEventListener('load', function () {
    document.documentElement.removeAttribute('data-notransition')
  })
</script> <div class="w-full"> <div class="pt-nav-height sm:hidden"> <div class="h-nav-height fixed top-0 left-0 z-30 flex w-screen items-center justify-between rounded-none bg-background/90 backdrop-blur-xs px-horizontal-padding"> <div class="flex flex-row items-center gap-2 min-w-0"> <a href="/posts/" data-testid="parent-page-link" aria-label="Go back to previous page"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left "><path d="m15 18-6-6 6-6"></path></svg> </a> <h2 class="m-0 truncate font-sans font-normal">Deriving types from data in TypeScript - Phelipe Teles</h2> </div> <button type="button" class="hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 min-w-[40px] h-[40px] flex justify-center items-center rounded-full px-2 bg-transparent" data-a11y-dialog-show="sidenav" data-testid="open-sidenav" aria-label="Open navigation sidebar"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu "><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg> </button> </div> </div> <div class="hidden h-full w-full sm:block"> <div class="grid grid-cols-layout"> <div class="flex w-full items-center justify-between"> <div class="mx-auto flex w-full max-w-content justify-between"> <nav class="flex justify-between" aria-label="Main navigation"> <ul class="m-0 flex flex-row list-none gap-4"> <li class=""> <a id="about" href="/" class="py-2 inline-block h-full w-full group"> <span class="underline underline-offset-8 decoration-2 decoration-transparent group-hover:decoration-hover"> About </span> </a> </li><li class=""> <a id="posts" href="/posts/" class="py-2 inline-block h-full w-full group" aria-current="page"> <span class="underline underline-offset-8 decoration-2 decoration-primary group-hover:decoration-primary-hover"> Posts </span> </a> </li> </ul> </nav> <div class="flex flex-row items-center gap-2">  <div style="--gap:2px;--icon-size:24px;--select-padding:calc(var(--icon-size) + var(--gap) * 2)" class="h-[32px] rounded-sm items-center grid justify-between bg-surface shadow-xs shadow-shadow"> <select class="h-full sm:py-0 rounded-sm bg-inherit appearance-none text-center row-start-1 col-start-1 col-end-4 px-(--select-padding)" data-theme-select="true" aria-label="Choose a theme">  <option value="light">Light</option> <option value="dark">Dark</option> <option value="system">System</option>   </select> <span style="--svg-size:calc(var(--icon-size) - 8px)" class="col-span-1 col-start-1 row-start-1 flex items-center justify-center w-(--icon-size) h-(--icon-size) [&#38;_svg]:w-(--svg-size) [&#38;_svg]:h-(--svg-size) pointer-events-none">  <svg class="feather" viewBox="0 0 24 24" width="24" height="24"> <title>Theme icon</title> <defs> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon " id="moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun " id="sun"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-monitor " id="monitor"><rect width="20" height="14" x="2" y="3" rx="2"></rect><line x1="8" x2="16" y1="21" y2="21"></line><line x1="12" x2="12" y1="17" y2="21"></line></svg> </defs> <use data-theme-select-icon href="#monitor"></use> </svg>  </span> <span style="--svg-size:calc(var(--icon-size) - 8px)" class="justify-self-end row-start-1 col-start-3 col-span-1 flex items-center justify-center w-(--icon-size) h-(--icon-size) [&#38;_svg]:w-(--svg-size) [&#38;_svg]:h-(--svg-size) pointer-events-none">  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down "><path d="m6 9 6 6 6-6"></path></svg>  </span> </div> <script type="module">const i=document.querySelectorAll("[data-theme-select]");i?.forEach(e=>{const t=window.localStorage.getItem("__theme")??"system";s(t);const o=Array.from(e.options).find(n=>n.value===t);o&&o.setAttribute("selected",""),e.addEventListener("change",function(n){if(!n.target)return;const c=n.target.selectedOptions[0];c&&window.__setTheme(c.value)})});document.body.addEventListener("newTheme",function(e){const t=e.detail.themeChoice;s(t)});function s(e){const t={dark:"#moon",light:"#sun",system:"#monitor"}[e];i.forEach(o=>{o.parentElement?.querySelector("[data-theme-select-icon]")?.setAttribute("href",t)})}</script> </div> </div> </div> </div> </div> </div> <aside data-a11y-dialog="sidenav" aria-hidden="true" class="fixed z-50 h-full w-full" style="visibility: hidden;"> <div data-a11y-dialog-hide class="fixed inset-0 -z-1 w-full bg-neutral-700/75 backdrop-blur-xs"></div> <div role="document" class="ml-auto h-full flex flex-col w-3/4 rounded-none bg-background py-0 will-change-transform"> <div class="mb-2 flex h-nav-height items-center justify-end px-horizontal-padding"> <button type="button" data-a11y-dialog-hide="true" aria-label="Close" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 min-w-[40px] h-[40px] flex justify-center items-center rounded-full px-2"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x "><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg> </button> </div> <nav class="flex flex-col" aria-label="Main navigation"> <ul class="m-0 flex list-none flex-col items-center justify-center gap-2 px-horizontal-padding"> <li class="w-full"> <a id="about" href="/" class="flex items-center justify-center flex-row transition-colors duration-300 hover:bg-hover disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled rounded-sm whitespace-nowrap py-1 px-2 bg-surface text-on-background"><div class="pr-2"></div>About<div class="pl-2"></div></a> </li><li class="w-full"> <a id="posts" href="/posts/" aria-current="page" class="flex items-center justify-center flex-row transition-colors duration-300 disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled rounded-sm whitespace-nowrap py-1 px-2 bg-primary text-on-primary hover:bg-primary-hover shadow-xs shadow-shadow"><div class="pr-2"></div>Posts<div class="pl-2"></div></a> </li> </ul> </nav> <div class="flex flex-col gap-2 pb-4 mt-auto px-horizontal-padding"> <div style="--gap:2px;--icon-size:24px;--select-padding:calc(var(--icon-size) + var(--gap) * 2)" class="h-[32px] rounded-sm items-center grid justify-between bg-background"> <select class="h-full sm:py-0 rounded-sm bg-inherit appearance-none text-center row-start-1 col-start-1 col-end-4 px-(--select-padding)" data-language-select="true" aria-label="Choose a language">  <option selected value="en">English</option> <option value="pt">Português</option>   </select> <span style="--svg-size:calc(var(--icon-size) - 8px)" class="col-span-1 col-start-1 row-start-1 flex items-center justify-center w-(--icon-size) h-(--icon-size) [&#38;_svg]:w-(--svg-size) [&#38;_svg]:h-(--svg-size) pointer-events-none">  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-languages " slot="start-icon"><path d="m5 8 6 6"></path><path d="m4 14 6-6 2-3"></path><path d="M2 5h12"></path><path d="M7 2h1"></path><path d="m22 22-5-10-5 10"></path><path d="M14 18h6"></path></svg>  </span> <span style="--svg-size:calc(var(--icon-size) - 8px)" class="justify-self-end row-start-1 col-start-3 col-span-1 flex items-center justify-center w-(--icon-size) h-(--icon-size) [&#38;_svg]:w-(--svg-size) [&#38;_svg]:h-(--svg-size) pointer-events-none">  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down "><path d="m6 9 6 6 6-6"></path></svg>  </span> </div> <script type="module">const a=document.querySelectorAll("[data-language-select]");a?.forEach(e=>{e.addEventListener("change",function(){window.location.href=n()})});function n(){const e=window.location.pathname;let t=e;switch(e){case"/pt":t="/";break;case"/":t="/pt/";break;default:e.startsWith("/pt/")?t=e.replace("/pt/","/"):t="/pt"+e;break}return t}</script> <div style="--gap:2px;--icon-size:24px;--select-padding:calc(var(--icon-size) + var(--gap) * 2)" class="h-[32px] rounded-sm items-center grid justify-between bg-surface shadow-xs shadow-shadow"> <select class="h-full sm:py-0 rounded-sm bg-inherit appearance-none text-center row-start-1 col-start-1 col-end-4 px-(--select-padding)" data-theme-select="true" aria-label="Choose a theme">  <option value="light">Light</option> <option value="dark">Dark</option> <option value="system">System</option>   </select> <span style="--svg-size:calc(var(--icon-size) - 8px)" class="col-span-1 col-start-1 row-start-1 flex items-center justify-center w-(--icon-size) h-(--icon-size) [&#38;_svg]:w-(--svg-size) [&#38;_svg]:h-(--svg-size) pointer-events-none">  <svg class="feather" viewBox="0 0 24 24" width="24" height="24"> <title>Theme icon</title> <defs> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon " id="moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun " id="sun"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-monitor " id="monitor"><rect width="20" height="14" x="2" y="3" rx="2"></rect><line x1="8" x2="16" y1="21" y2="21"></line><line x1="12" x2="12" y1="17" y2="21"></line></svg> </defs> <use data-theme-select-icon href="#monitor"></use> </svg>  </span> <span style="--svg-size:calc(var(--icon-size) - 8px)" class="justify-self-end row-start-1 col-start-3 col-span-1 flex items-center justify-center w-(--icon-size) h-(--icon-size) [&#38;_svg]:w-(--svg-size) [&#38;_svg]:h-(--svg-size) pointer-events-none">  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down "><path d="m6 9 6 6 6-6"></path></svg>  </span> </div>  </div> </div> </aside> <script type="module" src="/_astro/SideNav.astro_astro_type_script_index_0_lang.DwDLKeHA.js"></script>   <main class="grid grid-cols-layout"> <div class="sm:col-content px-0"> <article> <header class="flex flex-col"> <h1 class="mb-4 text-4xl max-w-prose"> Deriving types from data in TypeScript </h1> <div class="mb-4 flex gap-2 flex-row flex-wrap"> <div class="flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" width="1.25em" height="1.25em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar shrink-0"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg> <time datetime="2023-04-02"> April 02, 2023 </time> </div> <div class="flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" width="1.25em" height="1.25em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-timer shrink-0"><line x1="10" x2="14" y1="2" y2="2"></line><line x1="12" x2="15" y1="14" y2="11"></line><circle cx="12" cy="14" r="8"></circle></svg> <div>2 min.</div> </div> <a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover flex flex-row gap-2 items-center shrink-0" target="_blank" href="https://github.com/phelipetls/blog/blob/master/src/content/posts/deriving-types-from-data-typescript/index.mdx"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-code2 "><path d="M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"></path><polyline points="14 2 14 8 20 8"></polyline><path d="m9 18 3-3-3-3"></path><path d="m5 12-3 3 3 3"></path></svg> Source code</a> </div> <div class="mb-4 flex max-w-xl flex-wrap gap-2"> <a class="inline-flex gap-2 w-fit items-center justify-center rounded-full border border-divider bg-surface px-4 no-underline shadow-xs shadow-shadow transition-colors duration-300 hover:border-divider hover:bg-hover whitespace-nowrap order-1" href="/tags/typescript/"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> typescript  </a> <a class="inline-flex gap-2 w-fit items-center justify-center rounded-full border border-divider bg-surface px-4 no-underline shadow-xs shadow-shadow transition-colors duration-300 hover:border-divider hover:bg-hover whitespace-nowrap order-2" href="/tags/">  ...  </a> </div> </header> <hr class="my-8"> <div data-blog-post-container data-toc="open" class="group flex flex-col lg:gap-8 lg:flex-row-reverse"> <aside style="--offset-from-top:1rem" class="relative shrink-0 mb-8 lg:ml-auto lg:mb-0 lg:basis-1/3 lg:sticky lg:top-(--offset-from-top) lg:h-[calc(100vh-var(--offset-from-top)*2)] overflow-hidden"> <button type="button" data-toggle-toc="true" data-open-toc-label="Open table of contents" data-closed-toc-label="Close table of contents" aria-label="Close table of contents" style="--duration:150ms" data-preload="true" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary duration-300 min-w-[40px] h-[40px] justify-center items-center rounded-full px-2 z-1 absolute top-4 right-4 hidden lg:grid lg:min-w-0 lg:group-data-toc-open:grid-cols-[0fr_max-content] lg:group-data-toc-closed:grid-cols-[1fr_max-content] transition-all duration-(--duration) ease-in-out lg:justify-center"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x col-start-2 col-end-2 row-start-1 row-end-1 scale-0 transition-transform duration-(--duration) ease-out group-data-toc-open:scale-100 group-data-toc-open:delay-(--duration)"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list col-start-2 col-end-2 row-start-1 row-end-1 scale-0 transition-transform duration-(--duration) ease-in group-data-toc-closed:scale-100 group-data-toc-closed:delay-[var(--duration)"><line x1="8" x2="21" y1="6" y2="6"></line><line x1="8" x2="21" y1="12" y2="12"></line><line x1="8" x2="21" y1="18" y2="18"></line><line x1="3" x2="3.01" y1="6" y2="6"></line><line x1="3" x2="3.01" y1="12" y2="12"></line><line x1="3" x2="3.01" y1="18" y2="18"></line></svg> <div class="col-start-1 col-end-1 group-data-toc-closed:mx-2 truncate"> Open table of contents </div> </button> <div data-blog-post-toc-container data-preload class="card lg:h-full lg:p-4 lg:ml-auto lg:opacity-100 lg:group-data-toc-closed:opacity-0 lg:group-data-toc-closed:pointer-events-none transition-opacity duration-300 ease-in-out"> <div class="hidden lg:flex lg:h-full lg:flex-col"> <div class="flex items-center gap-2 h-10 flex-none"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list "><line x1="8" x2="21" y1="6" y2="6"></line><line x1="8" x2="21" y1="12" y2="12"></line><line x1="8" x2="21" y1="18" y2="18"></line><line x1="3" x2="3.01" y1="6" y2="6"></line><line x1="3" x2="3.01" y1="12" y2="12"></line><line x1="3" x2="3.01" y1="18" y2="18"></line></svg> <h2 class="m-0">Table of Contents</h2> <div class="ml-auto flex items-center transition-transform duration-150 ease-in group-open:rotate-180 lg:hidden"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down "><path d="m6 9 6 6 6-6"></path></svg> </div> </div> <nav data-toc-wrapper class="pt-4 h-full min-h-0 lg:overflow-y-auto [&#38;_a_*]:indent-0 [&#38;_ol]:m-0 [&#38;_ol]:list-none [&#38;_ol]:indent-4 [&#38;_ol_li[data-active]>a]:text-primary [&#38;_ol_li[data-active]]:before:bg-primary [&#38;_ol_li]:relative [&#38;_ol_li]:before:absolute [&#38;_ol_li]:before:left-0 [&#38;_ol_li]:before:top-0 [&#38;_ol_li]:before:h-full [&#38;_ol_li]:before:w-px [&#38;_ol_li]:before:bg-divider [&#38;_ol_li]:before:content-[''] [&#38;_ol_li_a:hover]:bg-hover [&#38;_ol_li_a]:block [&#38;_ol_li_a]:truncate [&#38;_ol_li_a]:border-b-0 [&#38;_ol_li_a]:transition-colors [&#38;_ol_li_a]:duration-300 [&#38;_ol_ol]:indent-8 [&#38;_ol_ol_ol]:indent-12 [&#38;_ol_ol_ol_ol]:indent-16"> <ol data-astro-toc="1"><li data-astro-toc="1"> <a href="#typeof-operator">typeof operator</a>  </li><li data-astro-toc="1"> <a href="#const-vs-let">const vs let</a>  </li><li data-astro-toc="1"> <a href="#const-assertions">const assertions</a>  </li><li data-astro-toc="1"> <a href="#deriving-types-from-arrays">Deriving types from arrays</a>  </li><li data-astro-toc="1"> <a href="#deriving-types-from-objects">Deriving types from objects</a>  </li><li data-astro-toc="1"> <a href="#deriving-types-from-array-of-objects">Deriving types from array of objects</a>  </li></ol> </nav> </div> <details class="group px-horizontal-padding py-4 lg:hidden" aria-label="Table of Contents"> <summary class="list-none"> <div class="flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list "><line x1="8" x2="21" y1="6" y2="6"></line><line x1="8" x2="21" y1="12" y2="12"></line><line x1="8" x2="21" y1="18" y2="18"></line><line x1="3" x2="3.01" y1="6" y2="6"></line><line x1="3" x2="3.01" y1="12" y2="12"></line><line x1="3" x2="3.01" y1="18" y2="18"></line></svg> <h2 class="m-0">Table of Contents</h2> <div class="flex items-center ml-auto transition-transform duration-150 ease-in group-open:rotate-180 lg:hidden"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down "><path d="m6 9 6 6 6-6"></path></svg> </div> </div> </summary> <nav data-toc-wrapper class="mt-4 [&#38;_ol]:m-0 [&#38;_ol]:list-outside [&#38;_ol]:px-horizontal-padding [&#38;_ol_li:not(:first-child)]:mt-1"> <ol data-astro-toc="1"><li data-astro-toc="1"> <a href="#typeof-operator">typeof operator</a>  </li><li data-astro-toc="1"> <a href="#const-vs-let">const vs let</a>  </li><li data-astro-toc="1"> <a href="#const-assertions">const assertions</a>  </li><li data-astro-toc="1"> <a href="#deriving-types-from-arrays">Deriving types from arrays</a>  </li><li data-astro-toc="1"> <a href="#deriving-types-from-objects">Deriving types from objects</a>  </li><li data-astro-toc="1"> <a href="#deriving-types-from-array-of-objects">Deriving types from array of objects</a>  </li></ol> </nav> </details> <script type="module">const s=document.querySelector("nav[data-toc-wrapper] ol"),o=s?.closest("[data-toc-wrapper]"),l=document.querySelector("[data-blog-post]"),a=s?.querySelector("li");function u(t){t.setAttribute("data-active","")}function d(t){t.removeAttribute("data-active")}function f(){s?.querySelectorAll("li").forEach(d)}function g(t){const e=t.getAttribute("id"),c=s?.querySelector(`li a[href="#${e}"]`);return c?c.closest("li"):null}const h=new IntersectionObserver(t=>{t.forEach(e=>{if(!o)return;const c=e.target;if(e.isIntersecting){const n=g(c);if(!n)return;f(),u(n);const r=o.getBoundingClientRect(),i=n.getBoundingClientRect();if(n===a){o.scrollTop=0;return}if(r.top>i.top){o.scrollTop-=r.top-i.top;return}i.bottom>r.bottom&&(o.scrollTop+=i.bottom-r.bottom)}})},{threshold:1}),m=l.querySelectorAll("h2, h3, h4, h4, h6");for(const t of m)h.observe(t);</script> </div> </aside> <div data-blog-post class="min-w-0 [&#38;>pre]:my-8 max-sm:[&#38;>pre]:full-bleed *:data-codeblock:my-8 max-sm:*:data-codeblock:full-bleed max-sm:[&#38;>[data-codeblock]_pre]:rounded-none max-sm:[&#38;>[data-codeblock]_[data-codeblock-header]]:rounded-none [&#38;>hr]:border-0 [&#38;>hr]:text-center [&#38;>hr]:after:content-['⁂'] max-sm:[&#38;>figure]:full-bleed [&#38;>astro-island>div]:my-8 [&#38;>lite-youtube]:my-8 [&#38;>blockquote]:my-8 [&#38;>figure_video]:min-h-[15em] [&#38;_.katex-display]:max-w-prose [&#38;_.katex-display]:overflow-x-auto [&#38;_.katex-display]:overflow-y-hidden"> <p class="max-w-prose">A TypeScript pattern I like to use is to derive types from data. Types in
TypeScript only exist at build time, so this pattern has the benefit of types
being automatically linked to the runtime values they represent.</p>
<p class="max-w-prose">Here’s one example of what I mean by that:</p>
<div data-codeblock class="last:mb-0 max-w-2xl text-sm [&#38;_>_pre]:shadow-xs [&#38;_>_pre]:shadow-shadow [&#38;_>_pre]:rounded-b [&#38;_>_pre]:overflow-x-auto [&#38;_>_pre]:scheme-dark [&#38;_>_pre_>_code]:py-4 [&#38;_>_pre_>_code]:grid [&#38;_.line]:px-horizontal-padding [&#38;_.line]:border-l-2 [&#38;_.line]:border-(--code-bg) [&#38;_.line]:min-h-[1lh] [&#38;_.line]:empty:last:min-h-0 [&#38;_.line.highlighted]:bg-[#272115] [&#38;_.line.highlighted]:border-[#624710] [&#38;_.twoslash-query-line]:px-horizontal-padding [&#38;_.twoslash-error-line]:border-l-2 [&#38;_.twoslash-error-line]:border-(--code-bg) [&#38;_.twoslash-error-line]:py-1 [&#38;_.twoslash-error-line]:px-4 [&#38;_.twoslash-error-line]:bg-[#d4565620] [&#38;_.twoslash-error-line]:text-[#d45656] [&#38;_.twoslash-error-line]:border-[#d45656] [&#38;_.twoslash-popup-arrow]:bg-(--code-bg) [&#38;_.twoslash-popup-container]:bg-(--code-bg)" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div data-codeblock-header class="dark flex items-center gap-2 rounded-t py-1 bg-(--code-bg) text-(--code-fg) border-b border-divider" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div class="flex pl-horizontal-padding items-center gap-2" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> <div class="rtl truncate text-lg" style="--code-bg: #282c34;--code-fg: #abb2bf;"> TypeScript </div> </div> <div class="ml-auto flex flex-row gap-2 pr-2" style="--code-bg: #282c34;--code-fg: #abb2bf;">  <astro-island uid="1bTtdN" prefix="r52" component-url="/_astro/CopyCodeBlockButton.CunNfTy3.js" component-export="default" renderer-url="/_astro/client.BXosma6P.js" props="{&quot;successText&quot;:[0,&quot;Copied!&quot;],&quot;errorText&quot;:[0,&quot;Failed to copy&quot;],&quot;code&quot;:[0,&quot;const options = [&#39;OPTION_1&#39;, &#39;OPTION_2&#39;] as const\ntype Option = (typeof options)[number]\n//   ^?&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;CopyCodeBlockButton&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Copy code" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 rounded-sm border border-divider p-1 shadow-xs shadow-shadow"><span class="text-(--code-fg)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard "><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></span></button><!--astro:end--></astro-island> </div> </div> <pre class="shiki one-dark-pro twoslash lsp" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">options<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> options</span><span style="color:#ABB2BF">: </span><span style="color:#C678DD">readonly</span><span style="color:#ABB2BF"> [</span><span style="color:#98C379">"OPTION_1"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"OPTION_2"</span><span style="color:#ABB2BF">]</span></code></div></template></span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> [</span><span style="color:#98C379">'OPTION_1'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'OPTION_2'</span><span style="color:#ABB2BF">] </span><span style="color:#C678DD">as</span><span style="color:#C678DD"> </span><span style="color:#C678DD"><span class="twoslash-hover">const<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> const</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> readonly</span><span style="color:#ABB2BF"> [</span><span style="color:#98C379">"OPTION_1"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"OPTION_2"</span><span style="color:#ABB2BF">]</span></code></div></template></span></span></span>
<span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">Option</span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> (</span><span style="color:#C678DD">typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">options<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> options</span><span style="color:#ABB2BF">: </span><span style="color:#C678DD">readonly</span><span style="color:#ABB2BF"> [</span><span style="color:#98C379">"OPTION_1"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"OPTION_2"</span><span style="color:#ABB2BF">]</span></code></div></template></span></span><span style="color:#ABB2BF">)[</span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">]</span></span><div class="twoslash-meta-line twoslash-query-line">      <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> Option</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "OPTION_1"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"OPTION_2"</span></code></span></div><span class="line"></span></code></pre> </div> <script type="module" src="/_astro/CodeBlock.astro_astro_type_script_index_0_lang.CZ7V3yCn.js"></script>
<h2 id="typeof-operator" class="mb-8 mt-4 pt-4 [&#38;_a]:text-primary [&#38;_a]:border-0 [&#38;_a]:before:content-['#'] [&#38;_a]:before:text-xl [&#38;_a]:before:ml-2">  <code>typeof</code> operator<a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" aria-hidden="true" tabindex="-1" href="#typeof-operator"><span class="icon icon-link"></span></a>  </h2>
<p class="max-w-prose">The heart of this pattern is the <a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" href="https://www.typescriptlang.org/docs/handbook/2/typeof-types.html#the-typeof-type-operator"><code>typeof</code>
operator</a>,
which gives us the type of a variable, for example:</p>
<div data-codeblock class="last:mb-0 max-w-2xl text-sm [&#38;_>_pre]:shadow-xs [&#38;_>_pre]:shadow-shadow [&#38;_>_pre]:rounded-b [&#38;_>_pre]:overflow-x-auto [&#38;_>_pre]:scheme-dark [&#38;_>_pre_>_code]:py-4 [&#38;_>_pre_>_code]:grid [&#38;_.line]:px-horizontal-padding [&#38;_.line]:border-l-2 [&#38;_.line]:border-(--code-bg) [&#38;_.line]:min-h-[1lh] [&#38;_.line]:empty:last:min-h-0 [&#38;_.line.highlighted]:bg-[#272115] [&#38;_.line.highlighted]:border-[#624710] [&#38;_.twoslash-query-line]:px-horizontal-padding [&#38;_.twoslash-error-line]:border-l-2 [&#38;_.twoslash-error-line]:border-(--code-bg) [&#38;_.twoslash-error-line]:py-1 [&#38;_.twoslash-error-line]:px-4 [&#38;_.twoslash-error-line]:bg-[#d4565620] [&#38;_.twoslash-error-line]:text-[#d45656] [&#38;_.twoslash-error-line]:border-[#d45656] [&#38;_.twoslash-popup-arrow]:bg-(--code-bg) [&#38;_.twoslash-popup-container]:bg-(--code-bg)" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div data-codeblock-header class="dark flex items-center gap-2 rounded-t py-1 bg-(--code-bg) text-(--code-fg) border-b border-divider" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div class="flex pl-horizontal-padding items-center gap-2" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> <div class="rtl truncate text-lg" style="--code-bg: #282c34;--code-fg: #abb2bf;"> TypeScript </div> </div> <div class="ml-auto flex flex-row gap-2 pr-2" style="--code-bg: #282c34;--code-fg: #abb2bf;">  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1mlSwf" prefix="r44" component-url="/_astro/CopyCodeBlockButton.CunNfTy3.js" component-export="default" renderer-url="/_astro/client.BXosma6P.js" props="{&quot;successText&quot;:[0,&quot;Copied!&quot;],&quot;errorText&quot;:[0,&quot;Failed to copy&quot;],&quot;code&quot;:[0,&quot;const hello = \&quot;hello\&quot;;\ntype Hello = typeof hello;\n//   ^?&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;CopyCodeBlockButton&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Copy code" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 rounded-sm border border-divider p-1 shadow-xs shadow-shadow"><span class="text-(--code-fg)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard "><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></span></button><!--astro:end--></astro-island> </div> </div> <pre class="shiki one-dark-pro twoslash lsp" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">hello<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> hello</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"hello"</span></code></div></template></span></span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "hello"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">Hello</span></span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">hello<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> hello</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"hello"</span></code></div></template></span></span><span style="color:#ABB2BF">;</span></span><div class="twoslash-meta-line twoslash-query-line">     <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> Hello</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "hello"</span></code></span></div><span class="line"></span></code></pre> </div> 
<h2 id="const-vs-let" class="mb-8 mt-4 pt-4 [&#38;_a]:text-primary [&#38;_a]:border-0 [&#38;_a]:before:content-['#'] [&#38;_a]:before:text-xl [&#38;_a]:before:ml-2">  <code>const</code> vs <code>let</code><a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" aria-hidden="true" tabindex="-1" href="#const-vs-let"><span class="icon icon-link"></span></a>  </h2>
<p class="max-w-prose">The result of <code>typeof</code> will differ depending on how we declare our variable —
whether we used <code>const</code> or <code>let</code>.</p>
<p class="max-w-prose">As you could see, when we used <code>const</code>, the <code>Hello</code> type was the literal string
<code>&quot;hello&quot;</code> — this is because a <code>const</code> variable can never be re-assigned later,
so it can only be <code>&quot;hello</code>” at runtime as well.</p>
<p class="max-w-prose">What happens if we use <code>let</code>?</p>
<div data-codeblock class="last:mb-0 max-w-2xl text-sm [&#38;_>_pre]:shadow-xs [&#38;_>_pre]:shadow-shadow [&#38;_>_pre]:rounded-b [&#38;_>_pre]:overflow-x-auto [&#38;_>_pre]:scheme-dark [&#38;_>_pre_>_code]:py-4 [&#38;_>_pre_>_code]:grid [&#38;_.line]:px-horizontal-padding [&#38;_.line]:border-l-2 [&#38;_.line]:border-(--code-bg) [&#38;_.line]:min-h-[1lh] [&#38;_.line]:empty:last:min-h-0 [&#38;_.line.highlighted]:bg-[#272115] [&#38;_.line.highlighted]:border-[#624710] [&#38;_.twoslash-query-line]:px-horizontal-padding [&#38;_.twoslash-error-line]:border-l-2 [&#38;_.twoslash-error-line]:border-(--code-bg) [&#38;_.twoslash-error-line]:py-1 [&#38;_.twoslash-error-line]:px-4 [&#38;_.twoslash-error-line]:bg-[#d4565620] [&#38;_.twoslash-error-line]:text-[#d45656] [&#38;_.twoslash-error-line]:border-[#d45656] [&#38;_.twoslash-popup-arrow]:bg-(--code-bg) [&#38;_.twoslash-popup-container]:bg-(--code-bg)" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div data-codeblock-header class="dark flex items-center gap-2 rounded-t py-1 bg-(--code-bg) text-(--code-fg) border-b border-divider" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div class="flex pl-horizontal-padding items-center gap-2" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> <div class="rtl truncate text-lg" style="--code-bg: #282c34;--code-fg: #abb2bf;"> TypeScript </div> </div> <div class="ml-auto flex flex-row gap-2 pr-2" style="--code-bg: #282c34;--code-fg: #abb2bf;">  <astro-island uid="ZBTc3x" prefix="r45" component-url="/_astro/CopyCodeBlockButton.CunNfTy3.js" component-export="default" renderer-url="/_astro/client.BXosma6P.js" props="{&quot;successText&quot;:[0,&quot;Copied!&quot;],&quot;errorText&quot;:[0,&quot;Failed to copy&quot;],&quot;code&quot;:[0,&quot;let hello = \&quot;hello\&quot;;\ntype Hello = typeof hello;\n//   ^?\n\nhello = &#39;Hello&#39;&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;CopyCodeBlockButton&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Copy code" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 rounded-sm border border-divider p-1 shadow-xs shadow-shadow"><span class="text-(--code-fg)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard "><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></span></button><!--astro:end--></astro-island> </div> </div> <pre class="shiki one-dark-pro twoslash lsp" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">let</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">hello<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">let</span><span style="color:#E06C75"> hello</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span></code></div></template></span></span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "hello"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">Hello</span></span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">hello<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">let</span><span style="color:#E06C75"> hello</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span></code></div></template></span></span><span style="color:#ABB2BF">;</span></span><div class="twoslash-meta-line twoslash-query-line">     <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> Hello</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> string</span></code></span></div><span class="line"></span>
<span class="line"><span style="color:#E06C75"><span class="twoslash-hover">hello<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">let</span><span style="color:#E06C75"> hello</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span></code></div></template></span></span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> 'Hello'</span></span></code></pre> </div> 
<p class="max-w-prose">The <code>Hello</code> type gets
<a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" href="https://mariusschulz.com/blog/literal-type-widening-in-typescript">“widened”</a>
to the <code>string</code> type — because now the variable can be re-assigned to any
other value of type <code>string</code> in another part of the program!</p>
<h2 id="const-assertions" class="mb-8 mt-4 pt-4 [&#38;_a]:text-primary [&#38;_a]:border-0 [&#38;_a]:before:content-['#'] [&#38;_a]:before:text-xl [&#38;_a]:before:ml-2">  <code>const</code> assertions<a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" aria-hidden="true" tabindex="-1" href="#const-assertions"><span class="icon icon-link"></span></a>  </h2>
<p class="max-w-prose">We could achieve the same effect of using <code>const</code> with a <code>const</code> assertion:</p>
<div data-codeblock class="last:mb-0 max-w-2xl text-sm [&#38;_>_pre]:shadow-xs [&#38;_>_pre]:shadow-shadow [&#38;_>_pre]:rounded-b [&#38;_>_pre]:overflow-x-auto [&#38;_>_pre]:scheme-dark [&#38;_>_pre_>_code]:py-4 [&#38;_>_pre_>_code]:grid [&#38;_.line]:px-horizontal-padding [&#38;_.line]:border-l-2 [&#38;_.line]:border-(--code-bg) [&#38;_.line]:min-h-[1lh] [&#38;_.line]:empty:last:min-h-0 [&#38;_.line.highlighted]:bg-[#272115] [&#38;_.line.highlighted]:border-[#624710] [&#38;_.twoslash-query-line]:px-horizontal-padding [&#38;_.twoslash-error-line]:border-l-2 [&#38;_.twoslash-error-line]:border-(--code-bg) [&#38;_.twoslash-error-line]:py-1 [&#38;_.twoslash-error-line]:px-4 [&#38;_.twoslash-error-line]:bg-[#d4565620] [&#38;_.twoslash-error-line]:text-[#d45656] [&#38;_.twoslash-error-line]:border-[#d45656] [&#38;_.twoslash-popup-arrow]:bg-(--code-bg) [&#38;_.twoslash-popup-container]:bg-(--code-bg)" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div data-codeblock-header class="dark flex items-center gap-2 rounded-t py-1 bg-(--code-bg) text-(--code-fg) border-b border-divider" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div class="flex pl-horizontal-padding items-center gap-2" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> <div class="rtl truncate text-lg" style="--code-bg: #282c34;--code-fg: #abb2bf;"> TypeScript </div> </div> <div class="ml-auto flex flex-row gap-2 pr-2" style="--code-bg: #282c34;--code-fg: #abb2bf;">  <astro-island uid="1PFsl3" prefix="r46" component-url="/_astro/CopyCodeBlockButton.CunNfTy3.js" component-export="default" renderer-url="/_astro/client.BXosma6P.js" props="{&quot;successText&quot;:[0,&quot;Copied!&quot;],&quot;errorText&quot;:[0,&quot;Failed to copy&quot;],&quot;code&quot;:[0,&quot;let hello = \&quot;hello\&quot; as const;\ntype Hello = typeof hello;\n//   ^?\n\n// @errors: 2322\nhello = &#39;Hello&#39;&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;CopyCodeBlockButton&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Copy code" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 rounded-sm border border-divider p-1 shadow-xs shadow-shadow"><span class="text-(--code-fg)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard "><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></span></button><!--astro:end--></astro-island> </div> </div> <pre class="shiki one-dark-pro twoslash lsp" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line highlighted"><span style="color:#C678DD">let</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">hello<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">let</span><span style="color:#E06C75"> hello</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"hello"</span></code></div></template></span></span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "hello"</span><span style="color:#C678DD"> as</span><span style="color:#C678DD"> </span><span style="color:#C678DD"><span class="twoslash-hover">const<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> const</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "hello"</span></code></div></template></span></span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">Hello</span></span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">hello<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">let</span><span style="color:#E06C75"> hello</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"hello"</span></code></div></template></span></span><span style="color:#ABB2BF">;</span></span><div class="twoslash-meta-line twoslash-query-line">     <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> Hello</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "hello"</span></code></span></div><span class="line"></span>
<span class="line"><span class="twoslash-error"><span style="color:#E06C75">hello</span></span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> 'Hello'</span></span><div class="twoslash-meta-line twoslash-error-line">Type '"Hello"' is not assignable to type '"hello"'.</div></code></pre> </div> 
<p class="max-w-prose">We’ll often use <code>const</code> assertions to prevent type widening when deriving types
from data — i.e., avoiding a more specific (narrower) type being changed to a
more general (widened) type, such as a <code>0</code> being changed to a <code>number</code> and a
<code>&quot;hello&quot;</code> being changed to <code>string</code>.</p>
<h2 id="deriving-types-from-arrays" class="mb-8 mt-4 pt-4 [&#38;_a]:text-primary [&#38;_a]:border-0 [&#38;_a]:before:content-['#'] [&#38;_a]:before:text-xl [&#38;_a]:before:ml-2">  Deriving types from arrays<a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" aria-hidden="true" tabindex="-1" href="#deriving-types-from-arrays"><span class="icon icon-link"></span></a>  </h2>
<p class="max-w-prose">Suppose we have an array of strings and we want a type that is an union of the
array values.</p>
<div data-codeblock class="last:mb-0 max-w-2xl text-sm [&#38;_>_pre]:shadow-xs [&#38;_>_pre]:shadow-shadow [&#38;_>_pre]:rounded-b [&#38;_>_pre]:overflow-x-auto [&#38;_>_pre]:scheme-dark [&#38;_>_pre_>_code]:py-4 [&#38;_>_pre_>_code]:grid [&#38;_.line]:px-horizontal-padding [&#38;_.line]:border-l-2 [&#38;_.line]:border-(--code-bg) [&#38;_.line]:min-h-[1lh] [&#38;_.line]:empty:last:min-h-0 [&#38;_.line.highlighted]:bg-[#272115] [&#38;_.line.highlighted]:border-[#624710] [&#38;_.twoslash-query-line]:px-horizontal-padding [&#38;_.twoslash-error-line]:border-l-2 [&#38;_.twoslash-error-line]:border-(--code-bg) [&#38;_.twoslash-error-line]:py-1 [&#38;_.twoslash-error-line]:px-4 [&#38;_.twoslash-error-line]:bg-[#d4565620] [&#38;_.twoslash-error-line]:text-[#d45656] [&#38;_.twoslash-error-line]:border-[#d45656] [&#38;_.twoslash-popup-arrow]:bg-(--code-bg) [&#38;_.twoslash-popup-container]:bg-(--code-bg)" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div data-codeblock-header class="dark flex items-center gap-2 rounded-t py-1 bg-(--code-bg) text-(--code-fg) border-b border-divider" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div class="flex pl-horizontal-padding items-center gap-2" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> <div class="rtl truncate text-lg" style="--code-bg: #282c34;--code-fg: #abb2bf;"> TypeScript </div> </div> <div class="ml-auto flex flex-row gap-2 pr-2" style="--code-bg: #282c34;--code-fg: #abb2bf;">  <astro-island uid="Fev48" prefix="r47" component-url="/_astro/CopyCodeBlockButton.CunNfTy3.js" component-export="default" renderer-url="/_astro/client.BXosma6P.js" props="{&quot;successText&quot;:[0,&quot;Copied!&quot;],&quot;errorText&quot;:[0,&quot;Failed to copy&quot;],&quot;code&quot;:[0,&quot;const arr = [&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;] as const\ntype ArrayValue = (typeof arr)[number]\n//   ^?&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;CopyCodeBlockButton&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Copy code" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 rounded-sm border border-divider p-1 shadow-xs shadow-shadow"><span class="text-(--code-fg)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard "><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></span></button><!--astro:end--></astro-island> </div> </div> <pre class="shiki one-dark-pro twoslash lsp" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">arr<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> arr</span><span style="color:#ABB2BF">: </span><span style="color:#C678DD">readonly</span><span style="color:#ABB2BF"> [</span><span style="color:#98C379">"foo"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"bar"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"baz"</span><span style="color:#ABB2BF">]</span></code></div></template></span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> [</span><span style="color:#98C379">'foo'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'bar'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'baz'</span><span style="color:#ABB2BF">] </span><span style="color:#C678DD">as</span><span style="color:#C678DD"> </span><span style="color:#C678DD"><span class="twoslash-hover">const<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> const</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> readonly</span><span style="color:#ABB2BF"> [</span><span style="color:#98C379">"foo"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"bar"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"baz"</span><span style="color:#ABB2BF">]</span></code></div></template></span></span></span>
<span class="line highlighted"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">ArrayValue</span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> (</span><span style="color:#C678DD">typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">arr<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> arr</span><span style="color:#ABB2BF">: </span><span style="color:#C678DD">readonly</span><span style="color:#ABB2BF"> [</span><span style="color:#98C379">"foo"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"bar"</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">"baz"</span><span style="color:#ABB2BF">]</span></code></div></template></span></span><span style="color:#ABB2BF">)[</span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">]</span></span><div class="twoslash-meta-line twoslash-query-line">        <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> ArrayValue</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "foo"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"bar"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"baz"</span></code></span></div><span class="line"></span></code></pre> </div> 
<p class="max-w-prose">The result of <code>typeof arr</code> is just an array type, the trick here is to use
<code>number</code> to index that array — it’s like saying, what are all the possible
types when I index this array by a <code>number</code>?</p>
<p class="max-w-prose">The <code>const</code> assertion is critical here — if we remove it, the type gets
widened to <code>string</code>.</p>
<div data-codeblock class="last:mb-0 max-w-2xl text-sm [&#38;_>_pre]:shadow-xs [&#38;_>_pre]:shadow-shadow [&#38;_>_pre]:rounded-b [&#38;_>_pre]:overflow-x-auto [&#38;_>_pre]:scheme-dark [&#38;_>_pre_>_code]:py-4 [&#38;_>_pre_>_code]:grid [&#38;_.line]:px-horizontal-padding [&#38;_.line]:border-l-2 [&#38;_.line]:border-(--code-bg) [&#38;_.line]:min-h-[1lh] [&#38;_.line]:empty:last:min-h-0 [&#38;_.line.highlighted]:bg-[#272115] [&#38;_.line.highlighted]:border-[#624710] [&#38;_.twoslash-query-line]:px-horizontal-padding [&#38;_.twoslash-error-line]:border-l-2 [&#38;_.twoslash-error-line]:border-(--code-bg) [&#38;_.twoslash-error-line]:py-1 [&#38;_.twoslash-error-line]:px-4 [&#38;_.twoslash-error-line]:bg-[#d4565620] [&#38;_.twoslash-error-line]:text-[#d45656] [&#38;_.twoslash-error-line]:border-[#d45656] [&#38;_.twoslash-popup-arrow]:bg-(--code-bg) [&#38;_.twoslash-popup-container]:bg-(--code-bg)" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div data-codeblock-header class="dark flex items-center gap-2 rounded-t py-1 bg-(--code-bg) text-(--code-fg) border-b border-divider" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div class="flex pl-horizontal-padding items-center gap-2" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> <div class="rtl truncate text-lg" style="--code-bg: #282c34;--code-fg: #abb2bf;"> TypeScript </div> </div> <div class="ml-auto flex flex-row gap-2 pr-2" style="--code-bg: #282c34;--code-fg: #abb2bf;">  <astro-island uid="ZaJNtI" prefix="r48" component-url="/_astro/CopyCodeBlockButton.CunNfTy3.js" component-export="default" renderer-url="/_astro/client.BXosma6P.js" props="{&quot;successText&quot;:[0,&quot;Copied!&quot;],&quot;errorText&quot;:[0,&quot;Failed to copy&quot;],&quot;code&quot;:[0,&quot;const arr = [&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;]\ntype ArrayValue = (typeof arr)[number]\n//   ^?&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;CopyCodeBlockButton&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Copy code" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 rounded-sm border border-divider p-1 shadow-xs shadow-shadow"><span class="text-(--code-fg)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard "><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></span></button><!--astro:end--></astro-island> </div> </div> <pre class="shiki one-dark-pro twoslash lsp" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line highlighted"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">arr<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> arr</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">[]</span></code></div></template></span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> [</span><span style="color:#98C379">'foo'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'bar'</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">'baz'</span><span style="color:#ABB2BF">]</span></span>
<span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">ArrayValue</span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> (</span><span style="color:#C678DD">typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">arr<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> arr</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">[]</span></code></div></template></span></span><span style="color:#ABB2BF">)[</span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">]</span></span><div class="twoslash-meta-line twoslash-query-line">        <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> ArrayValue</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> string</span></code></span></div><span class="line"></span></code></pre> </div> 
<h2 id="deriving-types-from-objects" class="mb-8 mt-4 pt-4 [&#38;_a]:text-primary [&#38;_a]:border-0 [&#38;_a]:before:content-['#'] [&#38;_a]:before:text-xl [&#38;_a]:before:ml-2">  Deriving types from objects<a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" aria-hidden="true" tabindex="-1" href="#deriving-types-from-objects"><span class="icon icon-link"></span></a>  </h2>
<p class="max-w-prose">Now let’s try to derive our types from an object — both getting every key or
every value.</p>
<div data-codeblock class="last:mb-0 max-w-2xl text-sm [&#38;_>_pre]:shadow-xs [&#38;_>_pre]:shadow-shadow [&#38;_>_pre]:rounded-b [&#38;_>_pre]:overflow-x-auto [&#38;_>_pre]:scheme-dark [&#38;_>_pre_>_code]:py-4 [&#38;_>_pre_>_code]:grid [&#38;_.line]:px-horizontal-padding [&#38;_.line]:border-l-2 [&#38;_.line]:border-(--code-bg) [&#38;_.line]:min-h-[1lh] [&#38;_.line]:empty:last:min-h-0 [&#38;_.line.highlighted]:bg-[#272115] [&#38;_.line.highlighted]:border-[#624710] [&#38;_.twoslash-query-line]:px-horizontal-padding [&#38;_.twoslash-error-line]:border-l-2 [&#38;_.twoslash-error-line]:border-(--code-bg) [&#38;_.twoslash-error-line]:py-1 [&#38;_.twoslash-error-line]:px-4 [&#38;_.twoslash-error-line]:bg-[#d4565620] [&#38;_.twoslash-error-line]:text-[#d45656] [&#38;_.twoslash-error-line]:border-[#d45656] [&#38;_.twoslash-popup-arrow]:bg-(--code-bg) [&#38;_.twoslash-popup-container]:bg-(--code-bg)" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div data-codeblock-header class="dark flex items-center gap-2 rounded-t py-1 bg-(--code-bg) text-(--code-fg) border-b border-divider" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div class="flex pl-horizontal-padding items-center gap-2" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> <div class="rtl truncate text-lg" style="--code-bg: #282c34;--code-fg: #abb2bf;"> TypeScript </div> </div> <div class="ml-auto flex flex-row gap-2 pr-2" style="--code-bg: #282c34;--code-fg: #abb2bf;">  <astro-island uid="Z2cb8sB" prefix="r49" component-url="/_astro/CopyCodeBlockButton.CunNfTy3.js" component-export="default" renderer-url="/_astro/client.BXosma6P.js" props="{&quot;successText&quot;:[0,&quot;Copied!&quot;],&quot;errorText&quot;:[0,&quot;Failed to copy&quot;],&quot;code&quot;:[0,&quot;const obj = {\n//    ^?\n  foo: 1,\n  bar: 2,\n  baz: 3,\n} as const\n\ntype ObjectKey = keyof typeof obj\n//   ^?\ntype ObjectValue = (typeof obj)[ObjectKey]\n//   ^?&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;CopyCodeBlockButton&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Copy code" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 rounded-sm border border-divider p-1 shadow-xs shadow-shadow"><span class="text-(--code-fg)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard "><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></span></button><!--astro:end--></astro-island> </div> </div> <pre class="shiki one-dark-pro twoslash lsp" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">obj</span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> {</span></span><div class="twoslash-meta-line twoslash-query-line">     <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> obj</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> foo</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> bar</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">2</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> baz</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre></code></span></div><span class="line"><span style="color:#E06C75">  </span><span style="color:#E06C75"><span class="twoslash-hover">foo<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">foo</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">1</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">  </span><span style="color:#E06C75"><span class="twoslash-hover">bar<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">bar</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">2</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">2</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">  </span><span style="color:#E06C75"><span class="twoslash-hover">baz<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">baz</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">3</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">} </span><span style="color:#C678DD">as</span><span style="color:#C678DD"> </span><span style="color:#C678DD"><span class="twoslash-hover">const<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> const</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> foo</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> bar</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">2</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> baz</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre></code></div></template></span></span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">ObjectKey</span></span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> keyof</span><span style="color:#C678DD"> typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">obj<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> obj</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> foo</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> bar</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">2</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> baz</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre></code></div></template></span></span></span><div class="twoslash-meta-line twoslash-query-line">       <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> ObjectKey</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "foo"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"bar"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"baz"</span></code></span></div><span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">ObjectValue</span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> (</span><span style="color:#C678DD">typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">obj<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> obj</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> foo</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> bar</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">2</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> baz</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre></code></div></template></span></span><span style="color:#ABB2BF">)[</span><span style="color:#E5C07B"><span class="twoslash-hover">ObjectKey<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> ObjectKey</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "foo"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"bar"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"baz"</span></code></div></template></span></span><span style="color:#ABB2BF">]</span></span><div class="twoslash-meta-line twoslash-query-line">        <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> ObjectValue</span><span style="color:#56B6C2"> =</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF"> | </span><span style="color:#D19A66">2</span><span style="color:#ABB2BF"> | </span><span style="color:#D19A66">3</span></code></span></div><span class="line"></span></code></pre> </div> 
<p class="max-w-prose">To get the object keys, we need to use the <a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" href="https://www.typescriptlang.org/docs/handbook/2/keyof-types.html"><code>keyof</code>
operator</a>.</p>
<p class="max-w-prose">For the object values, we just need to index that object with all of the object
possible keys — which makes sense!</p>
<p class="max-w-prose">The <code>const</code> assertion is also critical here, because otherwise the object value
types would have been widened to <code>number</code>:</p>
<div data-codeblock class="last:mb-0 max-w-2xl text-sm [&#38;_>_pre]:shadow-xs [&#38;_>_pre]:shadow-shadow [&#38;_>_pre]:rounded-b [&#38;_>_pre]:overflow-x-auto [&#38;_>_pre]:scheme-dark [&#38;_>_pre_>_code]:py-4 [&#38;_>_pre_>_code]:grid [&#38;_.line]:px-horizontal-padding [&#38;_.line]:border-l-2 [&#38;_.line]:border-(--code-bg) [&#38;_.line]:min-h-[1lh] [&#38;_.line]:empty:last:min-h-0 [&#38;_.line.highlighted]:bg-[#272115] [&#38;_.line.highlighted]:border-[#624710] [&#38;_.twoslash-query-line]:px-horizontal-padding [&#38;_.twoslash-error-line]:border-l-2 [&#38;_.twoslash-error-line]:border-(--code-bg) [&#38;_.twoslash-error-line]:py-1 [&#38;_.twoslash-error-line]:px-4 [&#38;_.twoslash-error-line]:bg-[#d4565620] [&#38;_.twoslash-error-line]:text-[#d45656] [&#38;_.twoslash-error-line]:border-[#d45656] [&#38;_.twoslash-popup-arrow]:bg-(--code-bg) [&#38;_.twoslash-popup-container]:bg-(--code-bg)" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div data-codeblock-header class="dark flex items-center gap-2 rounded-t py-1 bg-(--code-bg) text-(--code-fg) border-b border-divider" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div class="flex pl-horizontal-padding items-center gap-2" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> <div class="rtl truncate text-lg" style="--code-bg: #282c34;--code-fg: #abb2bf;"> TypeScript </div> </div> <div class="ml-auto flex flex-row gap-2 pr-2" style="--code-bg: #282c34;--code-fg: #abb2bf;">  <astro-island uid="Z1ihhAG" prefix="r50" component-url="/_astro/CopyCodeBlockButton.CunNfTy3.js" component-export="default" renderer-url="/_astro/client.BXosma6P.js" props="{&quot;successText&quot;:[0,&quot;Copied!&quot;],&quot;errorText&quot;:[0,&quot;Failed to copy&quot;],&quot;code&quot;:[0,&quot;const obj = {\n//    ^?\n  foo: 1,\n  bar: 2,\n  baz: 3,\n}\n\ntype ObjectKey = keyof typeof obj\n//   ^?\ntype ObjectValue = (typeof obj)[ObjectKey]\n//   ^?&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;CopyCodeBlockButton&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Copy code" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 rounded-sm border border-divider p-1 shadow-xs shadow-shadow"><span class="text-(--code-fg)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard "><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></span></button><!--astro:end--></astro-island> </div> </div> <pre class="shiki one-dark-pro twoslash lsp" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">obj</span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> {</span></span><div class="twoslash-meta-line twoslash-query-line">     <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> obj</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">    foo</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">    bar</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">    baz</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre></code></span></div><span class="line"><span style="color:#E06C75">  </span><span style="color:#E06C75"><span class="twoslash-hover">foo<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">foo</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">number</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">  </span><span style="color:#E06C75"><span class="twoslash-hover">bar<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">bar</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">number</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">2</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">  </span><span style="color:#E06C75"><span class="twoslash-hover">baz<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">baz</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">number</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">ObjectKey</span></span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> keyof</span><span style="color:#C678DD"> typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">obj<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> obj</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">    foo</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">    bar</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">    baz</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre></code></div></template></span></span></span><div class="twoslash-meta-line twoslash-query-line">       <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> ObjectKey</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "foo"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"bar"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"baz"</span></code></span></div><span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">ObjectValue</span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> (</span><span style="color:#C678DD">typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">obj<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> obj</span><span style="color:#ABB2BF">: {</span></span>
<span class="line"><span style="color:#E06C75">    foo</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">    bar</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">    baz</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">number</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre></code></div></template></span></span><span style="color:#ABB2BF">)[</span><span style="color:#E5C07B"><span class="twoslash-hover">ObjectKey<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> ObjectKey</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "foo"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"bar"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"baz"</span></code></div></template></span></span><span style="color:#ABB2BF">]</span></span><div class="twoslash-meta-line twoslash-query-line">        <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> ObjectValue</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> number</span></code></span></div><span class="line"></span></code></pre> </div> 
<h2 id="deriving-types-from-array-of-objects" class="mb-8 mt-4 pt-4 [&#38;_a]:text-primary [&#38;_a]:border-0 [&#38;_a]:before:content-['#'] [&#38;_a]:before:text-xl [&#38;_a]:before:ml-2">  Deriving types from array of objects<a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" aria-hidden="true" tabindex="-1" href="#deriving-types-from-array-of-objects"><span class="icon icon-link"></span></a>  </h2>
<p class="max-w-prose">We can combine both approaches to derive type from an array of objects:</p>
<div data-codeblock class="last:mb-0 max-w-2xl text-sm [&#38;_>_pre]:shadow-xs [&#38;_>_pre]:shadow-shadow [&#38;_>_pre]:rounded-b [&#38;_>_pre]:overflow-x-auto [&#38;_>_pre]:scheme-dark [&#38;_>_pre_>_code]:py-4 [&#38;_>_pre_>_code]:grid [&#38;_.line]:px-horizontal-padding [&#38;_.line]:border-l-2 [&#38;_.line]:border-(--code-bg) [&#38;_.line]:min-h-[1lh] [&#38;_.line]:empty:last:min-h-0 [&#38;_.line.highlighted]:bg-[#272115] [&#38;_.line.highlighted]:border-[#624710] [&#38;_.twoslash-query-line]:px-horizontal-padding [&#38;_.twoslash-error-line]:border-l-2 [&#38;_.twoslash-error-line]:border-(--code-bg) [&#38;_.twoslash-error-line]:py-1 [&#38;_.twoslash-error-line]:px-4 [&#38;_.twoslash-error-line]:bg-[#d4565620] [&#38;_.twoslash-error-line]:text-[#d45656] [&#38;_.twoslash-error-line]:border-[#d45656] [&#38;_.twoslash-popup-arrow]:bg-(--code-bg) [&#38;_.twoslash-popup-container]:bg-(--code-bg)" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div data-codeblock-header class="dark flex items-center gap-2 rounded-t py-1 bg-(--code-bg) text-(--code-fg) border-b border-divider" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <div class="flex pl-horizontal-padding items-center gap-2" style="--code-bg: #282c34;--code-fg: #abb2bf;"> <svg viewBox="0 0 128 128" height="1em" width="1em">
  <path fill="#007acc" d="M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 0 1 7.82 4.5 20.58 20.58 0 0 1 3 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 0 0-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 0 0 .54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 0 1-9.52-.1A23 23 0 0 1 80 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 0 1 1.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 0 0 4.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 0 0 .69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 0 1-3.43-6.25 25 25 0 0 1-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 0 1 9.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 0 1 .14-5.16c.06-.08 10-.12 22-.1h21.81z" />
</svg> <div class="rtl truncate text-lg" style="--code-bg: #282c34;--code-fg: #abb2bf;"> TypeScript </div> </div> <div class="ml-auto flex flex-row gap-2 pr-2" style="--code-bg: #282c34;--code-fg: #abb2bf;">  <astro-island uid="1o88Xd" prefix="r51" component-url="/_astro/CopyCodeBlockButton.CunNfTy3.js" component-export="default" renderer-url="/_astro/client.BXosma6P.js" props="{&quot;successText&quot;:[0,&quot;Copied!&quot;],&quot;errorText&quot;:[0,&quot;Failed to copy&quot;],&quot;code&quot;:[0,&quot;const obj = [\n  { kind: &#39;circle&#39;, radius: 100 },\n  { kind: &#39;square&#39;, sideLength: 50 },\n] as const\n\ntype Kind = typeof obj[number][&#39;kind&#39;]\n//   ^?&quot;]}" ssr client="load" opts="{&quot;name&quot;:&quot;CopyCodeBlockButton&quot;,&quot;value&quot;:true}" await-children><button type="button" aria-label="Copy code" class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 rounded-sm border border-divider p-1 shadow-xs shadow-shadow"><span class="text-(--code-fg)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard "><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></span></button><!--astro:end--></astro-island> </div> </div> <pre class="shiki one-dark-pro twoslash lsp" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">obj<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> obj</span><span style="color:#ABB2BF">: </span><span style="color:#C678DD">readonly</span><span style="color:#ABB2BF"> [{</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> kind</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"circle"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> radius</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">100</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}, {</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> kind</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"square"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> sideLength</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">50</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}]</span></span></code></pre></code></div></template></span></span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> [</span></span>
<span class="line"><span style="color:#ABB2BF">  { </span><span style="color:#E06C75"><span class="twoslash-hover">kind<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">kind</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"circle"</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'circle'</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75"><span class="twoslash-hover">radius<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">radius</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">100</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">100</span><span style="color:#ABB2BF"> },</span></span>
<span class="line"><span style="color:#ABB2BF">  { </span><span style="color:#E06C75"><span class="twoslash-hover">kind<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">kind</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"square"</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#98C379">'square'</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75"><span class="twoslash-hover">sideLength<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#E06C75">sideLength</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">50</span></code></div></template></span></span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">50</span><span style="color:#ABB2BF"> },</span></span>
<span class="line"><span style="color:#ABB2BF">] </span><span style="color:#C678DD">as</span><span style="color:#C678DD"> </span><span style="color:#C678DD"><span class="twoslash-hover">const<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> const</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> readonly</span><span style="color:#ABB2BF"> [{</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> kind</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"circle"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> radius</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">100</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}, {</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> kind</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"square"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> sideLength</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">50</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}]</span></span></code></pre></code></div></template></span></span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> </span><span style="color:#E5C07B"><span class="twoslash-hover">Kind</span></span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> typeof</span><span style="color:#E06C75"> </span><span style="color:#E06C75"><span class="twoslash-hover">obj<template class="twoslash-popup-template"><div class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf" tabindex="0"><code><span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> obj</span><span style="color:#ABB2BF">: </span><span style="color:#C678DD">readonly</span><span style="color:#ABB2BF"> [{</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> kind</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"circle"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> radius</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">100</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}, {</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> kind</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">"square"</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">    readonly</span><span style="color:#E06C75"> sideLength</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">50</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">}]</span></span></code></pre></code></div></template></span></span><span style="color:#ABB2BF">[</span><span style="color:#E06C75">number</span><span style="color:#ABB2BF">][</span><span style="color:#98C379">'kind'</span><span style="color:#ABB2BF">]</span></span><div class="twoslash-meta-line twoslash-query-line">     <span class="twoslash-popup-container"><div class="twoslash-popup-arrow"></div><code class="twoslash-popup-code"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> Kind</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> "circle"</span><span style="color:#ABB2BF"> | </span><span style="color:#98C379">"square"</span></code></span></div><span class="line"></span></code></pre> </div>  </div> </div> </article> <hr class="max-sm:full-bleed mt-8"> <nav class="flex items-stretch sm:gap-4 max-sm:full-bleed sm:my-8" aria-label="Posts navigation"> <a class="sm:card flex flex-1 flex-col gap-2 border-0 px-horizontal-padding py-4 transition-colors duration-300 hover:bg-hover" href="/posts/polymorphic-components-react-typescript/"> <span class="text-primary"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left "><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg> </span> Type-safe polymorphic React components </a> <div class="border-l border-divider sm:hidden"></div> <a class="sm:card flex flex-1 flex-col-reverse items-end justify-end gap-2 border-0 px-horizontal-padding py-4 text-right transition-colors duration-300 hover:bg-hover" href="/posts/url-search-params-zod/"> Parsing URL search params with Zod <span class="text-primary"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right "><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg> </span> </a> </nav> <hr class="max-sm:full-bleed mb-8"> </div> </main>  <footer class="bg-background grid grid-cols-layout mt-auto sm:mt-0"> <div class="mx-auto flex w-full max-w-content flex-col pt-4 pb-8 sm:justify-between"> <nav aria-label="Contacts" class="flex gap-2 mb-2"> <a class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 min-w-[40px] h-[40px] flex justify-center items-center rounded-full px-2 shadow" id="contact-email" href="mailto:phelipe_teles@hotmail.com" aria-label="E-mail">  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail "><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg>  </a> <a class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 min-w-[40px] h-[40px] flex justify-center items-center rounded-full px-2 shadow" id="contact-linkedin" href="https://linkedin.com/in/phelipeteles" aria-label="LinkedIn">  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin "><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>  </a> <a class="bg-surface hover:bg-hover text-on-background disabled:bg-disabled disabled:text-on-disabled disabled:hover:cursor-not-allowed disabled:hover:bg-disabled hover:text-primary transition-colors duration-300 min-w-[40px] h-[40px] flex justify-center items-center rounded-full px-2 shadow" id="contact-github" href="https://github.com/phelipetls" aria-label="GitHub">  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github "><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>  </a> </nav> <span class="text-sm"> 
All content is under a <a class="underline underline-offset-4 decoration-primary hover:decoration-primary-hover" rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0</a>
license.
 </span> </div> </footer> </body></html> <script type="module">const e=document.querySelector("[data-blog-post-container]"),t=document.querySelector("[data-toggle-toc]"),o=document.querySelector("[data-blog-post-toc-container]");let n=new AbortController;const a=localStorage.getItem("__preferred_toc_state");a!==null&&(a==="open"?s():(c(),o?.classList.add("invisible")));function s(){n.abort(),o?.classList.remove("invisible"),e instanceof HTMLElement&&t instanceof HTMLButtonElement&&(e.setAttribute("data-toc","open"),localStorage.setItem("__preferred_toc_state","open"),t.setAttribute("aria-label",t.dataset.closedTocLabel??""))}function c(){n=new AbortController,o?.addEventListener("transitionend",()=>{o?.classList.add("invisible")},{signal:n.signal}),e instanceof HTMLElement&&t instanceof HTMLButtonElement&&(e.setAttribute("data-toc","closed"),localStorage.setItem("__preferred_toc_state","closed"),t.setAttribute("aria-label",t.dataset.openTocLabel??""))}t?.addEventListener("click",()=>{if(!(e instanceof HTMLDivElement))return;e.dataset.toc==="open"?c():s()});</script>