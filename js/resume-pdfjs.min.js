(()=>{var t,n,i,l,x=Object.create,r=Object.defineProperty,O=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,w=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty,a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),e=(e,t)=>function(){return t||(0,e[o(e)[0]])((t={exports:{}}).exports,t),t.exports},j=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of o(t))!_.call(e,i)&&i!==n&&r(e,i,{get:()=>t[i],enumerable:!(s=O(t,i))||s.enumerable});return e},h=(e,t,n)=>(n=e!=null?x(w(e)):{},j(t||!e||!e.__esModule?r(n,"default",{value:e,enumerable:!0}):n,e)),d=e({"node_modules/dommatrix/dist/dommatrix.js"(e,t){(function(n,s){typeof e=="object"&&typeof t!="undefined"?t.exports=s():typeof define=="function"&&define.amd?define(s):(n=typeof globalThis!="undefined"?globalThis:n||self,n.CSSMatrix=s())})(e,function(){"use strict";function n(t){var o,i,a,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,x,C,n=new e,s=Array.from(t);if(!s.every(function(e){return!Number.isNaN(e)}))throw TypeError('CSSMatrix: "'+t+'" must only have numbers.');if(s.length===16)c=s[0],i=s[1],x=s[2],O=s[3],o=s[4],l=s[5],w=s[6],_=s[7],y=s[8],v=s[9],C=s[10],g=s[11],f=s[12],m=s[13],b=s[14],j=s[15],n.m11=c,n.a=c,n.m21=o,n.c=o,n.m31=y,n.m41=f,n.e=f,n.m12=i,n.b=i,n.m22=l,n.d=l,n.m32=v,n.m42=m,n.f=m,n.m13=x,n.m23=w,n.m33=C,n.m43=b,n.m14=O,n.m24=_,n.m34=g,n.m44=j;else if(s.length===6)h=s[0],u=s[1],d=s[2],r=s[3],a=s[4],p=s[5],n.m11=h,n.a=h,n.m12=u,n.b=u,n.m21=d,n.c=d,n.m22=r,n.d=r,n.m41=a,n.e=a,n.m42=p,n.f=p;else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return n}function h(t){var s=Object.keys(new e);if(typeof t=="object"&&s.every(function(e){return e in t}))return n([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(t)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function u(t){if(typeof t!="string")throw TypeError('CSSMatrix: "'+t+'" is not a string.');var i=String(t).replace(/\s/g,""),s=new e,o='CSSMatrix: invalid transform string "'+t+'"';return i.split(")").filter(function(e){return e}).forEach(function(e){var t,a,r,c,l,d,u,h,m,p,g,v,b,j,_,f=e.split("("),i=f[0],y=f[1];if(!y)throw TypeError(o);if(c=y.split(",").map(function(e){return e.includes("rad")?parseFloat(e)*(180/Math.PI):parseFloat(e)}),t=c[0],a=c[1],r=c[2],u=c[3],h=[t,a,r],j=[t,a,r,u],i==="perspective"&&t&&[a,r].every(function(e){return e===void 0}))s.m34=-1/t;else if(i.includes("matrix")&&[6,16].includes(c.length)&&c.every(function(e){return!Number.isNaN(+e)}))v=c.map(function(e){return Math.abs(e)<1e-6?0:e}),s=s.multiply(n(v));else if(i==="translate3d"&&h.every(function(e){return!Number.isNaN(+e)}))s=s.translate(t,a,r);else if(i==="translate"&&t&&r===void 0)s=s.translate(t,a||0,0);else if(i==="rotate3d"&&j.every(function(e){return!Number.isNaN(+e)})&&u)s=s.rotateAxisAngle(t,a,r,u);else if(i==="rotate"&&t&&[a,r].every(function(e){return e===void 0}))s=s.rotate(0,0,t);else if(i==="scale3d"&&h.every(function(e){return!Number.isNaN(+e)})&&h.some(function(e){return e!==1}))s=s.scale(t,a,r);else if(i==="scale"&&!Number.isNaN(t)&&t!==1&&r===void 0)p=Number.isNaN(+a),g=p?t:a,s=s.scale(t,g,1);else if(i==="skew"&&(t||!Number.isNaN(t)&&a)&&r===void 0)s=s.skew(t,a||0);else if(/[XYZ]/.test(i)&&t&&[a,r].every(function(e){return e===void 0})&&["translate","rotate","scale","skew"].some(function(e){return i.includes(e)}))["skewX","skewY"].includes(i)?s=s[i](t):(d=i.replace(/[XYZ]/,""),b=i.replace(d,""),m=["X","Y","Z"].indexOf(b),l=d==="scale"?1:0,_=[m===0?t:l,m===1?t:l,m===2?t:l],s=s[d].apply(s,_));else throw TypeError(o)}),s}function i(e,t){return t?[e.a,e.b,e.c,e.d,e.e,e.f]:[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]}function a(t,n,s){var o=new e;return o.m41=t,o.e=t,o.m42=n,o.f=n,o.m43=s,o}function r(t,n,s){var u,h,o=new e,m=Math.PI/180,f=t*m,b=n*m,v=s*m,l=Math.cos(f),i=-Math.sin(f),d=Math.cos(b),c=-Math.sin(b),r=Math.cos(v),a=-Math.sin(v),p=d*r,g=-d*a;return o.m11=p,o.a=p,o.m12=g,o.b=g,o.m13=c,u=i*c*r+l*a,o.m21=u,o.c=u,h=l*r-i*c*a,o.m22=h,o.d=h,o.m23=-i*d,o.m31=i*a-l*c*r,o.m32=i*r+l*c*a,o.m33=l*d,o}function c(t,n,s,o){var a,r,c,l,d,u,m,f,p,g,v,b,j,y,i=new e,h=Math.sqrt(t*t+n*n+s*s);return h===0?i:(l=t/h,r=n/h,c=s/h,f=o*(Math.PI/360),d=Math.sin(f),u=Math.cos(f),a=d*d,m=l*l,p=r*r,g=c*c,v=1-2*(p+g)*a,i.m11=v,i.a=v,b=2*(l*r*a+c*d*u),i.m12=b,i.b=b,i.m13=2*(l*c*a-r*d*u),j=2*(r*l*a-c*d*u),i.m21=j,i.c=j,y=1-2*(g+m)*a,i.m22=y,i.d=y,i.m23=2*(r*c*a+l*d*u),i.m31=2*(c*l*a+r*d*u),i.m32=2*(c*r*a-l*d*u),i.m33=1-2*(m+p)*a,i)}function m(t,n,s){var o=new e;return o.m11=t,o.a=t,o.m22=n,o.d=n,o.m33=s,o}function s(t,n){var o,i,a,r,s=new e;return t&&(a=t*Math.PI/180,o=Math.tan(a),s.m21=o,s.c=o),n&&(r=n*Math.PI/180,i=Math.tan(r),s.m12=i,s.b=i),s}function l(e){return s(e,0)}function d(e){return s(0,e)}function t(e,t){var s=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,o=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,i=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43,a=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44,r=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,c=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,l=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43,d=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44,u=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,h=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,m=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43,f=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44,p=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,g=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,v=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43,b=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return n([s,o,i,a,r,c,l,d,u,h,m,f,p,g,v,b])}var f,p,e=function(){for(var t,o,n=[],s=arguments.length;s--;)n[s]=arguments[s];return t=this,t.a=1,t.b=0,t.c=0,t.d=1,t.e=0,t.f=0,t.m11=1,t.m12=0,t.m13=0,t.m14=0,t.m21=0,t.m22=1,t.m23=0,t.m24=0,t.m31=0,t.m32=0,t.m33=1,t.m34=0,t.m41=0,t.m42=0,t.m43=0,t.m44=1,n.length?(o=[16,6].some(function(e){return e===n.length})?n:n[0],t.setMatrixValue(o)):t},o={isIdentity:{configurable:!0},is2D:{configurable:!0}};return o.isIdentity.get=function(){var e=this;return e.m11===1&&e.m12===0&&e.m13===0&&e.m14===0&&e.m21===0&&e.m22===1&&e.m23===0&&e.m24===0&&e.m31===0&&e.m32===0&&e.m33===1&&e.m34===0&&e.m41===0&&e.m42===0&&e.m43===0&&e.m44===1},o.is2D.get=function(){var e=this;return e.m31===0&&e.m32===0&&e.m33===1&&e.m34===0&&e.m43===0&&e.m44===1},e.prototype.setMatrixValue=function(s){var o=this;return typeof s=="string"&&s.length&&s!=="none"?u(s):[Array,Float64Array,Float32Array].some(function(e){return s instanceof e})?n(s):[e,DOMMatrix,Object].some(function(e){return s instanceof e})?h(s):o},e.prototype.toFloat32Array=function(t){return Float32Array.from(i(this,t))},e.prototype.toFloat64Array=function(t){return Float64Array.from(i(this,t))},e.prototype.toString=function(){var t=this,n=t.is2D,s=t.toFloat64Array(n).join(", "),o=n?"matrix":"matrix3d";return o+"("+s+")"},e.prototype.toJSON=function(){var t=this,n=t.is2D,s=t.isIdentity;return Object.assign({},t,{is2D:n,isIdentity:s})},e.prototype.multiply=function(n){return t(this,n)},e.prototype.translate=function(n,s,o){var c=n,i=s,r=o;return i===void 0&&(i=0),r===void 0&&(r=0),t(this,a(c,i,r))},e.prototype.scale=function(n,s,o){var r=n,i=s,a=o;return i===void 0&&(i=n),a===void 0&&(a=1),t(this,m(r,i,a))},e.prototype.rotate=function(n,s,o){var i=n,a=s||0,c=o||0;return typeof n=="number"&&s===void 0&&o===void 0&&(c=i,i=0,a=0),t(this,r(i,a,c))},e.prototype.rotateAxisAngle=function(n,s,o,i){if([n,s,o,i].some(function(e){return Number.isNaN(+e)}))throw new TypeError("CSSMatrix: expecting 4 values");return t(this,c(n,s,o,i))},e.prototype.skewX=function(n){return t(this,l(n))},e.prototype.skewY=function(n){return t(this,d(n))},e.prototype.skew=function(n,o){return t(this,s(n,o))},e.prototype.transformPoint=function(t){var n=this,s=n.m11*t.x+n.m21*t.y+n.m31*t.z+n.m41*t.w,o=n.m12*t.x+n.m22*t.y+n.m32*t.z+n.m42*t.w,i=n.m13*t.x+n.m23*t.y+n.m33*t.z+n.m43*t.w,a=n.m14*t.x+n.m24*t.y+n.m34*t.z+n.m44*t.w;return t instanceof DOMPoint?new DOMPoint(s,o,i,a):{x:s,y:o,z:i,w:a}},Object.defineProperties(e.prototype,o),Object.assign(e,{Translate:a,Rotate:r,RotateAxisAngle:c,Scale:m,SkewX:l,SkewY:d,Skew:s,Multiply:t,fromArray:n,fromMatrix:h,fromString:u,toArray:i}),f="1.0.3",p=f,Object.assign(e,{Version:p}),e})}}),u=e({"node_modules/web-streams-polyfill/dist/ponyfill.js"(e,t){(function(n,s){typeof e=="object"&&typeof t!="undefined"?s(e):typeof define=="function"&&define.amd?define(["exports"],s):(n=typeof globalThis!="undefined"?globalThis:n||self,s(n.WebStreamsPolyfill={}))})(e,function(e){"use strict";var a,p,C,M,T,N,R,P,B,V,$,K,X,n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(e){return"Symbol("+e+")"},_t,bt,ae,Pt,Ht,It,Ke,St,vt,we,Ce,yt,Gt,ht,le,ut,it,We,zt,lt,Be,Pn,tt,mt,te,ee;function kt(){}function co(){return typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:void 0}_t=co();function i(e){return typeof e=="object"&&e!==null||typeof e=="function"}bt=kt,ae=Promise,Pt=Promise.prototype.then,Ht=Promise.resolve.bind(ae),It=Promise.reject.bind(ae);function o(e){return new ae(e)}function s(e){return Ht(e)}function t(e){return It(e)}function f(e,t,n){return Pt.call(e,t,n)}function d(e,t,n){f(f(e,t,n),void 0,bt)}function ct(e,t){d(e,t)}function Xe(e,t){d(e,void 0,t)}function F(e,t,n){return f(e,t,n)}function G(e){f(e,void 0,bt)}X=function(){var t,e=_t&&_t.queueMicrotask;return typeof e=="function"?e:(t=s(void 0),function(e){return f(t,e)})}();function Le(e,t,n){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function k(e,n,o){try{return s(Le(e,n,o))}catch(e){return t(e)}}Ke=16384,a=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this._back,n=t;t._elements.length===Ke-1&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size},e.prototype.shift=function(){var e=this._front,t=e,n=this._cursor,s=n+1,o=e._elements,i=o[n];return s===Ke&&(t=e._next,s=0),--this._size,this._cursor=s,e!==t&&(this._front=t),o[n]=void 0,i},e.prototype.forEach=function(e){for(var t=this._cursor,n=this._front,s=n._elements;t!==s.length||n._next!==void 0;){if(t===s.length&&(n=n._next,s=n._elements,t=0,s.length===0))break;e(s[t]),++t}},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}();function Bt(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Ye(e):t._state==="closed"?$s(e):Vt(e,t._storedError)}function qe(e,t){var n=e._ownerReadableStream;return l(n,t)}function g(e){e._ownerReadableStream._state==="readable"?et(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Ls(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function D(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ye(e){e._closedPromise=o(function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n})}function Vt(e,t){Ye(e),et(e,t)}function $s(e){Ye(e),Kt(e)}function et(e,t){if(e._closedPromise_reject===void 0)return;G(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function Ls(e,t){Vt(e,t)}function Kt(e){if(e._closedPromise_resolve===void 0)return;e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}St=n("[[AbortSteps]]"),vt=n("[[ErrorSteps]]"),we=n("[[CancelSteps]]"),Ce=n("[[PullSteps]]"),yt=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Gt=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Fs(e){return typeof e=="object"||typeof e=="function"}function h(e,t){if(e!==void 0&&!Fs(e))throw new TypeError(t+" is not an object.")}function r(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function.")}function Ss(e){return typeof e=="object"&&e!==null||typeof e=="function"}function en(e,t){if(!Ss(e))throw new TypeError(t+" is not an object.")}function m(e,t,n){if(e===void 0)throw new TypeError("Parameter "+t+" is required in '"+n+"'.")}function Et(e,t,n){if(e===void 0)throw new TypeError(t+" is required in '"+n+"'.")}function Ct(e){return Number(e)}function tn(e){return e===0?0:e}function Cs(e){return tn(Gt(e))}function sn(e,t){var s=0,o=Number.MAX_SAFE_INTEGER,n=Number(e),n=tn(n);if(!yt(n))throw new TypeError(t+" is not a finite number");if(n=Cs(n),n<s||n>o)throw new TypeError(t+" is outside the accepted range of "+s+" to "+o+", inclusive");return!yt(n)||n===0?0:n}function at(e,t){if(!_(e))throw new TypeError(t+" is not a ReadableStream.")}function L(e){return new N(e)}function cn(e,t){e._reader._readRequests.push(t)}function At(e,t,n){var o=e._reader,s=o._readRequests.shift();n?s._closeSteps():s._chunkSteps(t)}function ue(e){return e._reader._readRequests.length}function mn(e){var t=e._reader;return t!==void 0&&!!j(t)}N=function(){function e(e){if(m(e,1,"ReadableStreamDefaultReader"),at(e,"First parameter"),b(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Bt(this,e),this._readRequests=new a}return Object.defineProperty(e.prototype,"closed",{get:function(){return j(this)?this._closedPromise:t(re("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return e===void 0&&(e=void 0),j(this)?this._ownerReadableStream===void 0?t(D("cancel")):qe(this,e):t(re("cancel"))},e.prototype.read=function(){if(!j(this))return t(re("read"));if(this._ownerReadableStream===void 0)return t(D("read from"));var e,n,s=o(function(t,s){e=t,n=s}),i={_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(){return e({value:void 0,done:!0})},_errorSteps:function(e){return n(e)}};return W(this,i),s},e.prototype.releaseLock=function(){if(!j(this))throw re("releaseLock");if(this._ownerReadableStream===void 0)return;if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");g(this)},e}(),Object.defineProperties(N.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(N.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function j(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof N}function W(e,t){var n=e._ownerReadableStream;n._disturbed=!0,n._state==="closed"?t._closeSteps():n._state==="errored"?t._errorSteps(n._storedError):n._readableStreamController[Ce](t)}function re(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}typeof n.asyncIterator=="symbol"&&(le=(ht={},ht[n.asyncIterator]=function(){return this},ht),Object.defineProperty(le,n.asyncIterator,{enumerable:!1})),ut=function(){function e(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return e.prototype.next=function(){var t=this,e=function(){return t._nextSteps()};return this._ongoingPromise=this._ongoingPromise?F(this._ongoingPromise,e,e):e(),this._ongoingPromise},e.prototype.return=function(e){var n=this,t=function(){return n._returnSteps(e)};return this._ongoingPromise?F(this._ongoingPromise,t,t):t()},e.prototype._nextSteps=function(){var n,s,i,a,r,e=this;return this._isFinished?Promise.resolve({value:void 0,done:!0}):(n=this._reader,n._ownerReadableStream===void 0?t(D("iterate")):(a=o(function(e,t){s=e,i=t}),r={_chunkSteps:function(t){e._ongoingPromise=void 0,X(function(){return s({value:t,done:!1})})},_closeSteps:function(){e._ongoingPromise=void 0,e._isFinished=!0,g(n),s({value:void 0,done:!0})},_errorSteps:function(t){e._ongoingPromise=void 0,e._isFinished=!0,g(n),i(t)}},W(n,r),a))},e.prototype._returnSteps=function(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;var o,n=this._reader;return n._ownerReadableStream===void 0?t(D("finish iterating")):this._preventCancel?(g(n),s({value:e,done:!0})):(o=qe(n,e),g(n),F(o,function(){return{value:e,done:!0}}))},e}(),it={next:function(){return gn(this)?this._asyncIteratorImpl.next():t(jn("next"))},return:function(e){return gn(this)?this._asyncIteratorImpl.return(e):t(jn("return"))}},le!==void 0&&Object.setPrototypeOf(it,le);function ys(e,t){var s=L(e),o=new ut(s,t),n=Object.create(it);return n._asyncIteratorImpl=o,n}function gn(e){if(!i(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ut}catch{return!1}}function jn(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}We=Number.isNaN||function(e){return e!==e};function J(e){return e.slice()}function yn(e,t,n,s,o){new Uint8Array(e).set(new Uint8Array(n,s,o),t)}function oe(e){return e}function je(){return!1}function _n(e,t,n){if(e.slice)return e.slice(t,n);var s=n-t,o=new ArrayBuffer(s);return yn(o,0,e,t,s),o}function Qn(e){return typeof e=="number"&&!We(e)&&!(e<0)}function Cn(e){var t=_n(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Qe(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Ge(e,t,n){if(!Qn(n)||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function Gn(e){var t=e._queue.peek();return t.value}function v(e){e._queue=new a,e._queueTotalSize=0}R=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!Ue(this))throw ot("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!Ue(this))throw ot("respond");if(m(e,1,"respond"),e=sn(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");je(this._view.buffer),ve(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!Ue(this))throw ot("respondWithNewView");if(m(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");je(e.buffer),fe(this._associatedReadableByteStreamController,e)},e}(),Object.defineProperties(R.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(R.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0}),C=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!O(this))throw ne("byobRequest");return ft(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!O(this))throw ne("desiredSize");return xn(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!O(this))throw ne("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");Y(this)},e.prototype.enqueue=function(e){if(!O(this))throw ne("enqueue");if(m(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");xe(this,e)},e.prototype.error=function(e){if(e===void 0&&(e=void 0),!O(this))throw ne("error");c(this,e)},e.prototype[we]=function(e){Mn(this),v(this);var t=this._cancelAlgorithm(e);return ke(this),t},e.prototype[Ce]=function(e){var t,n,s,o,i,a=this._controlledReadableByteStream;if(this._queueTotalSize>0){t=this._queue.shift(),this._queueTotalSize-=t.byteLength,Hn(this),o=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e._chunkSteps(o);return}if(n=this._autoAllocateChunkSize,n!==void 0){s=void 0;try{s=new ArrayBuffer(n)}catch(t){e._errorSteps(t);return}i={buffer:s,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"},this._pendingPullIntos.push(i)}cn(a,e),S(this)},e}(),Object.defineProperties(C.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(C.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function O(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof C}function Ue(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof R}function S(e){var t,n=Xn(e);if(!n)return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,t=e._pullAlgorithm(),d(t,function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,S(e))},function(t){c(e,t)})}function Mn(e){He(e),e._pendingPullIntos=new a}function $e(e,t){var s,n=!1;e._state==="closed"&&(n=!0),s=Fn(t),t.readerType==="default"?At(e,s,n):Os(e,s,n)}function Fn(e){var t=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/n)}function Ne(e,t,n,s){e._queue.push({buffer:t,byteOffset:n,byteLength:s}),e._queueTotalSize+=s}function zn(e,t){var n,s,i,u,a=t.elementSize,h=t.bytesFilled-t.bytesFilled%a,l=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+l,r=d-d%a,o=l,c=!1;for(r>h&&(o=r-t.bytesFilled,c=!0),i=e._queue;o>0;)s=i.peek(),n=Math.min(o,s.byteLength),u=t.byteOffset+t.bytesFilled,yn(t.buffer,u,s.buffer,s.byteOffset,n),s.byteLength===n?i.shift():(s.byteOffset+=n,s.byteLength-=n),e._queueTotalSize-=n,Mt(e,n,t),o-=n;return c}function Mt(e,t,n){n.bytesFilled+=t}function Hn(e){e._queueTotalSize===0&&e._closeRequested?(ke(e),U(e._controlledReadableByteStream)):S(e)}function He(e){if(e._byobRequest===null)return;e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null}function Dn(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;var t=e._pendingPullIntos.peek();zn(e,t)&&(Me(e),$e(e._controlledReadableByteStream,t))}}function Un(e,t,n){var s,i,a,r,l,d,o=e._controlledReadableByteStream,u=1;if(t.constructor!==DataView&&(u=t.constructor.BYTES_PER_ELEMENT),a=t.constructor,r=oe(t.buffer),s={buffer:r,bufferByteLength:r.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:u,viewConstructor:a,readerType:"byob"},e._pendingPullIntos.length>0){e._pendingPullIntos.push(s),ln(o,n);return}if(o._state==="closed"){l=new a(s.buffer,s.byteOffset,0),n._closeSteps(l);return}if(e._queueTotalSize>0){if(zn(e,s)){d=Fn(s),Hn(e),n._chunkSteps(d);return}if(e._closeRequested){i=new TypeError("Insufficient bytes to fill elements in the given buffer"),c(e,i),n._errorSteps(i);return}}e._pendingPullIntos.push(s),ln(o,n),S(e)}function In(e){var s,n=e._controlledReadableByteStream;if(dt(n))for(;rn(n)>0;)s=Me(e),$e(n,s)}function Yn(e,t,n){if(Mt(e,t,n),n.bytesFilled<n.elementSize)return;Me(e);var o,i,s=n.bytesFilled%n.elementSize;s>0&&(o=n.byteOffset+n.bytesFilled,i=_n(n.buffer,o-s,o),Ne(e,i,0,i.byteLength)),n.bytesFilled-=s,$e(e._controlledReadableByteStream,n),Dn(e)}function En(e,t){var n,s=e._pendingPullIntos.peek();He(e),n=e._controlledReadableByteStream._state,n==="closed"?In(e):Yn(e,t,s),S(e)}function Me(e){var t=e._pendingPullIntos.shift();return t}function Xn(e){var n,t=e._controlledReadableByteStream;return t._state==="readable"&&!e._closeRequested&&!!e._started&&(!!(mn(t)&&ue(t)>0)||!!(dt(t)&&rn(t)>0)||(n=xn(e),n>0))}function ke(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Y(e){var t,s,n=e._controlledReadableByteStream;if(e._closeRequested||n._state!=="readable")return;if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&(s=e._pendingPullIntos.peek(),s.bytesFilled>0))throw t=new TypeError("Insufficient bytes to fill elements in the given buffer"),c(e,t),t;ke(e),U(n)}function xe(e,t){var s,o,i,a,r,c,n=e._controlledReadableByteStream;if(e._closeRequested||n._state!=="readable")return;r=t.buffer,s=t.byteOffset,o=t.byteLength,i=oe(r),e._pendingPullIntos.length>0&&(a=e._pendingPullIntos.peek(),je(a.buffer),a.buffer=oe(a.buffer)),He(e),mn(n)?ue(n)===0?Ne(e,i,s,o):(e._pendingPullIntos.length>0&&Me(e),c=new Uint8Array(i,s,o),At(n,c,!1)):dt(n)?(Ne(e,i,s,o),Dn(e)):Ne(e,i,s,o),S(e)}function c(e,t){var n=e._controlledReadableByteStream;if(n._state!=="readable")return;Mn(e),v(e),ke(e),Zt(n,t)}function ft(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek(),s=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(R.prototype);ns(n,e,s),e._byobRequest=n}return e._byobRequest}function xn(e){var t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function ve(e,t){var n=e._pendingPullIntos.peek(),s=e._controlledReadableByteStream._state;if(s==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=oe(n.buffer),En(e,t)}function fe(e,t){var s,n=e._pendingPullIntos.peek(),o=e._controlledReadableByteStream._state;if(o==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+t.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");s=t.byteLength,n.buffer=oe(t.buffer),En(e,s)}function On(e,t,n,o,i,r,l){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,v(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=r,t._pullAlgorithm=o,t._cancelAlgorithm=i,t._autoAllocateChunkSize=l,t._pendingPullIntos=new a,e._readableStreamController=t;var u=n();d(s(u),function(){t._started=!0,S(t)},function(e){c(t,e)})}function Zn(e,t,n){var i,o=Object.create(C.prototype),a=function(){},r=function(){return s(void 0)},c=function(){return s(void 0)};if(t.start!==void 0&&(a=function(){return t.start(o)}),t.pull!==void 0&&(r=function(){return t.pull(o)}),t.cancel!==void 0&&(c=function(e){return t.cancel(e)}),i=t.autoAllocateChunkSize,i===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");On(e,o,a,r,c,n,i)}function ns(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}function ot(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function ne(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function vn(e){return new V(e)}function ln(e,t){e._reader._readIntoRequests.push(t)}function Os(e,t,n){var o=e._reader,s=o._readIntoRequests.shift();n?s._closeSteps(t):s._chunkSteps(t)}function rn(e){return e._reader._readIntoRequests.length}function dt(e){var t=e._reader;return t!==void 0&&!!w(t)}V=function(){function e(e){if(m(e,1,"ReadableStreamBYOBReader"),at(e,"First parameter"),b(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!O(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Bt(this,e),this._readIntoRequests=new a}return Object.defineProperty(e.prototype,"closed",{get:function(){return w(this)?this._closedPromise:t(ce("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return e===void 0&&(e=void 0),w(this)?this._ownerReadableStream===void 0?t(D("cancel")):qe(this,e):t(ce("cancel"))},e.prototype.read=function(e){if(!w(this))return t(ce("read"));if(!ArrayBuffer.isView(e))return t(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return t(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return t(new TypeError("view's buffer must have non-zero byteLength"));if(je(e.buffer),this._ownerReadableStream===void 0)return t(D("read from"));var n,s,i=o(function(e,t){n=e,s=t}),a={_chunkSteps:function(e){return n({value:e,done:!1})},_closeSteps:function(e){return n({value:e,done:!0})},_errorSteps:function(e){return s(e)}};return Qt(this,e,a),i},e.prototype.releaseLock=function(){if(!w(this))throw ce("releaseLock");if(this._ownerReadableStream===void 0)return;if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");g(this)},e}(),Object.defineProperties(V.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(V.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function w(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof V}function Qt(e,t,n){var s=e._ownerReadableStream;s._disturbed=!0,s._state==="errored"?n._errorSteps(s._storedError):Un(s._readableStreamController,t,n)}function ce(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function se(e,t){var n=e.highWaterMark;if(n===void 0)return t;if(We(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function pe(e){var t=e.size;return t||function(){return 1}}function ge(e,t){h(e,t);var n=e?.highWaterMark,s=e?.size;return{highWaterMark:n===void 0?void 0:Ct(n),size:s===void 0?void 0:Ms(s,t+" has member 'size' that")}}function Ms(e,t){return r(e,t),function(t){return Ct(e(t))}}function Ts(e,t){h(e,t);var n=e?.abort,s=e?.close,o=e?.start,a=e?.type,i=e?.write;return{abort:n===void 0?void 0:zs(n,e,t+" has member 'abort' that"),close:s===void 0?void 0:Ps(s,e,t+" has member 'close' that"),start:o===void 0?void 0:Gs(o,e,t+" has member 'start' that"),write:i===void 0?void 0:Xs(i,e,t+" has member 'write' that"),type:a}}function zs(e,t,n){return r(e,n),function(n){return k(e,t,[n])}}function Ps(e,t,n){return r(e,n),function(){return k(e,t,[])}}function Gs(e,t,n){return r(e,n),function(n){return Le(e,t,[n])}}function Xs(e,t,n){return r(e,n),function(n,s){return k(e,t,[n,s])}}function Rt(e,t){if(!I(e))throw new TypeError(t+" is not a WritableStream.")}function eo(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}zt=typeof AbortController=="function";function no(){return zt?new AbortController:void 0}$=function(){function e(e,t){e===void 0&&(e={}),t===void 0&&(t={}),e===void 0?e=null:en(e,"First parameter");var o,i,a,n=ge(t,"Second parameter"),s=Ts(e,"First parameter");if(hn(this),o=s.type,o!==void 0)throw new RangeError("Invalid type is specified");i=pe(n),a=se(n,1),ws(this,s,a,i)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!I(this))throw he("locked");return H(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return e===void 0&&(e=void 0),I(this)?H(this)?t(new TypeError("Cannot abort a stream that already has a writer")):Fe(this,e):t(he("abort"))},e.prototype.close=function(){return I(this)?H(this)?t(new TypeError("Cannot close a stream that already has a writer")):u(this)?t(new TypeError("Cannot close an already-closing stream")):Nt(this):t(he("close"))},e.prototype.getWriter=function(){if(!I(this))throw he("getWriter");return Ft(this)},e}(),Object.defineProperties($.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty($.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});function Ft(e){return new P(e)}function lo(e,t,n,s,o,i){o===void 0&&(o=1),i===void 0&&(i=function(){return 1});var r,a=Object.create($.prototype);return hn(a),r=Object.create(T.prototype),dn(a,r,e,t,n,s,o,i),a}function hn(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new a,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function I(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof $}function H(e){return e._writer!==void 0}function Fe(e,t){if(e._state==="closed"||e._state==="errored")return s(void 0);e._writableStreamController._abortReason=t,(i=e._writableStreamController._abortController)===null||i===void 0?void 0:i.abort();var n,i,r,a=e._state;return a==="closed"||a==="errored"?s(void 0):e._pendingAbortRequest!==void 0?e._pendingAbortRequest._promise:(n=!1,a==="erroring"&&(n=!0,t=void 0),r=o(function(s,o){e._pendingAbortRequest={_promise:void 0,_resolve:s,_reject:o,_reason:t,_wasAlreadyErroring:n}}),e._pendingAbortRequest._promise=r,n||Ot(e,t),r)}function Nt(e){var s,i,n=e._state;return n==="closed"||n==="errored"?t(new TypeError("The stream (in "+n+" state) is not in the writable state and cannot be closed")):(i=o(function(t,n){var s={_resolve:t,_reject:n};e._closeRequest=s}),s=e._writer,s!==void 0&&e._backpressure&&n==="writable"&&Pe(s),_s(e._writableStreamController),i)}function Js(e){var t=o(function(t,n){var s={_resolve:t,_reject:n};e._writeRequests.push(s)});return t}function xt(e,t){var n=e._state;if(n==="writable"){Ot(e,t);return}wt(e)}function Ot(e,t){var n,s=e._writableStreamController;e._state="erroring",e._storedError=t,n=e._writer,n!==void 0&&nn(n,t),!Rs(e)&&s._started&&wt(e)}function wt(e){e._state="errored",e._writableStreamController[vt]();var t,s,n=e._storedError;if(e._writeRequests.forEach(function(e){e._reject(n)}),e._writeRequests=new a,e._pendingAbortRequest===void 0){Se(e);return}if(t=e._pendingAbortRequest,e._pendingAbortRequest=void 0,t._wasAlreadyErroring){t._reject(n),Se(e);return}s=e._writableStreamController[St](t._reason),d(s,function(){t._resolve(),Se(e)},function(n){t._reject(n),Se(e)})}function Ys(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function qs(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,xt(e,t)}function Ks(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t,n=e._state;n==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed",t=e._writer,t!==void 0&&Tn(t)}function Us(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),xt(e,t)}function u(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function Rs(e){return e._inFlightWriteRequest!==void 0||e._inFlightCloseRequest!==void 0}function Ns(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Ds(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Se(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;t!==void 0&&Ve(t,e._storedError)}function jt(e,t){var n=e._writer;n!==void 0&&t!==e._backpressure&&(t?Wn(n):Pe(n)),e._backpressure=t}P=function(){function e(e){if(m(e,1,"WritableStreamDefaultWriter"),Rt(e,"First parameter"),H(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var n,t=e._state;t==="writable"?(!u(e)&&e._backpressure?ie(this):Nn(this),ze(this)):t==="erroring"?(Ie(this,e._storedError),ze(this)):t==="closed"?(Nn(this),qn(this)):(n=e._storedError,Ie(this,n),An(this,n))}return Object.defineProperty(e.prototype,"closed",{get:function(){return E(this)?this._closedPromise:t(A("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!E(this))throw A("desiredSize");if(this._ownerWritableStream===void 0)throw q("desiredSize");return xs(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return E(this)?this._readyPromise:t(A("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return e===void 0&&(e=void 0),E(this)?this._ownerWritableStream===void 0?t(q("abort")):As(this,e):t(A("abort"))},e.prototype.close=function(){if(!E(this))return t(A("close"));var e=this._ownerWritableStream;return e===void 0?t(q("close")):u(e)?t(new TypeError("Cannot close an already-closing stream")):Jt(this)},e.prototype.releaseLock=function(){if(!E(this))throw A("releaseLock");var e=this._ownerWritableStream;if(e===void 0)return;on(this)},e.prototype.write=function(e){return e===void 0&&(e=void 0),E(this)?this._ownerWritableStream===void 0?t(q("write to")):an(this,e):t(A("write"))},e}(),Object.defineProperties(P.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(P.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function E(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof P}function As(e,t){var n=e._ownerWritableStream;return Fe(n,t)}function Jt(e){var t=e._ownerWritableStream;return Nt(t)}function ks(e){var n=e._ownerWritableStream,o=n._state;return u(n)||o==="closed"?s(void 0):o==="errored"?t(n._storedError):Jt(e)}function Es(e,t){e._closedPromiseState==="pending"?Ve(e,t):Kn(e,t)}function nn(e,t){e._readyPromiseState==="pending"?Ln(e,t):$n(e,t)}function xs(e){var n=e._ownerWritableStream,t=n._state;return t==="errored"||t==="erroring"?null:t==="closed"?0:pn(n._writableStreamController)}function on(e){var n=e._ownerWritableStream,t=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");nn(e,t),Es(e,t),n._writer=void 0,e._ownerWritableStream=void 0}function an(e,n){var o,a,s=e._ownerWritableStream,i=s._writableStreamController,r=vs(i,n);return s!==e._ownerWritableStream?t(q("write to")):(o=s._state,o==="errored"?t(s._storedError):u(s)||o==="closed"?t(new TypeError("The stream is closing or closed and cannot be written to")):o==="erroring"?t(s._storedError):(a=Js(s),os(i,n,r),a))}lt={},T=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!rt(this))throw Ze("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!rt(this))throw Ze("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(e){if(e===void 0&&(e=void 0),!rt(this))throw Ze("error");var t=this._controlledWritableStream._state;if(t!=="writable")return;wn(this,e)},e.prototype[St]=function(e){var t=this._abortAlgorithm(e);return Oe(this),t},e.prototype[vt]=function(){v(this)},e}(),Object.defineProperties(T.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(T.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function rt(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof T}function dn(e,t,n,o,i,a,r,c){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,v(t),t._abortReason=void 0,t._abortController=no(),t._started=!1,t._strategySizeAlgorithm=c,t._strategyHWM=r,t._writeAlgorithm=o,t._closeAlgorithm=i,t._abortAlgorithm=a;var l,u,h=nt(t);jt(e,h),l=n(),u=s(l),d(u,function(){t._started=!0,Re(t)},function(n){t._started=!0,xt(e,n)})}function ws(e,t,n,o){var i=Object.create(T.prototype),a=function(){},r=function(){return s(void 0)},c=function(){return s(void 0)},l=function(){return s(void 0)};t.start!==void 0&&(a=function(){return t.start(i)}),t.write!==void 0&&(r=function(e){return t.write(e,i)}),t.close!==void 0&&(c=function(){return t.close()}),t.abort!==void 0&&(l=function(e){return t.abort(e)}),dn(e,i,a,r,c,l,n,o)}function Oe(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function _s(e){Ge(e,lt,0),Re(e)}function vs(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return st(e,t),1}}function pn(e){return e._strategyHWM-e._queueTotalSize}function os(e,t,n){try{Ge(e,t,n)}catch(t){st(e,t);return}var o,s=e._controlledWritableStream;!u(s)&&s._state==="writable"&&(o=nt(e),jt(s,o)),Re(e)}function Re(e){var n,s,t=e._controlledWritableStream;if(!e._started)return;if(t._inFlightWriteRequest!==void 0)return;if(s=t._state,s==="erroring"){wt(t);return}if(e._queue.length===0)return;n=Gn(e),n===lt?ts(e):Jn(e,n)}function st(e,t){e._controlledWritableStream._state==="writable"&&wn(e,t)}function ts(e){var n,t=e._controlledWritableStream;Ns(t),Qe(e),n=e._closeAlgorithm(),Oe(e),d(n,function(){Ks(t)},function(e){Us(t,e)})}function Jn(e,t){var s,n=e._controlledWritableStream;Ds(n),s=e._writeAlgorithm(t),d(s,function(){Ys(n);var t,s=n._state;Qe(e),!u(n)&&s==="writable"&&(t=nt(e),jt(n,t)),Re(e)},function(t){n._state==="writable"&&Oe(e),qs(n,t)})}function nt(e){var t=pn(e);return t<=0}function wn(e,t){var n=e._controlledWritableStream;Oe(e),Ot(n,t)}function he(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Ze(e){return new TypeError("WritableStreamDefaultController.prototype."+e+" can only be used on a WritableStreamDefaultController")}function A(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function q(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function ze(e){e._closedPromise=o(function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function An(e,t){ze(e),Ve(e,t)}function qn(e){ze(e),Tn(e)}function Ve(e,t){if(e._closedPromise_reject===void 0)return;G(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function Kn(e,t){An(e,t)}function Tn(e){if(e._closedPromise_resolve===void 0)return;e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function ie(e){e._readyPromise=o(function(t,n){e._readyPromise_resolve=t,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function Ie(e,t){ie(e),Ln(e,t)}function Nn(e){ie(e),Pe(e)}function Ln(e,t){if(e._readyPromise_reject===void 0)return;G(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function Wn(e){ie(e)}function $n(e,t){Ie(e,t)}function Pe(e){if(e._readyPromise_resolve===void 0)return;e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}Be=typeof DOMException!="undefined"?DOMException:void 0;function Bn(e){if(typeof e!="function"&&typeof e!="object")return!1;try{return new e,!0}catch{return!1}}function Vn(){var e=function(t,n){this.message=t||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}Pn=Bn(Be)?Be:Vn();function Rn(e,t,n,i,a,r){var c,m,p=L(e),h=Ft(t);return e._disturbed=!0,c=!1,m=s(void 0),o(function(v,b){if(r!==void 0){if(y=function(){var n=new Pn("Aborted","AbortError"),o=[];i||o.push(function(){return t._state==="writable"?Fe(t,n):s(void 0)}),a||o.push(function(){return e._state==="readable"?l(e,n):s(void 0)}),j(function(){return Promise.all(o.map(function(e){return e()}))},!0,n)},r.aborted){y();return}r.addEventListener("abort",y)}function k(){return o(function(e,t){function n(s){s?e():f(A(),n,t)}n(!1)})}function A(){return c?s(!0):f(h._readyPromise,function(){return o(function(e,t){W(p,{_chunkSteps:function(t){m=f(an(h,t),void 0,kt),e(!1)},_closeSteps:function(){return e(!0)},_errorSteps:t})})})}if(C(e,p._closedPromise,function(e){i?_(!0,e):j(function(){return Fe(t,e)},!0,e)}),C(t,h._closedPromise,function(t){a?_(!0,t):j(function(){return l(e,t)},!0,t)}),E(e,p._closedPromise,function(){n?_():j(function(){return ks(h)})}),u(t)||t._state==="closed"){var y,x=new TypeError("the destination writable stream closed before all data could be piped to it");a?_(!0,x):j(function(){return l(e,x)},!0,x)}G(k());function O(){var e=m;return f(m,function(){return e!==m?O():void 0})}function C(e,t,n){e._state==="errored"?n(e._storedError):Xe(t,n)}function E(e,t,n){e._state==="closed"?n():ct(t,n)}function j(e,n,s){if(c)return;c=!0,t._state==="writable"&&!u(t)?ct(O(),o):o();function o(){d(e(),function(){return w(n,s)},function(e){return w(!0,e)})}}function _(e,n){if(c)return;c=!0,t._state==="writable"&&!u(t)?ct(O(),function(){return w(e,n)}):w(e,n)}function w(e,t){on(h),g(p),r!==void 0&&r.removeEventListener("abort",y),e?b(t):v(void 0)}})}M=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!De(this))throw be("desiredSize");return Je(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!De(this))throw be("close");if(!z(this))throw new TypeError("The stream is not in a state that permits close");Q(this)},e.prototype.enqueue=function(e){if(e===void 0&&(e=void 0),!De(this))throw be("enqueue");if(!z(this))throw new TypeError("The stream is not in a state that permits enqueue");return _e(this,e)},e.prototype.error=function(e){if(e===void 0&&(e=void 0),!De(this))throw be("error");y(this,e)},e.prototype[we]=function(e){v(this);var t=this._cancelAlgorithm(e);return Ee(this),t},e.prototype[Ce]=function(e){var n,t=this._controlledReadableStream;this._queue.length>0?(n=Qe(this),this._closeRequested&&this._queue.length===0?(Ee(this),U(t)):Z(this),e._chunkSteps(n)):(cn(t,e),Z(this))},e}(),Object.defineProperties(M.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(M.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function De(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof M}function Z(e){var t,n=kn(e);if(!n)return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,t=e._pullAlgorithm(),d(t,function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Z(e))},function(t){y(e,t)})}function kn(e){var n,t=e._controlledReadableStream;return!!z(e)&&!!e._started&&(!!(b(t)&&ue(t)>0)||(n=Je(e),n>0))}function Ee(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Q(e){if(!z(e))return;var t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Ee(e),U(t))}function _e(e,t){if(!z(e))return;var s,n=e._controlledReadableStream;if(b(n)&&ue(n)>0)At(n,t,!1);else{s=void 0;try{s=e._strategySizeAlgorithm(t)}catch(t){throw y(e,t),t}try{Ge(e,t,s)}catch(t){throw y(e,t),t}}Z(e)}function y(e,t){var n=e._controlledReadableStream;if(n._state!=="readable")return;v(e),Ee(e),Zt(n,t)}function Je(e){var t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function es(e){return!kn(e)}function z(e){var t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function bn(e,t,n,o,i,a,r){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,v(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=r,t._strategyHWM=a,t._pullAlgorithm=o,t._cancelAlgorithm=i,e._readableStreamController=t;var c=n();d(s(c),function(){t._started=!0,Z(t)},function(e){y(t,e)})}function ss(e,t,n,o){var i=Object.create(M.prototype),a=function(){},r=function(){return s(void 0)},c=function(){return s(void 0)};t.start!==void 0&&(a=function(){return t.start(i)}),t.pull!==void 0&&(r=function(){return t.pull(i)}),t.cancel!==void 0&&(c=function(e){return t.cancel(e)}),bn(e,i,a,r,c,n,o)}function be(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function is(e){return O(e._readableStreamController)?cs(e):rs(e)}function rs(e){var r,c,d,h,m,p=L(e),a=!1,f=!1,n=!1,i=!1,g=o(function(e){d=e});function u(){if(a)return f=!0,s(void 0);a=!0;var e={_chunkSteps:function(e){X(function(){f=!1;var t=e,s=e;n||_e(c._readableStreamController,t),i||_e(r._readableStreamController,s),a=!1,f&&u()})},_closeSteps:function(){a=!1,n||Q(c._readableStreamController),i||Q(r._readableStreamController),(!n||!i)&&d(void 0)},_errorSteps:function(){a=!1}};return W(p,e),s(void 0)}function b(t){if(n=!0,h=t,i){var s=J([h,m]),o=l(e,s);d(o)}return g}function j(t){if(i=!0,m=t,n){var s=J([h,m]),o=l(e,s);d(o)}return g}function v(){}return c=pt(v,u,b),r=pt(v,u,j),Xe(p._closedPromise,function(e){y(c._readableStreamController,e),y(r._readableStreamController,e),(!n||!i)&&d(void 0)}),[c,r]}function cs(e){var n,i,u,p,y,t=L(e),d=!1,m=!1,h=!1,a=!1,r=!1,x=o(function(e){u=e});function b(e){Xe(e._closedPromise,function(s){if(e!==t)return;c(n._readableStreamController,s),c(i._readableStreamController,s),(!a||!r)&&u(void 0)})}function _(){w(t)&&(g(t),t=L(e),b(t));var s={_chunkSteps:function(t){X(function(){m=!1,h=!1;var o=t,s=t;if(!a&&!r)try{s=Cn(t)}catch(t){c(n._readableStreamController,t),c(i._readableStreamController,t),u(l(e,t));return}a||xe(n._readableStreamController,o),r||xe(i._readableStreamController,s),d=!1,m?f():h&&v()})},_closeSteps:function(){d=!1,a||Y(n._readableStreamController),r||Y(i._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&ve(n._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&ve(i._readableStreamController,0),(!a||!r)&&u(void 0)},_errorSteps:function(){d=!1}};W(t,s)}function O(s,o){j(t)&&(g(t),t=vn(e),b(t));var p=o?i:n,y=o?n:i,_={_chunkSteps:function(t){X(function(){m=!1,h=!1;var n,s=o?r:a,i=o?a:r;if(i)s||fe(p._readableStreamController,t);else{n=void 0;try{n=Cn(t)}catch(t){c(p._readableStreamController,t),c(y._readableStreamController,t),u(l(e,t));return}s||fe(p._readableStreamController,t),xe(y._readableStreamController,n)}d=!1,m?f():h&&v()})},_closeSteps:function(e){d=!1;var t=o?r:a,n=o?a:r;t||Y(p._readableStreamController),n||Y(y._readableStreamController),e!==void 0&&(t||fe(p._readableStreamController,e),!n&&y._readableStreamController._pendingPullIntos.length>0&&ve(y._readableStreamController,0)),(!t||!n)&&u(void 0)},_errorSteps:function(){d=!1}};Qt(t,s,_)}function f(){if(d)return m=!0,s(void 0);d=!0;var e=ft(n._readableStreamController);return e===null?_():O(e._view,!1),s(void 0)}function v(){if(d)return h=!0,s(void 0);d=!0;var e=ft(i._readableStreamController);return e===null?_():O(e._view,!0),s(void 0)}function E(t){if(a=!0,p=t,r){var n=J([p,y]),s=l(e,n);u(s)}return x}function k(t){if(r=!0,y=t,a){var n=J([p,y]),s=l(e,n);u(s)}return x}function C(){}return n=un(C,f,E),i=un(C,v,k),b(t),[n,i]}function ls(e,t){h(e,t);var n=e,s=n?.autoAllocateChunkSize,o=n?.cancel,i=n?.pull,a=n?.start,r=n?.type;return{autoAllocateChunkSize:s===void 0?void 0:sn(s,t+" has member 'autoAllocateChunkSize' that"),cancel:o===void 0?void 0:ds(o,n,t+" has member 'cancel' that"),pull:i===void 0?void 0:us(i,n,t+" has member 'pull' that"),start:a===void 0?void 0:hs(a,n,t+" has member 'start' that"),type:r===void 0?void 0:ms(r,t+" has member 'type' that")}}function ds(e,t,n){return r(e,n),function(n){return k(e,t,[n])}}function us(e,t,n){return r(e,n),function(n){return k(e,t,[n])}}function hs(e,t,n){return r(e,n),function(n){return Le(e,t,[n])}}function ms(e,t){if(e=""+e,e!=="bytes")throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamType");return e}function fs(e,t){h(e,t);var n=e?.mode;return{mode:n===void 0?void 0:ps(n,t+" has member 'mode' that")}}function ps(e,t){if(e=""+e,e!=="byob")throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamReaderMode");return e}function gs(e,t){h(e,t);var n=e?.preventCancel;return{preventCancel:Boolean(n)}}function fn(e,t){h(e,t);var s=e?.preventAbort,o=e?.preventCancel,i=e?.preventClose,n=e?.signal;return n!==void 0&&bs(n,t+" has member 'signal' that"),{preventAbort:Boolean(s),preventCancel:Boolean(o),preventClose:Boolean(i),signal:n}}function bs(e,t){if(!eo(e))throw new TypeError(t+" is not an AbortSignal.")}function js(e,t){h(e,t);var n,s=e?.readable;return Et(s,"readable","ReadableWritablePair"),at(s,t+" has member 'readable' that"),n=e?.writable,Et(n,"writable","ReadableWritablePair"),Rt(n,t+" has member 'writable' that"),{readable:s,writable:n}}p=function(){function e(e,t){e===void 0&&(e={}),t===void 0&&(t={}),e===void 0?e=null:en(e,"First parameter");var s,i,n=ge(t,"Second parameter"),o=ls(e,"First parameter");if(gt(this),o.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");s=se(n,0),Zn(this,o,s)}else i=pe(n),s=se(n,1),ss(this,o,s,i)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!_(this))throw x("locked");return b(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return e===void 0&&(e=void 0),_(this)?b(this)?t(new TypeError("Cannot cancel a stream that already has a reader")):l(this,e):t(x("cancel"))},e.prototype.getReader=function(e){if(e===void 0&&(e=void 0),!_(this))throw x("getReader");var t=fs(e,"First parameter");return t.mode===void 0?L(this):vn(this)},e.prototype.pipeThrough=function(e,t){if(t===void 0&&(t={}),!_(this))throw x("pipeThrough");m(e,1,"pipeThrough");var o,s=js(e,"First parameter"),n=fn(t,"Second parameter");if(b(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(H(s.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return o=Rn(this,s.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal),G(o),s.readable},e.prototype.pipeTo=function(e,n){if(n===void 0&&(n={}),!_(this))return t(x("pipeTo"));if(e===void 0)return t("Parameter 1 is required in 'pipeTo'.");if(!I(e))return t(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var s;try{s=fn(n,"Second parameter")}catch(e){return t(e)}return b(this)?t(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):H(e)?t(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Rn(this,e,s.preventClose,s.preventAbort,s.preventCancel,s.signal)},e.prototype.tee=function(){if(!_(this))throw x("tee");var e=is(this);return J(e)},e.prototype.values=function(e){if(e===void 0&&(e=void 0),!_(this))throw x("values");var t=gs(e,"First parameter");return ys(this,t.preventCancel)},e}(),Object.defineProperties(p.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(p.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),typeof n.asyncIterator=="symbol"&&Object.defineProperty(p.prototype,n.asyncIterator,{value:p.prototype.values,writable:!0,configurable:!0});function pt(e,t,n,s,o){s===void 0&&(s=1),o===void 0&&(o=function(){return 1});var a,i=Object.create(p.prototype);return gt(i),a=Object.create(M.prototype),bn(i,a,e,t,n,s,o),i}function un(e,t,n){var o,s=Object.create(p.prototype);return gt(s),o=Object.create(C.prototype),On(s,o,e,t,n,0,void 0),s}function gt(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function _(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof p}function b(e){return e._reader!==void 0}function l(e,n){if(e._disturbed=!0,e._state==="closed")return s(void 0);if(e._state==="errored")return t(e._storedError);U(e);var i,o=e._reader;return o!==void 0&&w(o)&&(o._readIntoRequests.forEach(function(e){e._closeSteps(void 0)}),o._readIntoRequests=new a),i=e._readableStreamController[we](n),F(i,kt)}function U(e){e._state="closed";var t=e._reader;if(t===void 0)return;Kt(t),j(t)&&(t._readRequests.forEach(function(e){e._closeSteps()}),t._readRequests=new a)}function Zt(e,t){e._state="errored",e._storedError=t;var n=e._reader;if(n===void 0)return;et(n,t),j(n)?(n._readRequests.forEach(function(e){e._errorSteps(t)}),n._readRequests=new a):(n._readIntoRequests.forEach(function(e){e._errorSteps(t)}),n._readIntoRequests=new a)}function x(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Xt(e,t){h(e,t);var n=e?.highWaterMark;return Et(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Ct(n)}}tt=function(e){return e.byteLength};try{Object.defineProperty(tt,"name",{value:"size",configurable:!0})}catch{}K=function(){function e(e){m(e,1,"ByteLengthQueuingStrategy"),e=Xt(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!qt(this))throw Yt("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!qt(this))throw Yt("size");return tt},enumerable:!1,configurable:!0}),e}(),Object.defineProperties(K.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(K.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Yt(e){return new TypeError("ByteLengthQueuingStrategy.prototype."+e+" can only be used on a ByteLengthQueuingStrategy")}function qt(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof K}mt=function(){return 1};try{Object.defineProperty(mt,"name",{value:"size",configurable:!0})}catch{}te=function(){function e(e){m(e,1,"CountQueuingStrategy"),e=Xt(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Wt(this))throw Ut("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Wt(this))throw Ut("size");return mt},enumerable:!1,configurable:!0}),e}(),Object.defineProperties(te.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(te.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ut(e){return new TypeError("CountQueuingStrategy.prototype."+e+" can only be used on a CountQueuingStrategy")}function Wt(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof te}function Hs(e,t){h(e,t);var n=e?.flush,i=e?.readableType,s=e?.start,o=e?.transform,a=e?.writableType;return{flush:n===void 0?void 0:Is(n,e,t+" has member 'flush' that"),readableType:i,start:s===void 0?void 0:Bs(s,e,t+" has member 'start' that"),transform:o===void 0?void 0:Vs(o,e,t+" has member 'transform' that"),writableType:a}}function Is(e,t,n){return r(e,n),function(n){return k(e,t,[n])}}function Bs(e,t,n){return r(e,n),function(n){return Le(e,t,[n])}}function Vs(e,t,n){return r(e,n),function(n,s){return k(e,t,[n,s])}}ee=function(){function e(e,t,n){e===void 0&&(e={}),t===void 0&&(t={}),n===void 0&&(n={}),e===void 0&&(e=null);var i,r,c,l,d,h,a=ge(t,"Second parameter"),u=ge(n,"Third parameter"),s=Hs(e,"First parameter");if(s.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(s.writableType!==void 0)throw new RangeError("Invalid writableType specified");r=se(u,0),c=pe(u),l=se(a,1),d=pe(a),h=o(function(e){i=e}),Ws(this,h,l,d,r,c),Zs(this,s),i(s.start!==void 0?s.start(this._transformStreamController):void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!$t(this))throw Sn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!$t(this))throw Sn("writable");return this._writable},enumerable:!1,configurable:!0}),e}(),Object.defineProperties(ee.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(ee.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});function Ws(e,t,n,o,i,a){function r(){return t}function c(t){return oo(e,t)}function l(t){return io(e,t)}function d(){return ao(e)}e._writable=lo(r,c,d,l,n,o);function u(){return ro(e)}function h(t){return Ae(e,t),s(void 0)}e._readable=pt(r,u,h,i,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,de(e,!0),e._transformStreamController=void 0}function $t(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof ee}function ye(e,t){y(e._readable._readableStreamController,t),Ae(e,t)}function Ae(e,t){Lt(e._transformStreamController),st(e._writable._writableStreamController,t),e._backpressure&&de(e,!1)}function de(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=o(function(t){e._backpressureChangePromise_resolve=t}),e._backpressure=t}B=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!me(this))throw Te("desiredSize");var e=this._controlledTransformStream._readable._readableStreamController;return Je(e)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(e===void 0&&(e=void 0),!me(this))throw Te("enqueue");Dt(this,e)},e.prototype.error=function(e){if(e===void 0&&(e=void 0),!me(this))throw Te("error");to(this,e)},e.prototype.terminate=function(){if(!me(this))throw Te("terminate");so(this)},e}(),Object.defineProperties(B.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(B.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function me(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof B}function Qs(e,t,n,s){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=s}function Zs(e,n){var o=Object.create(B.prototype),i=function(e){try{return Dt(o,e),s(void 0)}catch(e){return t(e)}},a=function(){return s(void 0)};n.transform!==void 0&&(i=function(e){return n.transform(e,o)}),n.flush!==void 0&&(a=function(){return n.flush(o)}),Qs(e,o,i,a)}function Lt(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Dt(e,t){var o,n=e._controlledTransformStream,s=n._readable._readableStreamController;if(!z(s))throw new TypeError("Readable side is not in a state that permits enqueue");try{_e(s,t)}catch(e){throw Ae(n,e),n._readable._storedError}o=es(s),o!==n._backpressure&&de(n,!0)}function to(e,t){ye(e._controlledTransformStream,t)}function Tt(e,t){var n=e._transformAlgorithm(t);return F(n,void 0,function(t){throw ye(e._controlledTransformStream,t),t})}function so(e){var n,t=e._controlledTransformStream,s=t._readable._readableStreamController;Q(s),n=new TypeError("TransformStream terminated"),Ae(t,n)}function oo(e,t){var s,n=e._transformStreamController;return e._backpressure?(s=e._backpressureChangePromise,F(s,function(){var s=e._writable,o=s._state;if(o==="erroring")throw s._storedError;return Tt(n,t)})):Tt(n,t)}function io(e,t){return ye(e,t),s(void 0)}function ao(e){var t=e._readable,n=e._transformStreamController,s=n._flushAlgorithm();return Lt(n),F(s,function(){if(t._state==="errored")throw t._storedError;Q(t._readableStreamController)},function(n){throw ye(e,n),t._storedError})}function ro(e){return de(e,!1),e._backpressureChangePromise}function Te(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function Sn(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.ByteLengthQueuingStrategy=K,e.CountQueuingStrategy=te,e.ReadableByteStreamController=C,e.ReadableStream=p,e.ReadableStreamBYOBReader=V,e.ReadableStreamBYOBRequest=R,e.ReadableStreamDefaultController=M,e.ReadableStreamDefaultReader=N,e.TransformStream=ee,e.TransformStreamDefaultController=B,e.WritableStream=$,e.WritableStreamDefaultController=T,e.WritableStreamDefaultWriter=P,Object.defineProperty(e,"__esModule",{value:!0})})}}),s=e({"(disabled):fs"(){}}),m=e({"(disabled):canvas"(){}}),f=e({"(disabled):zlib"(){}}),p=e({"(disabled):http"(){}}),g=e({"(disabled):https"(){}}),v=e({"(disabled):url"(){}}),b=e({"node_modules/pdfjs-dist/legacy/build/pdf.js"(e,t){(function(s,o){typeof e=="object"&&typeof t=="object"?t.exports=o():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],o):typeof e=="object"?e["pdfjs-dist/build/pdf"]=o():s["pdfjs-dist/build/pdf"]=s.pdfjsLib=o()})(e,()=>(()=>{var t,o=[,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=y,t.arraysToBytes=ve,t.assert=ie,t.bytesToString=fe,t.createPromiseCapability=Le,t.createValidAbsoluteUrl=oe,t.escapeString=Ae,t.getModificationDate=Ne,t.getVerbosityLevel=re,t.info=ae,t.isArrayBuffer=ze,t.isArrayEqual=De,t.isAscii=Se,t.objectFromMap=ye,t.objectSize=je,t.setVerbosityLevel=ce,t.shadow=f,t.string32=be,t.stringToBytes=b,t.stringToPDFString=ke,t.stringToUTF16BEString=Me,t.stringToUTF8String=J,t.unreachable=c,t.utf8StringToString=Te,t.warn=ee,n(2);function l(e){return Ce(e)||Ee(e)||v(e)||Fe()}function Fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ee(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ce(e){if(Array.isArray(e))return g(e)}function xe(e,t){return pe(e)||ge(e,t)||v(e,t)||Oe()}function Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function pe(e){if(Array.isArray(e))return e}function me(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=v(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function v(e,t){if(!e)return;if(typeof e=="string")return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}function g(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function d(e){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function x(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}function j(e,t){return j=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},j(e,t)}function a(e){var t=de();return function(){var s,i,o=m(e);return t?(i=m(this).constructor,s=Reflect.construct(o,arguments,i)):s=o.apply(this,arguments),he(this,s)}}function he(e,t){if(t&&(d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}function ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(e)}var o,u,h,p,_,w,O,C,E,k,A,S,M,F,T,z,D,N,L,R,P,H,I,B,V,$,W,U,K,q,Y,G,X,Q,Z,le=[1,0,0,1,0,0],ne,te;t.IDENTITY_MATRIX=le,E=[.001,0,0,.001,0,0],t.FONT_IDENTITY_MATRIX=E,k={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.RenderingIntentFlag=k,A={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationMode=A,S={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.PermissionFlag=S,M={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.TextRenderingMode=M,F={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.ImageKind=F,T={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationType=T,z={MARKED:"Marked",REVIEW:"Review"},t.AnnotationStateModelType=z,D={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationMarkedState=D,N={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReviewState=N,L={GROUP:"Group",REPLY:"R"},t.AnnotationReplyType=L,R={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFlag=R,P={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationFieldFlag=P,H={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationBorderStyleType=H,I={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.AnnotationActionEventType=I,B={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.DocumentActionEventType=B,V={O:"PageOpen",C:"PageClose"},t.PageActionEventType=V,$={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.StreamType=$,W={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"},t.FontType=W,h={ERRORS:0,WARNINGS:1,INFOS:5},t.VerbosityLevel=h,K={NONE:0,BINARY:1,STREAM:2},t.CMapCompressionType=K,ne={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.OPS=ne,Y={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},t.UNSUPPORTED_FEATURES=Y,te={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},t.PasswordResponses=te,u=h.WARNINGS;function ce(e){Number.isInteger(e)&&(u=e)}function re(){return u}function ae(e){u>=h.INFOS&&console.log("Info: ".concat(e))}function ee(e){u>=h.WARNINGS&&console.log("Warning: ".concat(e))}function c(e){throw new Error(e)}function ie(e,t){e||c(t)}function se(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function oe(e){var n,s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e)return null;try{if(t&&typeof e=="string"&&(t.addDefaultProtocol&&e.startsWith("www.")&&(n=e.match(/\./g),n&&n.length>=2&&(e="http://".concat(e))),t.tryConvertEncoding))try{e=J(e)}catch{}if(s=o?new URL(e,o):new URL(e),se(s))return s}catch{}return null}function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}o=function(){function t(e,n){this.constructor===t&&c("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}(),t.BaseException=o,Z=function(e){r(t,e);var n=a(t);function t(e,o){var i;return s(this,t),i=n.call(this,e,"PasswordException"),i.code=o,i}return i(t)}(o),t.PasswordException=Z,Q=function(e){r(t,e);var n=a(t);function t(e,o){var i;return s(this,t),i=n.call(this,e,"UnknownErrorException"),i.details=o,i}return i(t)}(o),t.UnknownErrorException=Q,C=function(e){r(t,e);var n=a(t);function t(e){return s(this,t),n.call(this,e,"InvalidPDFException")}return i(t)}(o),t.InvalidPDFException=C,O=function(e){r(t,e);var n=a(t);function t(e){return s(this,t),n.call(this,e,"MissingPDFException")}return i(t)}(o),t.MissingPDFException=O,w=function(e){r(t,e);var n=a(t);function t(e,o){var i;return s(this,t),i=n.call(this,e,"UnexpectedResponseException"),i.status=o,i}return i(t)}(o),t.UnexpectedResponseException=w,_=function(e){r(t,e);var n=a(t);function t(e){return s(this,t),n.call(this,e,"FormatError")}return i(t)}(o),t.FormatError=_,U=function(e){r(t,e);var n=a(t);function t(e){return s(this,t),n.call(this,e,"AbortException")}return i(t)}(o),t.AbortException=U;function fe(e){(d(e)!=="object"||e===null||e.length===void 0)&&c("Invalid argument for bytesToString");var t,o,i,a,n=e.length,s=8192;if(n<s)return String.fromCharCode.apply(null,e);o=[];for(t=0;t<n;t+=s)i=Math.min(t+s,n),a=e.subarray(t,i),o.push(String.fromCharCode.apply(null,a));return o.join("")}function b(e){typeof e!="string"&&c("Invalid argument for stringToBytes");for(var n=e.length,s=new Uint8Array(n),t=0;t<n;++t)s[t]=e.charCodeAt(t)&255;return s}function y(e){if(e.length!==void 0)return e.length;if(e.byteLength!==void 0)return e.byteLength;c("Invalid argument for arrayByteLength")}function ve(e){var t,n,s,o,i,a,c,r=e.length;if(r===1&&e[0]instanceof Uint8Array)return e[0];o=0;for(n=0;n<r;n++)o+=y(e[n]);i=0,a=new Uint8Array(o);for(s=0;s<r;s++)t=e[s],t instanceof Uint8Array||(typeof t=="string"?t=b(t):t=new Uint8Array(t)),c=t.byteLength,a.set(t,i),i+=c;return a}function be(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function je(e){return Object.keys(e).length}function ye(e){n=Object.create(null),t=me(e);try{for(t.s();!(s=t.n()).done;){var t,n,s,o=xe(s.value,2),i=o[0],a=o[1];n[i]=a}}catch(e){t.e(e)}finally{t.f()}return n}function _e(){var t,e=new Uint8Array(4);return e[0]=1,t=new Uint32Array(e.buffer,0,1),t[0]===1}function we(){try{return new Function(""),!0}catch{return!1}}q=function(){function e(){s(this,e)}return i(e,null,[{key:"isLittleEndian",get:function(){return f(this,"isLittleEndian",_e())}},{key:"isEvalSupported",get:function(){return f(this,"isEvalSupported",we())}},{key:"isOffscreenCanvasSupported",get:function(){return f(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas!="undefined")}}]),e}(),t.FeatureTest=q,p=l(Array(256).keys()).map(function(e){return e.toString(16).padStart(2,"0")}),G=function(){function e(){s(this,e)}return i(e,null,[{key:"makeHexColor",value:function(t,n,s){return"#".concat(p[t]).concat(p[n]).concat(p[s])}},{key:"scaleMinMax",value:function(t,n){var s;t[0]?(t[0]<0&&(s=n[0],n[0]=n[1],n[1]=s),n[0]*=t[0],n[1]*=t[0],t[3]<0&&(s=n[2],n[2]=n[3],n[3]=s),n[2]*=t[3],n[3]*=t[3]):(s=n[0],n[0]=n[2],n[2]=s,s=n[1],n[1]=n[3],n[3]=s,t[1]<0&&(s=n[2],n[2]=n[3],n[3]=s),n[2]*=t[1],n[3]*=t[1],t[2]<0&&(s=n[0],n[0]=n[1],n[1]=s),n[0]*=t[2],n[1]*=t[2]),n[0]+=t[4],n[1]+=t[4],n[2]+=t[5],n[3]+=t[5]}},{key:"transform",value:function(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]}},{key:"applyTransform",value:function(t,n){var s=t[0]*n[0]+t[1]*n[2]+n[4],o=t[0]*n[1]+t[1]*n[3]+n[5];return[s,o]}},{key:"applyInverseTransform",value:function(t,n){var s=n[0]*n[3]-n[1]*n[2],o=(t[0]*n[3]-t[1]*n[2]+n[2]*n[5]-n[4]*n[3])/s,i=(-t[0]*n[1]+t[1]*n[0]+n[4]*n[1]-n[5]*n[0])/s;return[o,i]}},{key:"getAxialAlignedBoundingBox",value:function(n,s){var o=e.applyTransform(n,s),i=e.applyTransform(n.slice(2,4),s),a=e.applyTransform([n[0],n[3]],s),r=e.applyTransform([n[2],n[1]],s);return[Math.min(o[0],i[0],a[0],r[0]),Math.min(o[1],i[1],a[1],r[1]),Math.max(o[0],i[0],a[0],r[0]),Math.max(o[1],i[1],a[1],r[1])]}},{key:"inverseTransform",value:function(t){var n=t[0]*t[3]-t[1]*t[2];return[t[3]/n,-t[1]/n,-t[2]/n,t[0]/n,(t[2]*t[5]-t[4]*t[3])/n,(t[4]*t[1]-t[5]*t[0])/n]}},{key:"apply3dTransform",value:function(t,n){return[t[0]*n[0]+t[1]*n[1]+t[2]*n[2],t[3]*n[0]+t[4]*n[1]+t[5]*n[2],t[6]*n[0]+t[7]*n[1]+t[8]*n[2]]}},{key:"singularValueDecompose2dScale",value:function(t){var n=[t[0],t[2],t[1],t[3]],s=t[0]*n[0]+t[1]*n[2],r=t[0]*n[1]+t[1]*n[3],c=t[2]*n[0]+t[3]*n[2],o=t[2]*n[1]+t[3]*n[3],i=(s+o)/2,a=Math.sqrt(Math.pow(s+o,2)-4*(s*o-c*r))/2,l=i+a||1,d=i-a||1;return[Math.sqrt(l),Math.sqrt(d)]}},{key:"normalizeRect",value:function(t){var n=t.slice(0);return t[0]>t[2]&&(n[0]=t[2],n[2]=t[0]),t[1]>t[3]&&(n[1]=t[3],n[3]=t[1]),n}},{key:"intersect",value:function(t,n){var s,o,i=Math.max(Math.min(t[0],t[2]),Math.min(n[0],n[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(n[0],n[2]));return i>a?null:(s=Math.max(Math.min(t[1],t[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(n[1],n[3])),s>o?null:[i,s,a,o])}},{key:"bezierBoundingBox",value:function(t,n,s,o,i,a,r,c){for(var d,u,m,f,p,g,b,j,y,_,w,v=[],h=[[],[]],O=0;O<2;++O){if(O===0?(m=6*t-12*s+6*i,p=-3*t+9*s-9*i+3*r,j=3*s-3*t):(m=6*n-12*o+6*a,p=-3*n+9*o-9*a+3*c,j=3*o-3*n),Math.abs(p)<1e-12){if(Math.abs(m)<1e-12)continue;d=-j/m,0<d&&d<1&&v.push(d);continue}if(_=m*m-4*j*p,w=Math.sqrt(_),_<0)continue;b=(-m+w)/(2*p),0<b&&b<1&&v.push(b),y=(-m-w)/(2*p),0<y&&y<1&&v.push(y)}for(g=v.length,f=g;g--;)d=v[g],u=1-d,h[0][g]=u*u*u*t+3*u*u*d*s+3*u*d*d*i+d*d*d*r,h[1][g]=u*u*u*n+3*u*u*d*o+3*u*d*d*a+d*d*d*c;return h[0][f]=t,h[1][f]=n,h[0][f+1]=r,h[1][f+1]=c,h[0].length=h[1].length=f+2,[Math.min.apply(Math,l(h[0])),Math.min.apply(Math,l(h[1])),Math.max.apply(Math,l(h[0])),Math.max.apply(Math,l(h[1]))]}}]),e}(),t.Util=G,X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ke(e){if(e[0]>="\xEF"&&(e[0]==="\xFE"&&e[1]==="\xFF"?t="utf-16be":e[0]==="\xFF"&&e[1]==="\xFE"?t="utf-16le":e[0]==="\xEF"&&e[1]==="\xBB"&&e[2]==="\xBF"&&(t="utf-8"),t))try{return i=new TextDecoder(t,{fatal:!0}),a=b(e),i.decode(a)}catch(e){ee('stringToPDFString: "'.concat(e,'".'))}s=[];for(var t,s,o,i,a,n=0,r=e.length;n<r;n++)o=X[e.charCodeAt(n)],s.push(o?String.fromCharCode(o):e.charAt(n));return s.join("")}function Ae(e){return e.replace(/([()\\\n\r])/g,function(e){return e===`
`?`\\n`:e===``?`\\r`:"\\".concat(e)})}function Se(e){return/^[\x00-\x7F]*$/.test(e)}function Me(e){t=["\xFE\xFF"];for(var t,s,n=0,o=e.length;n<o;n++)s=e.charCodeAt(n),t.push(String.fromCharCode(s>>8&255),String.fromCharCode(s&255));return t.join("")}function J(e){return decodeURIComponent(escape(e))}function Te(e){return unescape(encodeURIComponent(e))}function ze(e){return d(e)==="object"&&e!==null&&e.byteLength!==void 0}function De(e,t){if(e.length!==t.length)return!1;for(var n=0,s=e.length;n<s;n++)if(e[n]!==t[n])return!1;return!0}function Ne(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date,t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")}function Le(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise(function(n,s){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,s(e)}}),e}},(e,t,n)=>{"use strict";var s=n(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){if(globalThis.btoa||!s.isNodeJS)return;globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}}(),function(){if(globalThis.atob||!s.isNodeJS)return;globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}}(),function(){if(globalThis.DOMMatrix||!s.isNodeJS)return;globalThis.DOMMatrix=d()}(),function(){if(globalThis.Promise.allSettled)return;globalThis.Promise=n(4)}(),function(){if(globalThis.ReadableStream||!s.isNodeJS)return;globalThis.ReadableStream=u().ReadableStream}(),function(){if(globalThis.structuredClone)return;n(137)}())},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;function n(e){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var s=(typeof process=="undefined"?"undefined":n(process))==="object"&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=s},(e,t,n)=>{n(5),n(91),n(97),n(99),n(131),n(132),n(133),n(134);var s=n(136);e.exports=s.Promise},(e,t,n)=>{n(6)},(e,t,n)=>{"use strict";var a,w=n(7),_=n(8),j=n(27),m=n(69),r=n(71),u=n(57),l=n(73),o=n(46),c=n(15),h=n(77),d=n(78),f=n(79),p=n(88),g=n(36),v=n(90),b=g("toStringTag"),i=_.Error,y=[].push,s=function(t,n){var s,c,g=arguments.length>2?arguments[2]:void 0,u=j(a,this);return r?s=r(new i,u?m(this):a):(s=u?this:l(a),o(s,b,"Error")),n!==void 0&&o(s,"message",p(n)),v&&o(s,"stack",h(s.stack,1)),d(s,g),c=[],f(t,y,{that:c}),o(s,"errors",c),s};r?r(s,i):u(s,i,{name:!0}),a=s.prototype=l(i.prototype,{constructor:c(1,s),message:c(1,""),name:c(1,"AggregateError")}),w({global:!0},{AggregateError:s})},(e,t,n)=>{var s=n(8),o=n(9).f,i=n(46),a=n(50),r=n(40),c=n(57),l=n(68);e.exports=function(e,t){var n,d,u,h,f,p,m=e.target,g=e.global,v=e.stat;if(g?d=s:v?d=s[m]||r(m,{}):d=(s[m]||{}).prototype,d)for(u in t){if(h=t[u],e.noTargetGet?(f=o(d,u),n=f&&f.value):n=d[u],p=l(g?u:m+(v?".":"#")+u,e.forced),!p&&n!==void 0){if(typeof h==typeof n)continue;c(h,n)}(e.sham||n&&n.sham)&&i(h,"sham",!0),a(d,u,h,e)}}},e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof global=="object"&&global)||function(){return this}()||Function("return this")()},(e,t,n)=>{var o=n(10),i=n(12),u=n(14),a=n(15),r=n(16),c=n(21),l=n(41),d=n(44),s=Object.getOwnPropertyDescriptor;t.f=o?s:function(t,n){if(t=r(t),n=c(n),d)try{return s(t,n)}catch{}if(l(t,n))return a(!i(u.f,t,n),t[n])}},(e,t,n)=>{var s=n(11);e.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},e=>{e.exports=function(e){try{return!!e()}catch{return!0}}},(e,t,n)=>{var o=n(13),s=Function.prototype.call;e.exports=o?s.bind(s):function(){return s.apply(s,arguments)}},(e,t,n)=>{var s=n(11);e.exports=!s(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})},(e,t)=>{"use strict";var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!n.call({1:2},1);t.f=o?function(t){var n=s(this,t);return!!n&&n.enumerable}:n},e=>{e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},(e,t,n)=>{var s=n(17),o=n(20);e.exports=function(e){return s(o(e))}},(e,t,n)=>{var o=n(8),i=n(18),a=n(11),r=n(19),s=o.Object,c=i("".split);e.exports=a(function(){return!s("z").propertyIsEnumerable(0)})?function(e){return r(e)=="String"?c(e,""):s(e)}:s},(e,t,n)=>{var o=n(13),i=Function.prototype,a=i.bind,s=i.call,r=o&&a.bind(s,s);e.exports=o?function(e){return e&&r(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},(e,t,n)=>{var s=n(18),o=s({}.toString),i=s("".slice);e.exports=function(e){return i(o(e),8,-1)}},(e,t,n)=>{var s=n(8),o=s.TypeError;e.exports=function(e){if(e==null)throw o("Can't call method on "+e);return e}},(e,t,n)=>{var s=n(22),o=n(25);e.exports=function(e){var t=s(e,"string");return o(t)?t:t+""}},(e,t,n)=>{var i=n(8),a=n(12),s=n(23),o=n(25),r=n(32),c=n(35),l=n(36),d=i.TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!s(e)||o(e))return e;var n,i=r(e,u);if(i){if(t===void 0&&(t="default"),n=a(i,e,t),!s(n)||o(n))return n;throw d("Can't convert object to primitive value")}return t===void 0&&(t="number"),c(e,t)}},(e,t,n)=>{var s=n(24);e.exports=function(e){return typeof e=="object"?e!==null:s(e)}},e=>{e.exports=function(e){return typeof e=="function"}},(e,t,n)=>{var s=n(8),o=n(26),i=n(24),a=n(27),r=n(28),c=s.Object;e.exports=r?function(e){return typeof e=="symbol"}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,c(e))}},(e,t,n)=>{var s=n(8),o=n(24),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(s[e]):s[e]&&s[e][t]}},(e,t,n)=>{var s=n(18);e.exports=s({}.isPrototypeOf)},(e,t,n)=>{var s=n(29);e.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(e,t,n)=>{var s=n(30),o=n(11);e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&s&&s<41})},(e,t,n)=>{var s,o,d=n(8),i=n(31),a=d.process,r=d.Deno,c=a&&a.versions||r&&r.version,l=c&&c.v8;l&&(s=l.split("."),o=s[0]>0&&s[0]<4?1:+(s[0]+s[1])),!o&&i&&(s=i.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=i.match(/Chrome\/(\d+)/),s&&(o=+s[1]))),e.exports=o},(e,t,n)=>{var s=n(26);e.exports=s("navigator","userAgent")||""},(e,t,n)=>{var s=n(33);e.exports=function(e,t){var n=e[t];return n==null?void 0:s(n)}},(e,t,n)=>{var s=n(8),o=n(24),i=n(34),a=s.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a function")}},(e,t,n)=>{var s=n(8),o=s.String;e.exports=function(e){try{return o(e)}catch{return"Object"}}},(e,t,n)=>{var a=n(8),s=n(12),o=n(24),i=n(23),r=a.TypeError;e.exports=function(e,t){var n,a;if(t==="string"&&o(n=e.toString)&&!i(a=s(n,e)))return a;if(o(n=e.valueOf)&&!i(a=s(n,e)))return a;if(t!=="string"&&o(n=e.toString)&&!i(a=s(n,e)))return a;throw r("Can't convert object to primitive value")}},(e,t,n)=>{var d=n(8),u=n(37),i=n(41),l=n(43),a=n(29),r=n(28),o=u("wks"),s=d.Symbol,c=s&&s.for,h=r?s:s&&s.withoutSetter||l;e.exports=function(e){if(!i(o,e)||!a&&typeof o[e]!="string"){var t="Symbol."+e;a&&i(s,e)?o[e]=s[e]:r&&c?o[e]=c(t):o[e]=h(t)}return o[e]}},(e,t,n)=>{var o=n(38),s=n(39);(e.exports=function(e,t){return s[e]||(s[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.22.3",mode:o?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.3/LICENSE",source:"https://github.com/zloirock/core-js"})},e=>{e.exports=!1},(e,t,n)=>{var o=n(8),i=n(40),s="__core-js_shared__",a=o[s]||i(s,{});e.exports=a},(e,t,n)=>{var s=n(8),o=Object.defineProperty;e.exports=function(e,t){try{o(s,e,{value:t,configurable:!0,writable:!0})}catch{s[e]=t}return t}},(e,t,n)=>{var s=n(18),o=n(42),i=s({}.hasOwnProperty);e.exports=Object.hasOwn||function(t,n){return i(o(t),n)}},(e,t,n)=>{var s=n(8),o=n(20),i=s.Object;e.exports=function(e){return i(o(e))}},(e,t,n)=>{var s=n(18),o=0,i=Math.random(),a=s(1..toString);e.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+a(++o+i,36)}},(e,t,n)=>{var s=n(10),o=n(11),i=n(45);e.exports=!s&&!o(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},(e,t,n)=>{var i=n(8),o=n(23),s=i.document,a=o(s)&&o(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},(e,t,n)=>{var s=n(10),o=n(47),i=n(15);e.exports=s?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},(e,t,n)=>{var l=n(8),h=n(10),d=n(44),f=n(48),s=n(49),c=n(21),u=l.TypeError,o=Object.defineProperty,m=Object.getOwnPropertyDescriptor,i="enumerable",r="configurable",a="writable";t.f=h?f?function(t,n,l){if(s(t),n=c(n),s(l),typeof t=="function"&&n==="prototype"&&"value"in l&&a in l&&!l[a]){var d=m(t,n);d&&d[a]&&(t[n]=l.value,l={configurable:r in l?l[r]:d[r],enumerable:i in l?l[i]:d[i],writable:!1})}return o(t,n,l)}:o:function(t,n,i){if(s(t),n=c(n),s(i),d)try{return o(t,n,i)}catch{}if("get"in i||"set"in i)throw u("Accessors not supported");return"value"in i&&(t[n]=i.value),t}},(e,t,n)=>{var s=n(10),o=n(11);e.exports=s&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(e,t,n)=>{var s=n(8),o=n(23),i=s.String,a=s.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not an object")}},(e,t,n)=>{var l=n(8),o=n(24),a=n(41),i=n(46),r=n(40),c=n(51),s=n(52),d=n(56).CONFIGURABLE,u=s.get,h=s.enforce,m=String(String).split("String");(e.exports=function(e,t,n,s){var f,p=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,g=!!s&&!!s.noTargetGet,c=s&&s.name!==void 0?s.name:t;if(o(n)&&(String(c).slice(0,7)==="Symbol("&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(n,"name")||d&&n.name!==c)&&i(n,"name",c),f=h(n),f.source||(f.source=m.join(typeof c=="string"?c:""))),e===l){u?e[t]=n:r(t,n);return}p?!g&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)})(Function.prototype,"toString",function(){return o(this)&&u(this).source||c(this)})},(e,t,n)=>{var o=n(18),i=n(24),s=n(39),a=o(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},(e,t,n)=>{var s,o,i,a,r,d,m,g,x=n(53),p=n(8),h=n(18),O=n(23),w=n(46),c=n(41),l=n(39),_=n(54),y=n(55),f="Object already initialized",u=p.TypeError,v=p.WeakMap,b=function(e){return r(e)?i(e):a(e,{})},j=function(e){return function(t){var n;if(!O(t)||(n=i(t)).type!==e)throw u("Incompatible receiver, "+e+" required");return n}};x||l.state?(s=l.state||(l.state=new v),g=h(s.get),d=h(s.has),m=h(s.set),a=function(e,t){if(d(s,e))throw new u(f);return t.facade=e,m(s,e,t),t},i=function(e){return g(s,e)||{}},r=function(e){return d(s,e)}):(o=_("state"),y[o]=!0,a=function(e,t){if(c(e,o))throw new u(f);return t.facade=e,w(e,o,t),t},i=function(e){return c(e,o)?e[o]:{}},r=function(e){return c(e,o)}),e.exports={set:a,get:i,has:r,enforce:b,getterFor:j}},(e,t,n)=>{var o=n(8),i=n(24),a=n(51),s=o.WeakMap;e.exports=i(s)&&/native code/.test(a(s))},(e,t,n)=>{var o=n(37),i=n(43),s=o("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},e=>{e.exports={}},(e,t,n)=>{var s=n(10),a=n(41),i=Function.prototype,r=s&&Object.getOwnPropertyDescriptor,o=a(i,"name"),c=o&&function(){}.name==="something",l=o&&(!s||s&&r(i,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:l}},(e,t,n)=>{var s=n(41),o=n(58),i=n(9),a=n(47);e.exports=function(e,t,n){for(var r,l=o(t),d=a.f,u=i.f,c=0;c<l.length;c++)r=l[c],!s(e,r)&&!(n&&s(n,r))&&d(e,r,u(t,r))}},(e,t,n)=>{var s=n(26),o=n(18),i=n(59),a=n(67),r=n(49),c=o([].concat);e.exports=s("Reflect","ownKeys")||function(t){var n=i.f(r(t)),s=a.f;return s?c(n,s(t)):n}},(e,t,n)=>{var s=n(60),o=n(66),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(t){return s(t,i)}},(e,t,n)=>{var i=n(18),s=n(41),a=n(16),r=n(61).indexOf,c=n(55),o=i([].push);e.exports=function(e,t){var n,l=a(e),d=0,i=[];for(n in l)!s(c,n)&&s(l,n)&&o(i,n);for(;t.length>d;)s(l,n=t[d++])&&(~r(i,n)||o(i,n));return i}},(e,t,n)=>{var o=n(16),i=n(62),a=n(64),s=function(e){return function(t,n,s){var d,c=o(t),l=a(c),r=i(s,l);if(e&&n!=n){for(;l>r;)if(d=c[r++],d!=d)return!0}else for(;l>r;r++)if((e||r in c)&&c[r]===n)return e||r||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},(e,t,n)=>{var s=n(63),o=Math.max,i=Math.min;e.exports=function(e,t){var n=s(e);return n<0?o(n+t,0):i(n,t)}},e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var s=+e;return s!==s||s===0?0:(s>0?n:t)(s)}},(e,t,n)=>{var s=n(65);e.exports=function(e){return s(e.length)}},(e,t,n)=>{var s=n(63),o=Math.min;e.exports=function(e){return e>0?o(s(e),9007199254740991):0}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,n)=>{var o=n(11),i=n(24),a=/#|\.prototype\./,s=function(e,t){var n=c[r(e)];return n==d||n!=l&&(i(t)?o(t):!!t)},r=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",d=s.POLYFILL="P";e.exports=s},(e,t,n)=>{var l=n(8),d=n(41),i=n(24),a=n(42),r=n(54),c=n(70),o=r("IE_PROTO"),s=l.Object,u=s.prototype;e.exports=c?s.getPrototypeOf:function(e){var n,t=a(e);return d(t,o)?t[o]:(n=t.constructor,i(n)&&t instanceof n?n.prototype:t instanceof s?u:null)}},(e,t,n)=>{var s=n(11);e.exports=!s(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},(e,t,n)=>{var s=n(18),o=n(49),i=n(72);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch{}return function(s,a){return o(s),i(a),t?e(s,a):s.__proto__=a,s}}():void 0)},(e,t,n)=>{var s=n(8),o=n(24),i=s.String,a=s.TypeError;e.exports=function(e){if(typeof e=="object"||o(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},(e,t,n)=>{var o,y=n(49),j=n(74),m=n(66),p=n(55),g=n(76),f=n(45),v=n(54),d=">",u="<",r="prototype",a="script",c=v("IE_PROTO"),i=function(){},h=function(e){return u+a+d+e+u+"/"+a+d},l=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=f("iframe"),n="java"+a+":";return t.style.display="none",g.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(h("document.F=Object")),e.close(),e.F},s=function(){try{o=new ActiveXObject("htmlfile")}catch{}s=typeof document!="undefined"?document.domain&&o?l(o):b():l(o);for(var e=m.length;e--;)delete s[r][m[e]];return s()};p[c]=!0,e.exports=Object.create||function(t,n){var o;return t!==null?(i[r]=y(t),o=new i,i[r]=null,o[c]=t):o=s(),n===void 0?o:j.f(o,n)}},(e,t,n)=>{var s=n(10),o=n(48),i=n(47),a=n(49),r=n(16),c=n(75);t.f=s&&!o?Object.defineProperties:function(t,n){a(t);for(var l,d=r(n),s=c(n),u=s.length,o=0;u>o;)i.f(t,l=s[o++],d[l]);return t}},(e,t,n)=>{var s=n(60),o=n(66);e.exports=Object.keys||function(t){return s(t,o)}},(e,t,n)=>{var s=n(26);e.exports=s("document","documentElement")},(e,t,n)=>{var i=n(18),s=Error,a=i("".replace),r=function(e){return String(s(e).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,c=o.test(r);e.exports=function(e,t){if(c&&typeof e=="string"&&!s.prepareStackTrace)for(;t--;)e=a(e,o,"");return e}},(e,t,n)=>{var s=n(23),o=n(46);e.exports=function(e,t){s(t)&&"cause"in t&&o(e,"cause",t.cause)}},(e,t,n)=>{var g=n(8),p=n(80),m=n(12),d=n(49),r=n(34),c=n(81),l=n(64),o=n(27),u=n(83),h=n(84),i=n(87),f=g.TypeError,s=function(e,t){this.stopped=e,this.result=t},a=s.prototype;e.exports=function(e,t,n){var g,v,b,j,O,x,E,S=n&&n.that,A=!!(n&&n.AS_ENTRIES),k=!!(n&&n.IS_ITERATOR),w=!!(n&&n.INTERRUPTED),y=p(t,S),C=function(e){return v&&i(v,"normal",e),new s(!0,e)},_=function(e){return A?(d(e),w?y(e[0],e[1],C):y(e[0],e[1])):w?y(e,C):y(e)};if(k)v=e;else{if(j=h(e),!j)throw f(r(e)+" is not iterable");if(c(j)){for(b=0,x=l(e);x>b;b++)if(g=_(e[b]),g&&o(a,g))return g;return new s(!1)}v=u(e,j)}for(E=v.next;!(O=m(E,v)).done;){try{g=_(O.value)}catch(e){i(v,"throw",e)}if(typeof g=="object"&&g&&o(a,g))return g}return new s(!1)}},(e,t,n)=>{var s=n(18),o=n(33),i=n(13),a=s(s.bind);e.exports=function(e,t){return o(e),t===void 0?e:i?a(e,t):function(){return e.apply(t,arguments)}}},(e,t,n)=>{var s=n(36),o=n(82),i=s("iterator"),a=Array.prototype;e.exports=function(e){return e!==void 0&&(o.Array===e||a[i]===e)}},e=>{e.exports={}},(e,t,n)=>{var s=n(8),o=n(12),i=n(33),a=n(49),r=n(34),c=n(84),l=s.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(i(n))return a(o(n,e));throw l(r(e)+" is not iterable")}},(e,t,n)=>{var o=n(85),s=n(32),i=n(82),a=n(36),r=a("iterator");e.exports=function(e){if(e!=null)return s(e,r)||s(e,"@@iterator")||i[o(e)]}},(e,t,n)=>{var o=n(8),i=n(86),a=n(24),s=n(19),r=n(36),c=r("toStringTag"),l=o.Object,d=s(function(){return arguments}())=="Arguments",u=function(e,t){try{return e[t]}catch{}};e.exports=i?s:function(e){var t,n,o;return e===void 0?"Undefined":e===null?"Null":typeof(n=u(t=l(e),c))=="string"?n:d?s(t):(o=s(t))=="Object"&&a(t.callee)?"Arguments":o}},(e,t,n)=>{var o=n(36),i=o("toStringTag"),s={};s[i]="z",e.exports=String(s)==="[object z]"},(e,t,n)=>{var o=n(12),s=n(49),i=n(32);e.exports=function(e,t,n){var a,r;s(e);try{if(a=i(e,"return"),!a){if(t==="throw")throw n;return n}a=o(a,e)}catch(e){r=!0,a=e}if(t==="throw")throw n;if(r)throw a;return s(a),n}},(e,t,n)=>{var s=n(89);e.exports=function(e,t){return e===void 0?arguments.length<2?"":t:s(e)}},(e,t,n)=>{var s=n(8),o=n(85),i=s.String;e.exports=function(e){if(o(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},(e,t,n)=>{var s=n(11),o=n(15);e.exports=!s(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),e.stack!==7)})},(e,t,n)=>{"use strict";var o,c=n(16),s=n(92),i=n(82),a=n(52),l=n(47).f,f=n(93),d=n(38),u=n(10),r="Array Iterator",h=a.set,m=a.getterFor(r);if(e.exports=f(Array,"Array",function(e,t){h(this,{type:r,target:c(e),index:0,kind:t})},function(){var t=m(this),n=t.target,s=t.kind,e=t.index++;return!n||e>=n.length?(t.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:e,done:!1}:s=="values"?{value:n[e],done:!1}:{value:[e,n[e]],done:!1}},"values"),o=i.Arguments=i.Array,s("keys"),s("values"),s("entries"),!d&&u&&o.name!=="values")try{l(o,"name",{value:"values"})}catch{}},(e,t,n)=>{var i=n(36),a=n(73),r=n(47),s=i("unscopables"),o=Array.prototype;o[s]==void 0&&r.f(o,s,{configurable:!0,value:a(null)}),e.exports=function(e){o[s][e]=!0}},(e,t,n)=>{"use strict";var C=n(7),x=n(12),i=n(38),h=n(56),O=n(24),w=n(94),l=n(69),d=n(71),_=n(96),y=n(46),r=n(50),v=n(36),p=n(82),g=n(95),j=h.PROPER,b=h.CONFIGURABLE,c=g.IteratorPrototype,a=g.BUGGY_SAFARI_ITERATORS,s=v("iterator"),u="keys",o="values",m="entries",f=function(){return this};e.exports=function(e,t,n,h,g,v,E){w(n,t,h);var A,F,z,T=function(e){if(e===g&&S)return S;if(!a&&e in k)return k[e];switch(e){case u:return function(){return new n(this,e)};case o:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this)}},L=t+" Iterator",D=!1,k=e.prototype,M=k[s]||k["@@iterator"]||g&&k[g],S=!a&&M||T(g),N=t=="Array"?k.entries||M:M;if(N&&(A=l(N.call(new e)),A!==Object.prototype&&A.next&&(!i&&l(A)!==c&&(d?d(A,c):O(A[s])||r(A,s,f)),_(A,L,!0,!0),i&&(p[L]=f))),j&&g==o&&M&&M.name!==o&&(!i&&b?y(k,"name",o):(D=!0,S=function(){return x(M,this)})),g)if(F={values:T(o),keys:v?S:T(u),entries:T(m)},E)for(z in F)(a||D||!(z in k))&&r(k,z,F[z]);else C({target:t,proto:!0,forced:a||D},F);return(!i||E)&&k[s]!==S&&r(k,s,S,{name:g}),p[t]=S,F}},(e,t,n)=>{"use strict";var s=n(95).IteratorPrototype,o=n(73),i=n(15),a=n(96),r=n(82),c=function(){return this};e.exports=function(e,t,n,l){var d=t+" Iterator";return e.prototype=o(s,{next:i(+!l,n)}),a(e,d,!1,!0),r[d]=c,e}},(e,t,n)=>{"use strict";var s,i,a,l,p=n(11),f=n(24),m=n(73),r=n(69),h=n(50),u=n(36),d=n(38),o=u("iterator"),c=!1;[].keys&&(i=[].keys(),"next"in i?(a=r(r(i)),a!==Object.prototype&&(s=a)):c=!0),l=s==null||p(function(){var e={};return s[o].call(e)!==e}),l?s={}:d&&(s=m(s)),f(s[o])||h(s,o,function(){return this}),e.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:c}},(e,t,n)=>{var o=n(47).f,i=n(41),a=n(36),s=a("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&o(e,s,{configurable:!0,value:t})}},(e,t,n)=>{var s=n(86),o=n(50),i=n(98);s||o(Object.prototype,"toString",i,{unsafe:!0})},(e,t,n)=>{"use strict";var s=n(86),o=n(85);e.exports=s?{}.toString:function(){return"[object "+o(this)+"]"}},(e,t,n)=>{n(100),n(123),n(126),n(127),n(128),n(129)},(e,t,n)=>{"use strict";var d,C,E,Q,ce=n(7),re=n(38),h=n(101),s=n(8),a=n(12),ae=n(50),oe=n(102),N=n(71),ne=n(96),te=n(103),ee=n(33),f=n(24),J=n(23),Z=n(104),X=n(105),x=n(108).set,j=n(113),G=n(116),Y=n(117),q=n(118),O=n(52),m=n(119),v=n(120),z=n(122),l="Promise",A=v.CONSTRUCTOR,U=v.REJECTION_EVENT,W=v.SUBCLASSING,g=O.getterFor(l),V=O.set,c=m&&m.prototype,o=m,u=c,L=s.TypeError,y=s.document,w=s.process,_=z.f,I=_,B=!!(y&&y.createEvent&&s.dispatchEvent),T="unhandledrejection",$="rejectionhandled",M=0,S=1,K=2,p=1,P=2,k=function(e){var t;return!!(J(e)&&f(t=e.then))&&t},F=function(e,t){var n,d,u,r=t.value,c=t.state==S,i=c?e.ok:e.fail,l=e.resolve,o=e.reject,s=e.domain;try{i?(c||(t.rejection===P&&ie(t),t.rejection=p),i===!0?n=r:(s&&s.enter(),n=i(r),s&&(s.exit(),u=!0)),n===e.promise?o(L("Promise-chain cycle")):(d=k(n))?a(d,n,l,o):l(n)):o(r)}catch(e){s&&!u&&s.exit(),o(e)}},H=function(e,t){if(e.notified)return;e.notified=!0,j(function(){for(var n,s=e.reactions;n=s.get();)F(n,e);e.notified=!1,t&&!e.rejection&&se(e)})},D=function(e,t,n){var o,i;B?(o=y.createEvent("Event"),o.promise=t,o.reason=n,o.initEvent(e,!1,!0),s.dispatchEvent(o)):o={promise:t,reason:n},!U&&(i=s["on"+e])?i(o):e===T&&G("Unhandled promise rejection",n)},se=function(e){a(x,s,function(){var t,n=e.facade,s=e.value,o=R(e);if(o&&(t=Y(function(){h?w.emit("unhandledRejection",s,n):D(T,n,s)}),e.rejection=h||R(e)?P:p,t.error))throw t.value})},R=function(e){return e.rejection!==p&&!e.parent},ie=function(e){a(x,s,function(){var t=e.facade;h?w.emit("rejectionHandled",t):D($,t,e.value)})},r=function(e,t,n){return function(s){e(t,s,n)}},i=function(e,t,n){if(e.done)return;e.done=!0,n&&(e=n),e.value=t,e.state=K,H(e,!0)},b=function(e,t,n){if(e.done)return;e.done=!0,n&&(e=n);try{if(e.facade===t)throw L("Promise can't be resolved itself");var s=k(t);s?j(function(){var n={done:!1};try{a(s,t,r(b,n,e),r(i,n,e))}catch(t){i(n,t,e)}}):(e.value=t,e.state=S,H(e,!1))}catch(t){i({done:!1},t,e)}};if(A&&(o=function(t){Z(this,u),ee(t),a(d,this);var n=g(this);try{t(r(b,n),r(i,n))}catch(e){i(n,e)}},u=o.prototype,d=function(){V(this,{type:l,done:!1,notified:!1,parent:!1,reactions:new q,rejection:!1,state:M,value:void 0})},d.prototype=oe(u,{then:function(t,n){var i=g(this),s=_(X(this,o));return i.parent=!0,s.ok=!f(t)||t,s.fail=f(n)&&n,s.domain=h?w.domain:void 0,i.state==M?i.reactions.add(s):j(function(){F(s,i)}),s.promise}}),C=function(){var e=new d,t=g(e);this.promise=e,this.resolve=r(b,t),this.reject=r(i,t)},z.f=_=function(e){return e===o||e===Q?new C(e):I(e)},!re&&f(m)&&c!==Object.prototype)){E=c.then,W||ae(c,"then",function(t,n){var s=this;return new o(function(e,t){a(E,s,e,t)}).then(t,n)},{unsafe:!0});try{delete c.constructor}catch{}N&&N(c,u)}ce({global:!0,wrap:!0,forced:A},{Promise:o}),ne(o,l,!1,!0),te(l)},(e,t,n)=>{var s=n(19),o=n(8);e.exports=s(o.process)=="process"},(e,t,n)=>{var s=n(50);e.exports=function(e,t,n){for(var o in t)s(e,o,t[o],n);return e}},(e,t,n)=>{"use strict";var o=n(26),i=n(47),a=n(36),r=n(10),s=a("species");e.exports=function(e){var t=o(e),n=i.f;r&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},(e,t,n)=>{var s=n(8),o=n(27),i=s.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},(e,t,n)=>{var s=n(49),o=n(106),i=n(36),a=i("species");e.exports=function(e,t){var i,n=s(e).constructor;return n===void 0||(i=s(n)[a])==void 0?t:o(i)}},(e,t,n)=>{var s=n(8),o=n(107),i=n(34),a=s.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a constructor")}},(e,t,n)=>{var g=n(18),p=n(11),a=n(24),h=n(85),u=n(26),d=n(51),i=function(){},l=[],r=u("Reflect","construct"),o=/^\s*(?:class|function)\b/,m=g(o.exec),f=!o.exec(i),s=function(t){if(!a(t))return!1;try{return r(i,l,t),!0}catch{return!1}},c=function(t){if(!a(t))return!1;switch(h(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!m(o,d(t))}catch{return!0}};c.sham=!0,e.exports=!r||p(function(){var e;return s(s.call)||!s(Object)||!s(function(){e=!0})||e})?c:s},(e,t,n)=>{var o,i,r,c,l,u,m,g,s=n(8),F=n(109),M=n(80),b=n(24),A=n(41),k=n(11),j=n(76),C=n(110),v=n(45),w=n(111),E=n(112),T=n(101),d=s.setImmediate,f=s.clearImmediate,S=s.process,p=s.Dispatch,x=s.Function,y=s.MessageChannel,O=s.String,h=0,a={},_="onreadystatechange";try{i=s.location}catch{}r=function(e){if(A(a,e)){var t=a[e];delete a[e],t()}},c=function(e){return function(){r(e)}},u=function(e){r(e.data)},g=function(e){s.postMessage(O(e),i.protocol+"//"+i.host)},(!d||!f)&&(d=function(t){w(arguments.length,1);var n=b(t)?t:x(t),s=C(arguments,1);return a[++h]=function(){F(n,void 0,s)},o(h),h},f=function(t){delete a[t]},T?o=function(e){S.nextTick(c(e))}:p&&p.now?o=function(e){p.now(c(e))}:y&&!E?(l=new y,m=l.port2,l.port1.onmessage=u,o=M(m.postMessage,m)):s.addEventListener&&b(s.postMessage)&&!s.importScripts&&i&&i.protocol!=="file:"&&!k(g)?(o=g,s.addEventListener("message",u,!1)):_ in v("script")?o=function(e){j.appendChild(v("script"))[_]=function(){j.removeChild(this),r(e)}}:o=function(e){setTimeout(c(e),0)}),e.exports={set:d,clear:f}},(e,t,n)=>{var a=n(13),s=Function.prototype,o=s.apply,i=s.call;e.exports=typeof Reflect=="object"&&Reflect.apply||(a?i.bind(o):function(){return i.apply(o,arguments)})},(e,t,n)=>{var s=n(18);e.exports=s([].slice)},(e,t,n)=>{var s=n(8),o=s.TypeError;e.exports=function(e,t){if(e<t)throw o("Not enough arguments");return e}},(e,t,n)=>{var s=n(31);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},(e,t,n)=>{var o,i,a,r,c,u,m,f,s=n(8),v=n(80),_=n(9).f,h=n(108).set,w=n(112),x=n(114),O=n(115),d=n(101),y=s.MutationObserver||s.WebKitMutationObserver,j=s.document,b=s.process,l=s.Promise,p=_(s,"queueMicrotask"),g=p&&p.value;g||(r=function(){d&&(e=b.domain)&&e.exit();for(var e,t;o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?i():a=void 0,e}}a=void 0,e&&e.enter()},!w&&!d&&!O&&y&&j?(u=!0,m=j.createTextNode(""),new y(r).observe(m,{characterData:!0}),i=function(){m.data=u=!u}):!x&&l&&l.resolve?(c=l.resolve(void 0),c.constructor=l,f=v(c.then,c),i=function(){f(r)}):d?i=function(){b.nextTick(r)}:(h=v(h,s),i=function(){h(r)})),e.exports=g||function(e){var t={fn:e,next:void 0};a&&(a.next=t),o||(o=t,i()),a=t}},(e,t,n)=>{var s=n(31),o=n(8);e.exports=/ipad|iphone|ipod/i.test(s)&&o.Pebble!==void 0},(e,t,n)=>{var s=n(31);e.exports=/web0s(?!.*chrome)/i.test(s)},(e,t,n)=>{var s=n(8);e.exports=function(e,t){var n=s.console;n&&n.error&&(arguments.length==1?n.error(e):n.error(e,t))}},e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},(e,t,n)=>{var s=n(8);e.exports=s.Promise},(e,t,n)=>{var c=n(8),s=n(119),p=n(24),f=n(68),h=n(51),u=n(36),l=n(121),d=n(38),i=n(30),r=s&&s.prototype,m=u("species"),o=!1,a=p(c.PromiseRejectionEvent),g=f("Promise",function(){var e,t,u,n=h(s),c=n!==String(s);return!c&&i===66||!!(d&&!(r.catch&&r.finally))||!(i>=51&&/native code/.test(n))&&(e=new s(function(e){e(1)}),t=function(e){e(function(){},function(){})},u=e.constructor={},u[m]=t,o=e.then(function(){})instanceof t,!o||!c&&l&&!a)});e.exports={CONSTRUCTOR:g,REJECTION_EVENT:a,SUBCLASSING:o}},e=>{e.exports=typeof window=="object"&&typeof Deno!="object"},(e,t,n)=>{"use strict";var s=n(33),o=function(e){var t,n;this.promise=new e(function(e,s){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=e,n=s}),this.resolve=s(t),this.reject=s(n)};e.exports.f=function(e){return new o(e)}},(e,t,n)=>{"use strict";var s=n(7),o=n(12),i=n(33),a=n(122),r=n(117),c=n(79),l=n(124);s({target:"Promise",stat:!0,forced:l},{all:function(t){var n=this,s=a.f(n),l=s.resolve,d=s.reject,u=r(function(){var a=i(n.resolve),e=[],r=0,s=1;c(t,function(t){var c=r++,i=!1;s++,o(a,n,t).then(function(t){if(i)return;i=!0,e[c]=t,--s||l(e)},d)}),--s||l(e)});return u.error&&d(u.value),s.promise}})},(e,t,n)=>{var s=n(119),o=n(125),i=n(120).CONSTRUCTOR;e.exports=i||!o(function(e){s.all(e).then(void 0,function(){})})},(e,t,n)=>{var s,a,r=n(36),o=r("iterator"),i=!1;try{a=0,s={next:function(){return{done:!!a++}},return:function(){i=!0}},s[o]=function(){return this},Array.from(s,function(){throw 2})}catch{}e.exports=function(e,t){if(!t&&!i)return!1;var n,s=!1;try{n={},n[o]=function(){return{next:function(){return{done:s=!0}}}},e(n)}catch{}return s}},(e,t,n)=>{"use strict";var s,a=n(7),d=n(38),u=n(120).CONSTRUCTOR,o=n(119),r=n(26),c=n(24),l=n(50),i=o&&o.prototype;a({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(e){return this.then(void 0,e)}}),!d&&c(o)&&(s=r("Promise").prototype.catch,i.catch!==s&&l(i,"catch",s,{unsafe:!0}))},(e,t,n)=>{"use strict";var s=n(7),o=n(12),i=n(33),a=n(122),r=n(117),c=n(79),l=n(124);s({target:"Promise",stat:!0,forced:l},{race:function(t){var n=this,s=a.f(n),l=s.reject,d=r(function(){var e=i(n.resolve);c(t,function(t){o(e,n,t).then(s.resolve,l)})});return d.error&&l(d.value),s.promise}})},(e,t,n)=>{"use strict";var s=n(7),o=n(12),i=n(122),a=n(120).CONSTRUCTOR;s({target:"Promise",stat:!0,forced:a},{reject:function(t){var n=i.f(this);return o(n.reject,void 0,t),n.promise}})},(e,t,n)=>{"use strict";var i=n(7),a=n(26),s=n(38),r=n(119),o=n(120).CONSTRUCTOR,c=n(130),l=a("Promise"),d=s&&!o;i({target:"Promise",stat:!0,forced:s||o},{resolve:function(t){return c(d&&this===l?r:this,t)}})},(e,t,n)=>{var s=n(49),o=n(23),i=n(122);e.exports=function(e,t){if(s(e),o(t)&&t.constructor===e)return t;var n=i.f(e),a=n.resolve;return a(t),n.promise}},(e,t,n)=>{"use strict";var s=n(7),o=n(12),i=n(33),a=n(122),r=n(117),c=n(79);s({target:"Promise",stat:!0},{allSettled:function(t){var n=this,s=a.f(n),l=s.resolve,u=s.reject,d=r(function(){var a=i(n.resolve),e=[],r=0,s=1;c(t,function(t){var c=r++,i=!1;s++,o(a,n,t).then(function(t){if(i)return;i=!0,e[c]={status:"fulfilled",value:t},--s||l(e)},function(t){if(i)return;i=!0,e[c]={status:"rejected",reason:t},--s||l(e)})}),--s||l(e)});return d.error&&u(d.value),s.promise}})},(e,t,n)=>{"use strict";var o=n(7),d=n(12),i=n(33),a=n(26),r=n(122),c=n(117),l=n(79),s="No one promise resolved";o({target:"Promise",stat:!0},{any:function(t){var n=this,h=a("AggregateError"),o=r.f(n),f=o.resolve,u=o.reject,m=c(function(){var r=i(n.resolve),e=[],c=0,o=1,a=!1;l(t,function(t){var l=c++,i=!1;o++,d(r,n,t).then(function(e){if(i||a)return;a=!0,f(e)},function(t){if(i||a)return;i=!0,e[l]=t,--o||u(new h(e,s))})}),--o||u(new h(e,s))});return m.error&&u(m.value),o.promise}})},(e,t,n)=>{"use strict";var i,l=n(7),u=n(38),s=n(119),m=n(11),r=n(26),c=n(24),d=n(105),a=n(130),h=n(50),o=s&&s.prototype,f=!!s&&m(function(){o.finally.call({then:function(){}},function(){})});l({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(e){var t=d(this,r("Promise")),n=c(e);return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}}),!u&&c(s)&&(i=r("Promise").prototype.finally,o.finally!==i&&h(o,"finally",i,{unsafe:!0}))},(e,t,n)=>{"use strict";var i=n(135).charAt,a=n(89),s=n(52),r=n(93),o="String Iterator",c=s.set,l=s.getterFor(o);r(String,"String",function(e){c(this,{type:o,string:a(e),index:0})},function(){var n,t=l(this),s=t.string,o=t.index;return o>=s.length?{value:void 0,done:!0}:(n=i(s,o),t.index+=n.length,{value:n,done:!1})})},(e,t,n)=>{var s=n(18),d=n(63),a=n(89),r=n(20),c=s("".charAt),i=s("".charCodeAt),l=s("".slice),o=function(e){return function(t,n){var u,h,o=a(r(t)),s=d(n),m=o.length;return s<0||s>=m?e?"":void 0:(u=i(o,s),u<55296||u>56319||s+1===m||(h=i(o,s+1))<56320||h>57343?e?c(o,s):u:e?l(o,s,s+2):(u-55296<<10)+(h-56320)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},(e,t,n)=>{var s=n(8);e.exports=s},(e,t,n)=>{n(91),n(97),n(138),n(150),n(152);var s=n(136);e.exports=s.structuredClone},(e,t,n)=>{n(139)},(e,t,n)=>{"use strict";var s=n(140),o=n(149);s("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},o)},(e,t,n)=>{"use strict";var a=n(7),m=n(8),h=n(18),i=n(68),r=n(50),c=n(141),l=n(79),d=n(104),u=n(24),o=n(23),s=n(11),f=n(125),p=n(96),g=n(148);e.exports=function(e,t,n){var O,C,k,A,S,_=e.indexOf("Map")!==-1,j=e.indexOf("Weak")!==-1,w=_?"set":"add",b=m[e],y=b&&b.prototype,v=b,E={},x=function(e){var t=h(y[e]);r(y,e,e=="add"?function(n){return t(this,n===0?0:n),this}:e=="delete"?function(e){return!(j&&!o(e))&&t(this,e===0?0:e)}:e=="get"?function(n){return j&&!o(n)?void 0:t(this,n===0?0:n)}:e=="has"?function(n){return!(j&&!o(n))&&t(this,n===0?0:n)}:function(n,s){return t(this,n===0?0:n,s),this})},M=i(e,!u(b)||!(j||y.forEach&&!s(function(){(new b).entries().next()})));return M?(v=n.getConstructor(t,e,_,w),c.enable()):i(e,!0)&&(O=new v,k=O[w](j?{}:-0,1)!=O,A=s(function(){O.has(1)}),S=f(function(e){new b(e)}),C=!j&&s(function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)}),S||(v=t(function(e,t){d(e,y);var n=g(new b,e,v);return t!=null&&l(t,n[w],{that:n,AS_ENTRIES:_}),n}),v.prototype=y,y.constructor=v),(A||C)&&(x("delete"),x("has"),_&&x("get")),(C||k)&&x(w),j&&y.clear&&delete y.clear),E[e]=v,a({global:!0,forced:v!=b},E),p(v,e),j||n.setStrong(v,e,_),v}},(e,t,n)=>{var l=n(7),v=n(18),p=n(55),f=n(23),i=n(41),u=n(47).f,r=n(59),d=n(142),a=n(145),h=n(43),m=n(147),c=!1,s=h("meta"),g=0,o=function(e){u(e,s,{value:{objectID:"O"+g++,weakData:{}}})},b=function(e,t){if(!f(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!i(e,s)){if(!a(e))return"F";if(!t)return"E";o(e)}return e[s].objectID},j=function(e,t){if(!i(e,s)){if(!a(e))return!0;if(!t)return!1;o(e)}return e[s].weakData},y=function(e){return m&&c&&a(e)&&!i(e,s)&&o(e),e},_=function(){w.enable=function(){},c=!0;var e=r.f,n=v([].splice),t={};t[s]=1,e(t).length&&(r.f=function(t){o=e(t);for(var o,i=0,a=o.length;i<a;i++)if(o[i]===s){n(o,i,1);break}return o},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},w=e.exports={enable:_,fastKey:b,getWeakData:j,onFreeze:y};p[s]=!0},(e,t,n)=>{var i=n(19),a=n(16),s=n(59).f,r=n(143),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return s(e)}catch{return r(o)}};e.exports.f=function(t){return o&&i(t)=="Window"?c(t):s(a(t))}},(e,t,n)=>{var o=n(8),s=n(62),i=n(64),a=n(144),r=o.Array,c=Math.max;e.exports=function(e,t,n){for(var l=i(e),o=s(t,l),h=s(n===void 0?l:n,l),d=r(c(h-o,0)),u=0;o<h;o++,u++)a(d,u,e[o]);return d.length=u,d}},(e,t,n)=>{"use strict";var s=n(21),o=n(47),i=n(15);e.exports=function(e,t,n){var a=s(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},(e,t,n)=>{var i=n(11),a=n(23),r=n(19),o=n(146),s=Object.isExtensible,c=i(function(){s(1)});e.exports=c||o?function(t){return!!a(t)&&!(o&&r(t)=="ArrayBuffer")&&(!s||s(t))}:s},(e,t,n)=>{var s=n(11);e.exports=s(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})},(e,t,n)=>{var s=n(11);e.exports=!s(function(){return Object.isExtensible(Object.preventExtensions({}))})},(e,t,n)=>{var o=n(24),i=n(23),s=n(71);e.exports=function(e,t,n){var a,r;return s&&o(a=t.constructor)&&a!==n&&i(r=a.prototype)&&r!==n.prototype&&s(e,r),e}},(e,t,n)=>{"use strict";var p=n(47).f,f=n(73),a=n(102),m=n(80),h=n(104),u=n(79),l=n(93),d=n(103),s=n(10),c=n(141).fastKey,r=n(52),i=r.set,o=r.getterFor;e.exports={getConstructor:function(e,t,n,r){var v=e(function(e,o){h(e,d),i(e,{type:t,index:f(null),first:void 0,last:void 0,size:0}),s||(e.size=0),o!=null&&u(o,e[r],{that:e,AS_ENTRIES:n})}),d=v.prototype,l=o(t),b=function(e,t,n){var a,r,o=l(e),i=g(e,t);return i?i.value=n:(o.last=i={index:r=c(t,!0),key:t,value:n,previous:a=o.last,next:void 0,removed:!1},o.first||(o.first=i),a&&(a.next=i),s?o.size++:e.size++,r!=="F"&&(o.index[r]=i)),e},g=function(e,t){var n,s=l(e),o=c(t);if(o!=="F")return s.index[o];for(n=s.first;n;n=n.next)if(n.key==t)return n};return a(d,{clear:function(){for(var o=this,n=l(o),i=n.index,t=n.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=void 0),delete i[t.index],t=t.next;n.first=n.last=void 0,s?n.size=0:o.size=0},delete:function(e){var o,i,a=this,n=l(a),t=g(a,e);return t&&(o=t.next,i=t.previous,delete n.index[t.index],t.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==t&&(n.first=o),n.last==t&&(n.last=i),s?n.size--:a.size--),!!t},forEach:function(t){for(var n,s=l(this),o=m(t,arguments.length>1?arguments[1]:void 0);n=n?n.next:s.first;)for(o(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!g(this,t)}}),a(d,n?{get:function(t){var n=g(this,t);return n&&n.value},set:function(t,n){return b(this,t===0?0:t,n)}}:{add:function(t){return b(this,t=t===0?0:t,t)}}),s&&p(d,"size",{get:function(){return l(this).size}}),v},setStrong:function(e,t,n){var s=t+" Iterator",a=o(t),r=o(s);l(e,t,function(e,t){i(this,{type:s,target:e,state:a(e),kind:t,last:void 0})},function(){for(var t=r(this),n=t.kind,e=t.last;e&&e.removed;)e=e.previous;return!t.target||!(t.last=e=e?e.next:t.state.first)?(t.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:e.key,done:!1}:n=="values"?{value:e.value,done:!1}:{value:[e.key,e.value],done:!1}},n?"entries":"values",!n,!0),d(t)}}},(e,t,n)=>{n(151)},(e,t,n)=>{"use strict";var s=n(140),o=n(149);s("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},o)},(e,t,n)=>{var N=n(38),de=n(7),s=n(8),u=n(26),a=n(18),b=n(11),le=n(43),O=n(24),S=n(107),j=n(23),ce=n(25),re=n(79),D=n(49),A=n(85),ae=n(41),se=n(144),x=n(46),y=n(64),te=n(111),ee=n(153),J=n(90),h=s.Object,E=s.Date,p=s.Error,B=s.EvalError,Z=s.RangeError,W=s.ReferenceError,V=s.SyntaxError,F=s.TypeError,I=s.URIError,H=s.PerformanceMark,d=s.WebAssembly,P=d&&d.CompileError||p,L=d&&d.LinkError||p,R=d&&d.RuntimeError||p,l=u("DOMException"),z=u("Set"),f=u("Map"),C=f.prototype,M=a(C.has),$=a(C.get),g=a(C.set),U=a(z.prototype.add),K=u("Object","keys"),q=a([].push),Y=a((!0).valueOf),G=a(1..valueOf),X=a("".valueOf),Q=a(E.prototype.getTime),_=le("structuredClone"),m="DataCloneError",w="Transferring",k=function(e){return!b(function(){var t=new s.Set([7]),n=e(t),o=e(h(7));return n==t||!n.has(7)||typeof o!="object"||o!=7})&&e},ne=function(e){return!b(function(){var t=e(new s.AggregateError([1],_,{cause:3}));return t.name!="AggregateError"||t.errors[0]!=1||t.message!=_||t.cause!=3})&&e},c=s.structuredClone,oe=N||!ne(c),ie=!c&&k(function(e){return new H(_,{detail:e}).detail}),r=k(c)||ie,v=function(e){throw new l("Uncloneable type: "+e,m)},i=function(e,t){throw new l((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",m)},o=function(e,t){if(ce(e)&&v("Symbol"),!j(e))return e;if(t){if(M(t,e))return $(t,e)}else t=new f;var n,c,d,_,w,C,k,T,D,N,a=A(e),b=!1;switch(a){case"Array":n=[],b=!0;break;case"Object":n={},b=!0;break;case"Map":n=new f,b=!0;break;case"Set":n=new z,b=!0;break;case"RegExp":n=new RegExp(e.source,ee(e));break;case"Error":switch(w=e.name,w){case"AggregateError":n=u("AggregateError")([]);break;case"EvalError":n=B();break;case"RangeError":n=Z();break;case"ReferenceError":n=W();break;case"SyntaxError":n=V();break;case"TypeError":n=F();break;case"URIError":n=I();break;case"CompileError":n=P();break;case"LinkError":n=L();break;case"RuntimeError":n=R();break;default:n=p()}b=!0;break;case"DOMException":n=new l(e.message,e.name),b=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":c=s[a],j(c)||i(a),n=new c(o(e.buffer,t),e.byteOffset,a==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{n=new DOMQuad(o(e.p1,t),o(e.p2,t),o(e.p3,t),o(e.p4,t))}catch{r?n=r(e):i(a)}break;case"FileList":if(c=s.DataTransfer,S(c)){C=new c;for(d=0,_=y(e);d<_;d++)C.items.add(o(e[d],t));n=C.files}else r?n=r(e):i(a);break;case"ImageData":try{n=new ImageData(o(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch{r?n=r(e):i(a)}break;default:if(r)n=r(e);else switch(a){case"BigInt":n=h(e.valueOf());break;case"Boolean":n=h(Y(e));break;case"Number":n=h(G(e));break;case"String":n=h(X(e));break;case"Date":n=new E(Q(e));break;case"ArrayBuffer":c=s.DataView,!c&&typeof e.slice!="function"&&i(a);try{if(typeof e.slice=="function")n=e.slice(0);else{_=e.byteLength,n=new ArrayBuffer(_),D=new c(e),N=new c(n);for(d=0;d<_;d++)N.setUint8(d,D.getUint8(d))}}catch{throw new l("ArrayBuffer is detached",m)}break;case"SharedArrayBuffer":n=e;break;case"Blob":try{n=e.slice(0,e.size,e.type)}catch{i(a)}break;case"DOMPoint":case"DOMPointReadOnly":c=s[a];try{n=c.fromPoint?c.fromPoint(e):new c(e.x,e.y,e.z,e.w)}catch{i(a)}break;case"DOMRect":case"DOMRectReadOnly":c=s[a];try{n=c.fromRect?c.fromRect(e):new c(e.x,e.y,e.width,e.height)}catch{i(a)}break;case"DOMMatrix":case"DOMMatrixReadOnly":c=s[a];try{n=c.fromMatrix?c.fromMatrix(e):new c(e)}catch{i(a)}break;case"AudioData":case"VideoFrame":O(e.clone)||i(a);try{n=e.clone()}catch{v(a)}break;case"File":try{n=new File([e],e.name,e)}catch{i(a)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":i(a);default:v(a)}}if(g(t,e,n),b)switch(a){case"Array":case"Object":k=K(e);for(d=0,_=y(k);d<_;d++)T=k[d],se(n,T,o(e[T],t));break;case"Map":e.forEach(function(e,s){g(n,o(s,t),o(e,t))});break;case"Set":e.forEach(function(e){U(n,o(e,t))});break;case"Error":x(n,"message",o(e.message,t)),ae(e,"cause")&&x(n,"cause",o(e.cause,t)),w=="AggregateError"&&(n.errors=o(e.errors,t));case"DOMException":J&&x(n,"stack",o(e.stack,t))}return n},T=c&&!b(function(){var e=new ArrayBuffer(8),t=c(e,{transfer:[e]});return e.byteLength!=0||t.byteLength!=8}),ue=function(e,t){if(!j(e))throw F("Transfer option cannot be converted to a sequence");var n,a,r,d,u,h,f,p,v,o=[];if(re(e,function(e){q(o,D(e))}),a=0,u=y(o),T)for(p=c(o,{transfer:o});a<u;)g(t,o[a],p[a++]);else for(;a<u;){if(n=o[a++],M(t,n))throw new l("Duplicate transferable",m);switch(r=A(n),r){case"ImageBitmap":h=s.OffscreenCanvas,S(h)||i(r,w);try{f=new h(n.width,n.height),v=f.getContext("bitmaprenderer"),v.transferFromImageBitmap(n),d=f.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!O(n.clone)||!O(n.close))&&i(r,w);try{d=n.clone(),n.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":i(r,w)}if(d===void 0)throw new l("This object cannot be transferred: "+r,m);g(t,n,d)}};de({global:!0,enumerable:!0,sham:!T,forced:oe},{structuredClone:function(t){var n,s=te(arguments.length,1)>1&&arguments[1]!=null?D(arguments[1]):void 0,i=s?s.transfer:void 0;return i!==void 0&&(n=new f,ue(i,n)),o(t,n)}})},(e,t,n)=>{var o=n(12),i=n(41),a=n(27),r=n(154),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return t===void 0&&!("flags"in s)&&!i(e,"flags")&&a(s,e)?o(r,e):t}},(e,t,n)=>{"use strict";var s=n(49);e.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.build=t.RenderTask=t.PDFWorkerUtil=t.PDFWorker=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFDocumentLoadingTask=t.PDFDataRangeTransport=t.LoopbackPort=t.DefaultStandardFontDataFactory=t.DefaultCanvasFactory=t.DefaultCMapReaderFactory=void 0,t.getDocument=je,t.setPDFNetworkStreamFactory=ye,t.version=void 0,c=Te(n(156)),s=n(1),o=n(158),V=n(160),pe=n(161),fe=n(163),S=n(166),m=n(3),y=n(167),he=n(168),ve=n(169),ue=n(170),de=n(171);function Te(e){return e&&e.__esModule?e:{default:e}}function Fe(e,t){re(e,t),t.add(e)}function ce(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function C(e,t,n){re(e,t),t.set(e,n)}function re(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(e,t,n){var s=ae(e,t,"set");return te(e,s,n),n}function r(e,t){var n=ae(e,t,"get");return J(e,n)}function ae(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Me(e){return ke(e)||Ae(e)||$(e)||Se()}function Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ae(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ke(e){if(Array.isArray(e))return W(e)}function i(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=$(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function h(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ee(e,t,n,s){return ge(e,t),ee(n,"set"),te(e,n,s),s}function te(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function d(e,t,n){return ge(e,t),ee(n,"get"),J(e,n)}function ee(e,t){if(e===void 0)throw new TypeError("attempted to "+t+" private static field before its declaration")}function ge(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function J(e,t){return t.get?t.get.call(e):t.value}function Z(e,t,n,s,o,i,a){try{var c=e[i](a),r=c.value}catch(e){n(e);return}c.done?t(r):Promise.resolve(r).then(s,o)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){Z(a,s,o,i,r,"next",e)}function r(e){Z(a,s,o,i,r,"throw",e)}i(void 0)})}}function _(e,t){return ze(e)||xe(e,t)||$(e,t)||Ce()}function Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(e,t){if(!e)return;if(typeof e=="string")return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}function W(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function xe(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function ze(e){if(Array.isArray(e))return e}function v(e){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}if(X=65536,G=100,M=o.DOMCanvasFactory,t.DefaultCanvasFactory=M,F=o.DOMCMapReaderFactory,t.DefaultCMapReaderFactory=F,k=o.DOMStandardFontDataFactory,t.DefaultStandardFontDataFactory=k,m.isNodeJS){var s,o,c,l,m,f,g,b,j,y,O,x,E,k,A,S,M,F,T,z,D,N,L,R,H,I,B,V,U,K,Y,G,X,Q,pe,fe,he,ve,ue,de,P=n(172),Oe=P.NodeCanvasFactory,we=P.NodeCMapReaderFactory,_e=P.NodeStandardFontDataFactory,se,ie,le,me;t.DefaultCanvasFactory=M=Oe,t.DefaultCMapReaderFactory=F=we,t.DefaultStandardFontDataFactory=k=_e}function ye(e){se=e}function je(e){if(a=new Y,typeof e=="string"||e instanceof URL)c={url:e};else if((0,s.isArrayBuffer)(e))c={data:e};else if(e instanceof H)c={range:e};else{if(v(e)!=="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");c=e}var n,i,a,c,d,u,t=Object.create(null),l=null,r=null;for(i in c){switch(n=c[i],i){case"url":if(typeof window!="undefined")try{t[i]=new URL(n,window.location).href;continue}catch(e){(0,s.warn)('Cannot create valid URL: "'.concat(e,'".'))}else if(typeof n=="string"||n instanceof URL){t[i]=n.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":l=n;continue;case"worker":r=n;continue;case"data":if(m.isNodeJS&&typeof Buffer!="undefined"&&n instanceof Buffer)t[i]=new Uint8Array(n);else if(n instanceof Uint8Array)break;if(typeof n=="string")t[i]=(0,s.stringToBytes)(n);else if(v(n)==="object"&&n!==null&&!isNaN(n.length))t[i]=new Uint8Array(n);else if((0,s.isArrayBuffer)(n))t[i]=new Uint8Array(n);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");continue}t[i]=n}return t.CMapReaderFactory=t.CMapReaderFactory||F,t.StandardFontDataFactory=t.StandardFontDataFactory||k,t.ignoreErrors=t.stopAtErrors!==!0,t.fontExtraProperties=t.fontExtraProperties===!0,t.pdfBug=t.pdfBug===!0,t.enableXfa=t.enableXfa===!0,(!Number.isInteger(t.rangeChunkSize)||t.rangeChunkSize<1)&&(t.rangeChunkSize=X),(typeof t.docBaseUrl!="string"||(0,o.isDataScheme)(t.docBaseUrl))&&(t.docBaseUrl=null),(!Number.isInteger(t.maxImageSize)||t.maxImageSize<-1)&&(t.maxImageSize=-1),typeof t.cMapUrl!="string"&&(t.cMapUrl=null),typeof t.standardFontDataUrl!="string"&&(t.standardFontDataUrl=null),typeof t.useWorkerFetch!="boolean"&&(t.useWorkerFetch=t.CMapReaderFactory===o.DOMCMapReaderFactory&&t.StandardFontDataFactory===o.DOMStandardFontDataFactory),typeof t.isEvalSupported!="boolean"&&(t.isEvalSupported=!0),typeof t.disableFontFace!="boolean"&&(t.disableFontFace=m.isNodeJS),typeof t.useSystemFonts!="boolean"&&(t.useSystemFonts=!m.isNodeJS&&!t.disableFontFace),(v(t.ownerDocument)!=="object"||t.ownerDocument===null)&&(t.ownerDocument=globalThis.document),typeof t.disableRange!="boolean"&&(t.disableRange=!1),typeof t.disableStream!="boolean"&&(t.disableStream=!1),typeof t.disableAutoFetch!="boolean"&&(t.disableAutoFetch=!1),(0,s.setVerbosityLevel)(t.verbosity),r||(d={verbosity:t.verbosity,port:S.GlobalWorkerOptions.workerPort},r=d.port?O.fromPort(d):new O(d),a._worker=r),u=a.docId,r.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");var e=be(r,t,l,u),n=new Promise(function(e){var n;l?n=new ue.PDFDataTransportStream({length:t.length,initialData:t.initialData,progressiveDone:t.progressiveDone,contentDispositionFilename:t.contentDispositionFilename,disableRange:t.disableRange,disableStream:t.disableStream},l):t.data||(n=se({url:t.url,length:t.length,httpHeaders:t.httpHeaders,withCredentials:t.withCredentials,rangeChunkSize:t.rangeChunkSize,disableRange:t.disableRange,disableStream:t.disableStream})),e(n)});return Promise.all([e,n]).then(function(e){var n,o,s=_(e,2),i=s[0],c=s[1];if(a.destroyed)throw new Error("Loading aborted");n=new y.MessageHandler(u,i,r.port),o=new Q(n,a,c,t),a._transport=o,n.send("Ready",null)})}).catch(a._capability.reject),a}function be(){return q.apply(this,arguments)}function q(){return q=p(c.default.mark(function e(t,n,s,o){var i;return c.default.wrap(function(a){for(;1;)switch(a.prev=a.next){case 0:if(!t.destroyed){a.next=2;break}throw new Error("Worker was destroyed");case 2:return s&&(n.length=s.length,n.initialData=s.initialData,n.progressiveDone=s.progressiveDone,n.contentDispositionFilename=s.contentDispositionFilename),a.next=5,t.messageHandler.sendWithPromise("GetDocRequest",{docId:o,apiVersion:"2.14.305",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});case 5:if(i=a.sent,!t.destroyed){a.next=8;break}throw new Error("Worker was destroyed");case 8:return a.abrupt("return",i);case 9:case"end":return a.stop()}},e)})),q.apply(this,arguments)}Y=function(){function e(){var t,n;u(this,e),this._capability=(0,s.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat((Ee(e,e,B,(t=d(e,e,B),n=t++,t)),n)),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return h(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=p(c.default.mark(function e(){var t;return c.default.wrap(function(n){for(;1;)switch(n.prev=n.next){case 0:return this.destroyed=!0,n.next=3,(t=this._transport)===null||t===void 0?void 0:t.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return n.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),e}(),t.PDFDocumentLoadingTask=Y,B={writable:!0,value:0},H=function(){function e(t,n){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;u(this,e),this.length=t,this.initialData=n,this.progressiveDone=o,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,s.createPromiseCapability)()}return h(e,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,n){var o,a,s=i(this._rangeListeners);try{for(s.s();!(o=s.n()).done;)a=o.value,a(t,n)}catch(e){s.e(e)}finally{s.f()}}},{key:"onDataProgress",value:function(t,n){var s=this;this._readyCapability.promise.then(function(){var o,a,e=i(s._progressListeners);try{for(e.s();!(o=e.n()).done;)a=o.value,a(t,n)}catch(t){e.e(t)}finally{e.f()}})}},{key:"onDataProgressiveRead",value:function(t){var n=this;this._readyCapability.promise.then(function(){var s,o,e=i(n._progressiveReadListeners);try{for(e.s();!(s=e.n()).done;)o=s.value,o(t)}catch(t){e.e(t)}finally{e.f()}})}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then(function(){var n,s,e=i(t._progressiveDoneListeners);try{for(e.s();!(n=e.n()).done;)s=n.value,s()}catch(t){e.e(t)}finally{e.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(){(0,s.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}(),t.PDFDataRangeTransport=H,R=function(){function e(t,n){var s=this;u(this,e),this._pdfInfo=t,this._transport=n,Object.defineProperty(this,"fingerprint",{get:function(){return(0,o.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){var e=p(c.default.mark(function e(){return c.default.wrap(function(t){for(;1;)switch(t.prev=t.next){case 0:return(0,o.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),t.abrupt("return",s.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return t.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()})}return h(e,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,o.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),e}(),t.PDFDocumentProxy=R,D=function(){function e(t,n,s,i){var a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];u(this,e),this._pageIndex=t,this._pageInfo=n,this._ownerDocument=i,this._transport=s,this._stats=a?new o.StatTimer:null,this._pdfBug=a,this.commonObjs=s.commonObjs,this.objs=new N,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return h(e,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.scale,n=t.rotation,c=n===void 0?this.rotate:n,s=t.offsetX,l=s===void 0?0:s,i=t.offsetY,d=i===void 0?0:i,a=t.dontFlip,u=a!==void 0&&a;return new o.PageViewport({viewBox:this.view,scale:r,rotation:c,offsetX:l,offsetY:d,dontFlip:u})}},{key:"getAnnotations",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.intent,r=s===void 0?"display":s,n=this._transport.getRenderingIntent(r),t=this._annotationPromises.get(n.cacheKey);return t||(t=this._transport.getAnnotations(this._pageIndex,n.renderingIntent),this._annotationPromises.set(n.cacheKey,t),t=t.then(function(e){var n,s,t=i(e);try{s=function(){var t=n.value;t.titleObj!==void 0&&Object.defineProperty(t,"title",{get:function(){return(0,o.deprecated)("`title`-property on annotation, please use `titleObj` instead."),t.titleObj.str}}),t.contentsObj!==void 0&&Object.defineProperty(t,"contents",{get:function(){return(0,o.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),t.contentsObj.str}})};for(t.s();!(n=t.n()).done;)s()}catch(e){t.e(e)}finally{t.f()}return e})),t}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var e=p(c.default.mark(function e(){var t;return c.default.wrap(function(n){for(;1;)switch(n.prev=n.next){case 0:return n.abrupt("return",((t=this._transport._htmlForXfa)===null||t===void 0?void 0:t.children[this._pageIndex])||null);case 1:case"end":return n.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(t){var n,a,r,l,d,f,v,j,C,N,i=this,D=t.canvasContext,z=t.viewport,p=t.intent,T=p===void 0?"display":p,m=t.annotationMode,c=m===void 0?s.AnnotationMode.ENABLE:m,h=t.transform,F=h===void 0?null:h,g=t.imageLayer,S=g===void 0?null:g,b=t.canvasFactory,L=b===void 0?null:b,y=t.background,k=y===void 0?null:y,O=t.optionalContentConfigPromise,u=O===void 0?null:O,x=t.annotationCanvasMap,E=x===void 0?null:x,w=t.pageColors,A=w===void 0?null:w;return((j=arguments[0])===null||j===void 0?void 0:j.renderInteractiveForms)!==void 0&&((0,o.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&c===s.AnnotationMode.ENABLE&&(c=s.AnnotationMode.ENABLE_FORMS)),((v=arguments[0])===null||v===void 0?void 0:v.includeAnnotationStorage)!==void 0&&((0,o.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&c===s.AnnotationMode.ENABLE&&(c=s.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall"),r=this._transport.getRenderingIntent(T,c),this.pendingCleanup=!1,u||(u=this._transport.getOptionalContentConfig()),n=this._intentStates.get(r.cacheKey),n||(n=Object.create(null),this._intentStates.set(r.cacheKey,n)),n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),f=L||new M({ownerDocument:this._ownerDocument}),d=!!(r.renderingIntent&s.RenderingIntentFlag.PRINT),n.displayReadyCapability||(n.displayReadyCapability=(0,s.createPromiseCapability)(),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),l=function(t){n.renderTasks.delete(a),(i.cleanupAfterRender||d)&&(i.pendingCleanup=!0),i._tryCleanup(),t?(a.capability.reject(t),i._abortOperatorList({intentState:n,reason:t instanceof Error?t:new Error(t)})):a.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))},a=new ie({callback:l,params:{canvasContext:D,viewport:z,transform:F,imageLayer:S,background:k},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:E,operatorList:n.operatorList,pageIndex:this._pageIndex,canvasFactory:f,useRequestAnimationFrame:!d,pdfBug:this._pdfBug,pageColors:A}),((N=n).renderTasks||(N.renderTasks=new Set)).add(a),C=a.task,Promise.all([n.displayReadyCapability.promise,u]).then(function(e){var t=_(e,2),n=t[0],s=t[1];if(i.pendingCleanup){l();return}i._stats&&i._stats.time("Rendering"),a.initializeGraphics({transparency:n,optionalContentConfig:s}),a.operatorListChanged()}).catch(l),C}},{key:"getOperatorList",value:function(){var t,n,o,c,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=a.intent,u=r===void 0?"display":r,i=a.annotationMode,l=i===void 0?s.AnnotationMode.ENABLE:i;function d(){t.operatorList.lastChunk&&(t.opListReadCapability.resolve(t.operatorList),t.renderTasks.delete(o))}return n=this._transport.getRenderingIntent(u,l,!0),t=this._intentStates.get(n.cacheKey),t||(t=Object.create(null),this._intentStates.set(n.cacheKey,t)),t.opListReadCapability||(o=Object.create(null),o.operatorListChanged=d,t.opListReadCapability=(0,s.createPromiseCapability)(),((c=t).renderTasks||(c.renderTasks=new Set)).add(o),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(n)),t.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.disableCombineTextItems,o=n!==void 0&&n,s=t.includeMarkedContent,i=s!==void 0&&s,a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:o!==!0,includeMarkedContent:i===!0},{highWaterMark:a,size:function(t){return t.items.length}})}},{key:"getTextContent",value:function(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport._htmlForXfa?this.getXfa().then(function(e){return de.XfaText.textContent(e)}):(t=this.streamTextContent(n),new Promise(function(e,n){function o(){i.read().then(function(t){var n,i=t.value,a=t.done;if(a){e(s);return}Object.assign(s.styles,i.styles),(n=s.items).push.apply(n,Me(i.items)),o()},n)}var i=t.getReader(),s={items:[],styles:Object.create(null)};o()}))}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var t,n,s,a,r,c,d,u,l=[],o=i(this._intentStates.values());try{for(o.s();!(u=o.n()).done;){if(s=u.value,this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),s.opListReadCapability)continue;n=i(s.renderTasks);try{for(n.s();!(c=n.n()).done;)a=c.value,l.push(a.completed),a.cancel()}catch(e){n.e(e)}finally{n.f()}}}catch(e){o.e(e)}finally{o.f()}this.objs.clear(),t=i(this._bitmaps);try{for(t.s();!(r=t.n()).done;)d=r.value,d.close()}catch(e){t.e(e)}finally{t.f()}return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(l)}},{key:"cleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){if(r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],!this.pendingCleanup)return!1;n=i(this._intentStates.values());try{for(n.s();!(s=n.n()).done;){var t,n,s,r,c,l,a=s.value,d=a.renderTasks,u=a.operatorList;if(d.size>0||!u.lastChunk)return!1}}catch(e){n.e(e)}finally{n.f()}this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,r&&this._stats&&(this._stats=new o.StatTimer),t=i(this._bitmaps);try{for(t.s();!(c=t.n()).done;)l=c.value,l.close()}catch(e){t.e(e)}finally{t.f()}return this._bitmaps.clear(),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,n){var s=this._intentStates.get(n);if(!s)return;this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(t)}},{key:"_renderPageChunk",value:function(t,n){for(var s,a,r,o=0,c=t.length;o<c;o++)n.operatorList.fnArray.push(t.fnArray[o]),n.operatorList.argsArray.push(t.argsArray[o]);n.operatorList.lastChunk=t.lastChunk,s=i(n.renderTasks);try{for(s.s();!(a=s.n()).done;)r=a.value,r.operatorListChanged()}catch(e){s.e(e)}finally{s.f()}t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var l,o=this,a=t.renderingIntent,r=t.cacheKey,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:r,annotationStorage:a&s.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}),c=d.getReader(),n=this._intentStates.get(r);n.streamReader=c,l=function e(){c.read().then(function(t){var s=t.value,i=t.done;if(i){n.streamReader=null;return}if(o._transport.destroyed)return;o._renderPageChunk(s,n),e()},function(e){if(n.streamReader=null,o._transport.destroyed)return;if(n.operatorList){n.operatorList.lastChunk=!0;var s,a,t=i(n.renderTasks);try{for(t.s();!(s=t.n()).done;)a=s.value,a.operatorListChanged()}catch(e){t.e(e)}finally{t.f()}o._tryCleanup()}if(n.displayReadyCapability)n.displayReadyCapability.reject(e);else if(n.opListReadCapability)n.opListReadCapability.reject(e);else throw e})},l()}},{key:"_abortOperatorList",value:function(t){var a,c,h=this,n=t.intentState,r=t.reason,l=t.force,u=l!==void 0&&l;if(!n.streamReader)return;if(!u){if(n.renderTasks.size>0)return;if(r instanceof o.RenderingCancelledException){n.streamReaderCancelTimeout=setTimeout(function(){h._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null},G);return}}if(n.streamReader.cancel(new s.AbortException(r.message)).catch(function(){}),n.streamReader=null,this._transport.destroyed)return;a=i(this._intentStates);try{for(a.s();!(c=a.n()).done;){var d=_(c.value,2),m=d[0],f=d[1];if(f===n){this._intentStates.delete(m);break}}}catch(e){a.e(e)}finally{a.f()}this.cleanup()}},{key:"stats",get:function(){return this._stats}}]),e}(),t.PDFPageProxy=D,K=function(){function e(){u(this,e),this._listeners=[],this._deferred=Promise.resolve()}return h(e,[{key:"postMessage",value:function(t,n){var s=this,o={data:structuredClone(t,n)};this._deferred.then(function(){var t,n,e=i(s._listeners);try{for(e.s();!(t=e.n()).done;)n=t.value,n.call(s,o)}catch(t){e.e(t)}finally{e.f()}})}},{key:"addEventListener",value:function(t,n){this._listeners.push(n)}},{key:"removeEventListener",value:function(t,n){var s=this._listeners.indexOf(n);this._listeners.splice(s,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}(),t.LoopbackPort=K,l={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0},t.PDFWorkerUtil=l,m.isNodeJS&&typeof a=="function"?(l.isWorkerDisabled=!0,l.fallbackWorkerSrc="./pdf.worker.js"):(typeof document=="undefined"?"undefined":v(document))==="object"&&(U=(I=document)===null||I===void 0?void 0:(L=I.currentScript)===null||L===void 0?void 0:L.src,U&&(l.fallbackWorkerSrc=U.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))),l.isSameOrigin=function(e,t){try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}var n,s=new URL(t,n);return n.origin===s.origin},l.createCDNWrapper=function(e){var t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))},O=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=n.name,r=o===void 0?null:o,i=n.port,t=i===void 0?null:i,a=n.verbosity,c=a===void 0?(0,s.getVerbosityLevel)():a;if(u(this,e),t&&d(e,e,b).has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=r,this.destroyed=!1,this.verbosity=c,this._readyCapability=(0,s.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t){d(e,e,b).set(t,this),this._initializeFromPort(t);return}this._initialize()}return h(e,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(t){this._port=t,this._messageHandler=new y.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var o,i,a,r,c,d,n=this;if(typeof Worker!="undefined"&&!l.isWorkerDisabled&&!e._mainThreadWorkerMessageHandler){a=e.workerSrc;try{l.isSameOrigin(window.location.href,a)||(a=l.createCDNWrapper(new URL(a,window.location).href)),o=new Worker(a),i=new y.MessageHandler("main","worker",o),c=function(){o.removeEventListener("error",r),i.destroy(),o.terminate(),n.destroyed?n._readyCapability.reject(new Error("Worker was destroyed")):n._setupFakeWorker()},r=function(){n._webWorker||c()},o.addEventListener("error",r),i.on("test",function(e){if(o.removeEventListener("error",r),n.destroyed){c();return}e?(n._messageHandler=i,n._port=o,n._webWorker=o,n._readyCapability.resolve(),i.send("configure",{verbosity:n.verbosity})):(n._setupFakeWorker(),i.destroy(),o.terminate())}),i.on("ready",function(){if(o.removeEventListener("error",r),n.destroyed){c();return}try{d()}catch{n._setupFakeWorker()}}),d=function(){var t=new Uint8Array;i.send("test",t,[t.buffer])},d();return}catch{(0,s.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var n=this;l.isWorkerDisabled||((0,s.warn)("Setting up fake worker."),l.isWorkerDisabled=!0),e._setupFakeWorkerGlobal.then(function(e){if(n.destroyed){n._readyCapability.reject(new Error("Worker was destroyed"));return}var t,o,i,s=new K;n._port=s,t="fake".concat(l.fakeWorkerId++),i=new y.MessageHandler(t+"_worker",t,s),e.setup(i,s),o=new y.MessageHandler(t,t+"_worker",s),n._messageHandler=o,n._readyCapability.resolve(),o.send("configure",{verbosity:n.verbosity})}).catch(function(e){n._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),d(e,e,b).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(n){if(!(n!=null&&n.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return d(this,e,b).has(n.port)?d(this,e,b).get(n.port):new e(n)}},{key:"workerSrc",get:function(){if(S.GlobalWorkerOptions.workerSrc)return S.GlobalWorkerOptions.workerSrc;if(l.fallbackWorkerSrc!==null)return m.isNodeJS||(0,o.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),l.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var t;return((t=globalThis.pdfjsWorker)===null||t===void 0?void 0:t.WorkerMessageHandler)||null}catch{return null}}},{key:"_setupFakeWorkerGlobal",get:function(){var t=this,n=function(){var e=p(c.default.mark(function e(){var n,s;return c.default.wrap(function(i){for(;1;)switch(i.prev=i.next){case 0:if(n=t._mainThreadWorkerMessageHandler,!n){i.next=3;break}return i.abrupt("return",n);case 3:if(!m.isNodeJS||typeof a!="function"){i.next=6;break}return s=eval("require")(t.workerSrc),i.abrupt("return",s.WorkerMessageHandler);case 6:return i.next=8,(0,o.loadScript)(t.workerSrc);case 8:return i.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return i.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return(0,s.shadow)(this,"_setupFakeWorkerGlobal",n())}}]),e}(),t.PDFWorker=O,b={writable:!0,value:new WeakMap},O.getWorkerSrc=function(){return(0,o.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc},A=new WeakMap,f=new WeakMap,E=new WeakMap,j=new WeakMap,Q=function(){function e(t,n,o,i){u(this,e),C(this,A,{writable:!0,value:null}),C(this,f,{writable:!0,value:new Map}),C(this,E,{writable:!0,value:new Map}),C(this,j,{writable:!0,value:null}),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new N,this.fontLoader=new V.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,s.createPromiseCapability)(),this.setupMessageHandler()}return h(e,[{key:"annotationStorage",get:function(){return(0,s.shadow)(this,"annotationStorage",new pe.AnnotationStorage)}},{key:"stats",get:function(){return r(this,A)}},{key:"getRenderingIntent",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.AnnotationMode.ENABLE,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=s.RenderingIntentFlag.DISPLAY,i="";switch(t){case"any":n=s.RenderingIntentFlag.ANY;break;case"display":break;case"print":n=s.RenderingIntentFlag.PRINT;break;default:(0,s.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(o){case s.AnnotationMode.DISABLE:n+=s.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case s.AnnotationMode.ENABLE:break;case s.AnnotationMode.ENABLE_FORMS:n+=s.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case s.AnnotationMode.ENABLE_STORAGE:n+=s.RenderingIntentFlag.ANNOTATIONS_STORAGE,i=this.annotationStorage.hash;break;default:(0,s.warn)("getRenderingIntent - invalid annotationMode: ".concat(o))}return a&&(n+=s.RenderingIntentFlag.OPLIST),{renderingIntent:n,cacheKey:"".concat(n,"_").concat(i)}}},{key:"destroy",value:function(){var n,o,a,c,l,t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,s.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback")),o=[],n=i(r(this,f).values());try{for(n.s();!(a=n.n()).done;)c=a.value,o.push(c._destroy())}catch(e){n.e(e)}finally{n.f()}return r(this,f).clear(),r(this,E).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified(),l=this.messageHandler.sendWithPromise("Terminate",null),o.push(l),Promise.all(o).then(function(){t.commonObjs.clear(),t.fontLoader.clear(),w(t,j,null),t._getFieldObjectsPromise=null,t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new s.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,n=this.messageHandler,o=this.loadingTask;n.on("GetReader",function(e,n){(0,s.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){t._fullReader.read().then(function(e){var t=e.value,o=e.done;if(o){n.close();return}(0,s.assert)((0,s.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t])}).catch(function(e){n.error(e)})},n.onCancel=function(e){t._fullReader.cancel(e),n.ready.catch(function(e){if(t.destroyed)return;throw e})}}),n.on("ReaderHeadersReady",function(){var i=(0,s.createPromiseCapability)(),n=t._fullReader;return n.headersReady.then(function(){if(!n.isStreamingSupported||!n.isRangeSupported){if(t._lastProgress){var e;(e=o.onProgress)===null||e===void 0?void 0:e.call(o,t._lastProgress)}n.onProgress=function(e){var t;(t=o.onProgress)===null||t===void 0?void 0:t.call(o,{loaded:e.loaded,total:e.total})}}i.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},i.reject),i.promise}),n.on("GetRangeReader",function(e,n){(0,s.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var o=t._networkStream.getRangeReader(e.begin,e.end);if(!o){n.close();return}n.onPull=function(){o.read().then(function(e){var t=e.value,o=e.done;if(o){n.close();return}(0,s.assert)((0,s.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t])}).catch(function(e){n.error(e)})},n.onCancel=function(e){o.cancel(e),n.ready.catch(function(e){if(t.destroyed)return;throw e})}}),n.on("GetDoc",function(e){var n=e.pdfInfo;t._numPages=n.numPages,t._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,o._capability.resolve(new R(n,t))}),n.on("DocException",function(e){var t;switch(e.name){case"PasswordException":t=new s.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new s.InvalidPDFException(e.message);break;case"MissingPDFException":t=new s.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new s.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new s.UnknownErrorException(e.message,e.details);break;default:(0,s.unreachable)("DocException - expected a valid Error.")}o._capability.reject(t)}),n.on("PasswordRequest",function(e){if(t._passwordCapability=(0,s.createPromiseCapability)(),o.onPassword){var n=function(n){n instanceof Error?t._passwordCapability.reject(n):t._passwordCapability.resolve({password:n})};try{o.onPassword(n,e.code)}catch(e){t._passwordCapability.reject(e)}}else t._passwordCapability.reject(new s.PasswordException(e.message,e.code));return t._passwordCapability.promise}),n.on("DataLoaded",function(e){var n;(n=o.onProgress)===null||n===void 0?void 0:n.call(o,{loaded:e.length,total:e.length}),t.downloadInfoCapability.resolve(e)}),n.on("StartRenderPage",function(e){if(t.destroyed)return;var n=r(t,f).get(e.pageIndex);n._startRenderPage(e.transparency,e.cacheKey)}),n.on("commonobj",function(e){var o,a,c,d,u,l=_(e,3),i=l[0],h=l[1],r=l[2];if(t.destroyed)return;if(t.commonObjs.has(i))return;switch(h){case"Font":if(o=t._params,"error"in r){d=r.error,(0,s.warn)("Error during font loading: ".concat(d)),t.commonObjs.resolve(i,d);break}u=null,o.pdfBug&&(c=globalThis.FontInspector)!==null&&c!==void 0&&c.enabled&&(u={registerFont:function(t,n){globalThis.FontInspector.fontAdded(t,n)}}),a=new V.FontFaceObject(r,{isEvalSupported:o.isEvalSupported,disableFontFace:o.disableFontFace,ignoreErrors:o.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:u}),t.fontLoader.bind(a).catch(function(){return n.sendWithPromise("FontFallback",{id:i})}).finally(function(){!o.fontExtraProperties&&a.data&&(a.data=null),t.commonObjs.resolve(i,a)});break;case"FontPath":case"Image":t.commonObjs.resolve(i,r);break;default:throw new Error("Got unknown common object type ".concat(h))}}),n.on("obj",function(e){var s,a,c,d,o=_(e,4),i=o[0],u=o[1],l=o[2],n=o[3];if(t.destroyed)return;if(s=r(t,f).get(u),s.objs.has(i))return;switch(l){case"Image":if(s.objs.resolve(i,n),d=8e6,n){if(n.bitmap){var h=n.bitmap,m=n.width,p=n.height;a=m*p*4,s._bitmaps.add(h)}else a=((c=n.data)===null||c===void 0?void 0:c.length)||0;a>d&&(s.cleanupAfterRender=!0)}break;case"Pattern":s.objs.resolve(i,n);break;default:throw new Error("Got unknown object type ".concat(l))}}),n.on("DocProgress",function(e){var n;if(t.destroyed)return;(n=o.onProgress)===null||n===void 0?void 0:n.call(o,{loaded:e.loaded,total:e.total})}),n.on("DocStats",function(e){if(t.destroyed)return;w(t,A,Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))}),n.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),n.on("FetchBuiltInCMap",function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),n.on("FetchStandardFontData",function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(t){var n,s,o=t.featureId;if(this.destroyed)return;(n=(s=this.loadingTask).onUnsupportedFeature)===null||n===void 0?void 0:n.call(s,o)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){if(n=this,!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));var n,o,s=t-1,i=r(this,E).get(s);return i||(o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(function(e){if(n.destroyed)throw new Error("Transport destroyed");var t=new D(s,e,n,n._params.ownerDocument,n._params.pdfBug);return r(n,f).set(s,t),t}),r(this,E).set(s,o),o)}},{key:"getPageIndex",value:function(t){return v(t)!=="object"||t===null||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}},{key:"getAnnotations",value:function(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}},{key:"saveDocument",value:function(){var t,n,s=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(t=(n=this._fullReader)===null||n===void 0?void 0:n.filename)!==null&&t!==void 0?t:null}).finally(function(){s.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(e){return new ve.OptionalContentConfig(e)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return r(this,j)||w(this,j,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){var n,s,o,i;return{info:e[0],metadata:e[1]?new he.Metadata(e[1]):null,contentDispositionFilename:(n=(s=t._fullReader)===null||s===void 0?void 0:s.filename)!==null&&n!==void 0?n:null,contentLength:(o=(i=t._fullReader)===null||i===void 0?void 0:i.contentLength)!==null&&o!==void 0?o:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var e=p(c.default.mark(function e(){var t,n,o,a,l,s=arguments;return c.default.wrap(function(c){for(;1;)switch(c.prev=c.next){case 0:return o=s.length>0&&s[0]!==void 0&&s[0],c.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){c.next=5;break}return c.abrupt("return");case 5:t=i(r(this,f).values()),c.prev=6,t.s();case 8:if((a=t.n()).done){c.next=15;break}if(n=a.value,l=n.cleanup(),l){c.next=13;break}throw new Error("startCleanup: Page ".concat(n.pageNumber," is currently rendering."));case 13:c.next=8;break;case 15:c.next=20;break;case 17:c.prev=17,c.t0=c.catch(6),t.e(c.t0);case 20:return c.prev=20,t.f(),c.finish(20);case 23:this.commonObjs.clear(),o||this.fontLoader.clear(),w(this,j,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return c.stop()}},e,this,[[6,17,20,23]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"loadingParams",get:function(){var t=this._params;return(0,s.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]),e}(),g=new WeakMap,T=new WeakSet,N=function(){function e(){u(this,e),Fe(this,T),C(this,g,{writable:!0,value:Object.create(null)})}return h(e,[{key:"get",value:function(t){var n,s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(o)return s=ce(this,T,oe).call(this,t),s.capability.promise.then(function(){return o(s.data)}),null;if(n=r(this,g)[t],!(n!=null&&n.capability.settled))throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}},{key:"has",value:function(t){var n=r(this,g)[t];return n?.capability.settled||!1}},{key:"resolve",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=ce(this,T,oe).call(this,t);n.data=s,n.capability.resolve()}},{key:"clear",value:function(){w(this,g,Object.create(null))}}]),e}();function oe(e){var t=r(this,g)[e];return t?t:r(this,g)[e]={capability:(0,s.createPromiseCapability)(),data:null}}z=function(){function e(t){u(this,e),this._internalRenderTask=t,this.onContinue=null}return h(e,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),e}(),t.RenderTask=z,ie=function(){function e(t){var r=t.callback,o=t.params,g=t.objs,f=t.commonObjs,h=t.annotationCanvasMap,c=t.operatorList,l=t.pageIndex,d=t.canvasFactory,n=t.useRequestAnimationFrame,m=n!==void 0&&n,a=t.pdfBug,p=a!==void 0&&a,i=t.pageColors,v=i===void 0?null:i;u(this,e),this.callback=r,this.params=o,this.objs=g,this.commonObjs=f,this.annotationCanvasMap=h,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=l,this.canvasFactory=d,this._pdfBug=p,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,s.createPromiseCapability)(),this.task=new z(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}return h(e,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(n){var i=n.transparency,a=i!==void 0&&i,r=n.optionalContentConfig;if(this.cancelled)return;if(this._canvas){if(d(e,e,x).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(e,e,x).add(this._canvas)}this._pdfBug&&(o=globalThis.StepperManager)!==null&&o!==void 0&&o.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var o,s=this.params,c=s.canvasContext,l=s.viewport,u=s.transform,h=s.imageLayer,m=s.background;this.gfx=new fe.CanvasGraphics(c,this.commonObjs,this.objs,this.canvasFactory,h,r,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:u,viewport:l,transparency:a,background:m}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},{key:"cancel",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&d(e,e,x).delete(this._canvas),this.callback(n||new o.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}if(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running)return;this._continue()}},{key:"_continue",value:function(){if(this.running=!0,this.cancelled)return;this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext()}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){t._nextBound().catch(t._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var t=p(c.default.mark(function t(){return c.default.wrap(function(n){for(;1;)switch(n.prev=n.next){case 0:if(!this.cancelled){n.next=2;break}return n.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&d(e,e,x).delete(this._canvas),this.callback()));case 4:case"end":return n.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}()}]),e}(),x={writable:!0,value:new WeakSet},le="2.14.305",t.version=le,me="eaaa8b4ad",t.build=me},(e,t,n)=>{"use strict";e.exports=n(157)},(e,t,n)=>{"use strict";e=n.nmd(e);function s(e){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var o=function(e){"use strict";var n,o,i,c,l,d,m,p,g,E,x=Object.prototype,a=x.hasOwnProperty,w=typeof Symbol=="function"?Symbol:{},h=w.iterator||"@@iterator",T=w.asyncIterator||"@@asyncIterator",y=w.toStringTag||"@@toStringTag";function t(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{t({},"")}catch{t=function(t,n,s){return t[n]=s}}function A(e,t,n,s){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new O(s||[]);return o._invoke=F(e,n,a),o}e.wrap=A;function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}g="suspendedStart",E="suspendedYield",p="executing",c="completed",n={};function v(){}function u(){}function r(){}d={},t(d,h,function(){return this}),m=Object.getPrototypeOf,l=m&&m(m(_([]))),l&&l!==x&&a.call(l,h)&&(d=l),i=r.prototype=v.prototype=Object.create(d),u.prototype=r,t(i,"constructor",r),t(r,"constructor",u),u.displayName=t(r,y,"GeneratorFunction");function C(e){["next","throw","return"].forEach(function(n){t(e,n,function(e){return this._invoke(n,e)})})}e.isGeneratorFunction=function(e){var t=typeof e=="function"&&e.constructor;return!!t&&(t===u||(t.displayName||t.name)==="GeneratorFunction")},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,r):(e.__proto__=r,t(e,y,"GeneratorFunction")),e.prototype=Object.create(i),e},e.awrap=function(e){return{__await:e}};function f(e,t){function n(o,i,r,c){var l,d,u=b(e[o],e,i);if(u.type==="throw")c(u.arg);else return d=u.arg,l=d.value,l&&s(l)==="object"&&a.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,r,c)},function(e){n("throw",e,r,c)}):t.resolve(l).then(function(e){d.value=e,r(d)},function(e){return n("throw",e,r,c)})}var o;function i(e,s){function i(){return new t(function(t,o){n(e,s,t,o)})}return o=o?o.then(i,i):i()}this._invoke=i}C(f.prototype),t(f.prototype,T,function(){return this}),e.AsyncIterator=f,e.async=function(t,n,s,o,i){i===void 0&&(i=Promise);var a=new f(A(t,n,s,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})};function F(e,t,s){var o=g;return function(a,r){if(o===p)throw new Error("Generator is already running");if(o===c){if(a==="throw")throw r;return S()}for(s.method=a,s.arg=r;!0;){var l,d,u=s.delegate;if(u&&(d=k(u,s),d)){if(d===n)continue;return d}if(s.method==="next")s.sent=s._sent=s.arg;else if(s.method==="throw"){if(o===g)throw o=c,s.arg;s.dispatchException(s.arg)}else s.method==="return"&&s.abrupt("return",s.arg);if(o=p,l=b(e,t,s),l.type==="normal"){if(o=s.done?c:E,l.arg===n)continue;return{value:l.arg,done:s.done}}l.type==="throw"&&(o=c,s.method="throw",s.arg=l.arg)}}}function k(e,t){var s,i,a=e.iterator[t.method];if(a===o){if(t.delegate=null,t.method==="throw"){if(e.iterator.return&&(t.method="return",t.arg=o,k(e,t),t.method==="throw"))return n;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return n}if(i=b(a,e.iterator,t.arg),i.type==="throw")return t.method="throw",t.arg=i.arg,t.delegate=null,n;if(s=i.arg,!s)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,n;if(s.done)t[e.resultName]=s.value,t.next=e.nextLoc,t.method!=="return"&&(t.method="next",t.arg=o);else return s;return t.delegate=null,n}C(i),t(i,y,"Generator"),t(i,h,function(){return this}),t(i,"toString",function(){return"[object Generator]"});function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}e.keys=function(e){var n,t=[];for(n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var s=t.pop();if(s in e)return n.value=s,n.done=!1,n}return n.done=!0,n}};function _(e){if(e){if(t=e[h],t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var t,n=-1,s=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=o,t.done=!0,t};return s.next=s}}return{next:S}}e.values=_;function S(){return{value:o,done:!0}}return O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(j),!t)for(var n in this)n.charAt(0)==="t"&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=o)},stop:function(){this.done=!0;var n=this.tryEntries[0],t=n.completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n,i,c,l,d,r=this;function s(e,n){return c.type="throw",c.arg=t,r.next=e,n&&(r.method="next",r.arg=o),!!n}for(i=this.tryEntries.length-1;i>=0;--i){if(n=this.tryEntries[i],c=n.completion,n.tryLoc==="root")return s("end");if(n.tryLoc<=this.prev)if(l=a.call(n,"catchLoc"),d=a.call(n,"finallyLoc"),l&&d){{if(this.prev<n.catchLoc)return s(n.catchLoc,!0);if(this.prev<n.finallyLoc)return s(n.finallyLoc)}}else if(l){if(this.prev<n.catchLoc)return s(n.catchLoc,!0)}else if(d){if(this.prev<n.finallyLoc)return s(n.finallyLoc)}else throw new Error("try statement without catch or finally")}},abrupt:function(t,s){for(var o,i,r,c=this.tryEntries.length-1;c>=0;--c)if(i=this.tryEntries[c],i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){o=i;break}return o&&(t==="break"||t==="continue")&&o.tryLoc<=s&&s<=o.finallyLoc&&(o=null),r=o?o.completion:{},r.type=t,r.arg=s,o?(this.method="next",this.next=o.finallyLoc,n):this.complete(r)},complete:function(t,s){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&s&&(this.next=s),n},finish:function(t){for(var s,o=this.tryEntries.length-1;o>=0;--o)if(s=this.tryEntries[o],s.finallyLoc===t)return this.complete(s.completion,s.afterLoc),j(s),n},catch:function(t){for(var n,o,i,s=this.tryEntries.length-1;s>=0;--s)if(n=this.tryEntries[s],n.tryLoc===t)return o=n.completion,o.type==="throw"&&(i=o.arg,j(n)),i;throw new Error("illegal catch attempt")},delegateYield:function(t,s,i){return this.delegate={iterator:_(t),resultName:s,nextLoc:i},this.method==="next"&&(this.arg=o),n}},e}(s(e)==="object"?e.exports:{});try{regeneratorRuntime=o}catch{(typeof globalThis=="undefined"?"undefined":s(globalThis))==="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},(e,t,n)=>{"use strict";function u(e){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=B,t.getFilenameFromUrl=L,t.getPdfFilenameFromUrl=R,t.getXfaPageViewport=D,t.isDataScheme=T,t.isPdfFile=N,t.isValidFetchUrl=w,t.loadScript=I;var a,m,g,v,b,j,C,E,S,M,F,A=$(n(156)),l=n(159),s=n(1);function $(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=V(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function V(e,t){if(!e)return;if(typeof e=="string")return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}function x(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function O(e,t,n,s,o,i,a){try{var c=e[i](a),r=c.value}catch(e){n(e);return}c.done?t(r):Promise.resolve(r).then(s,o)}function H(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){O(a,s,o,i,r,"next",e)}function r(e){O(a,s,o,i,r,"throw",e)}i(void 0)})}}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},f(e,t)}function r(e){var t=W();return function(){var s,i,o=d(e);return t?(i=d(this).constructor,s=Reflect.construct(o,arguments,i)):s=o.apply(this,arguments),z(this,s)}}function z(e,t){if(t&&(u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(e)}function y(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}F="http://www.w3.org/2000/svg",a=i(function e(){o(this,e)}),t.PixelsPerInch=a,h(a,"CSS",96),h(a,"PDF",72),h(a,"PDF_TO_CSS_UNITS",a.CSS/a.PDF),E=function(e){c(t,e);var n=r(t);function t(){var e,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=i.ownerDocument,a=s===void 0?globalThis.document:s;return o(this,t),e=n.call(this),e._document=a,e}return i(t,[{key:"_createCanvas",value:function(t,n){var s=this._document.createElement("canvas");return s.width=t,s.height=n,s}}]),t}(l.BaseCanvasFactory),t.DOMCanvasFactory=E;function k(){return p.apply(this,arguments)}function p(){return p=H(A.default.mark(function e(t){var n,o,i=arguments;return A.default.wrap(function(a){for(;1;)switch(a.prev=a.next){case 0:if(n=i.length>1&&i[1]!==void 0&&i[1],!w(t,document.baseURI)){a.next=21;break}return a.next=4,fetch(t);case 4:if(o=a.sent,o.ok){a.next=7;break}throw new Error(o.statusText);case 7:if(!n){a.next=15;break}return a.t1=Uint8Array,a.next=11,o.arrayBuffer();case 11:a.t2=a.sent,a.t0=new a.t1(a.t2),a.next=20;break;case 15:return a.t3=s.stringToBytes,a.next=18,o.text();case 18:a.t4=a.sent,a.t0=(0,a.t3)(a.t4);case 20:return a.abrupt("return",a.t0);case 21:return a.abrupt("return",new Promise(function(e,o){var i=new XMLHttpRequest;i.open("GET",t,!0),n&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){if(i.readyState!==XMLHttpRequest.DONE)return;if(i.status===200||i.status===0){var t;if(n&&i.response?t=new Uint8Array(i.response):!n&&i.responseText&&(t=(0,s.stringToBytes)(i.responseText)),t){e(t);return}}o(new Error(i.statusText))},i.send(null)}));case 22:case"end":return a.stop()}},e)})),p.apply(this,arguments)}S=function(e){c(t,e);var n=r(t);function t(){return o(this,t),n.apply(this,arguments)}return i(t,[{key:"_fetchData",value:function(t,n){return k(t,this.isCompressed).then(function(e){return{cMapData:e,compressionType:n}})}}]),t}(l.BaseCMapReaderFactory),t.DOMCMapReaderFactory=S,M=function(e){c(t,e);var n=r(t);function t(){return o(this,t),n.apply(this,arguments)}return i(t,[{key:"_fetchData",value:function(t){return k(t,!0)}}]),t}(l.BaseStandardFontDataFactory),t.DOMStandardFontDataFactory=M,v=function(e){c(t,e);var n=r(t);function t(){return o(this,t),n.apply(this,arguments)}return i(t,[{key:"_createSVG",value:function(t){return document.createElementNS(F,t)}}]),t}(l.BaseSVGFactory),t.DOMSVGFactory=v,g=function(){function e(t){var i,a,r,c,d,u,h,m,p,v,n=t.viewBox,s=t.scale,l=t.rotation,b=t.offsetX,g=b===void 0?0:b,y=t.offsetY,f=y===void 0?0:y,j=t.dontFlip,_=j!==void 0&&j;switch(o(this,e),this.viewBox=n,this.scale=s,this.rotation=l,this.offsetX=g,this.offsetY=f,u=(n[2]+n[0])/2,d=(n[3]+n[1])/2,l%=360,l<0&&(l+=360),l){case 180:r=-1,c=0,a=0,i=1;break;case 90:r=0,c=1,a=1,i=0;break;case 270:r=0,c=-1,a=-1,i=0;break;case 0:r=1,c=0,a=0,i=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}_&&(a=-a,i=-i),r===0?(h=Math.abs(d-n[1])*s+g,m=Math.abs(u-n[0])*s+f,v=Math.abs(n[3]-n[1])*s,p=Math.abs(n[2]-n[0])*s):(h=Math.abs(u-n[0])*s+g,m=Math.abs(d-n[1])*s+f,v=Math.abs(n[2]-n[0])*s,p=Math.abs(n[3]-n[1])*s),this.transform=[r*s,c*s,a*s,i*s,h-r*s*u-a*s*d,m-c*s*u-i*s*d],this.width=v,this.height=p}return i(e,[{key:"clone",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=n.scale,c=s===void 0?this.scale:s,o=n.rotation,l=o===void 0?this.rotation:o,i=n.offsetX,d=i===void 0?this.offsetX:i,a=n.offsetY,u=a===void 0?this.offsetY:a,r=n.dontFlip,h=r!==void 0&&r;return new e({viewBox:this.viewBox.slice(),scale:c,rotation:l,offsetX:d,offsetY:u,dontFlip:h})}},{key:"convertToViewportPoint",value:function(t,n){return s.Util.applyTransform([t,n],this.transform)}},{key:"convertToViewportRectangle",value:function(t){var n=s.Util.applyTransform([t[0],t[1]],this.transform),o=s.Util.applyTransform([t[2],t[3]],this.transform);return[n[0],n[1],o[0],o[1]]}},{key:"convertToPdfPoint",value:function(t,n){return s.Util.applyInverseTransform([t,n],this.transform)}}]),e}(),t.PageViewport=g,b=function(e){c(t,e);var n=r(t);function t(e,s){var i;return o(this,t),i=n.call(this,e,"RenderingCancelledException"),i.type=s,i}return i(t)}(s.BaseException),t.RenderingCancelledException=b;function T(e){for(var n=e.length,t=0;t<n&&e[t].trim()==="";)t++;return e.substring(t,t+5).toLowerCase()==="data:"}function N(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function L(e){var t=e.indexOf("#"),n=e.indexOf("?"),s=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",s)+1,s)}function R(e){var t,n,o,a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof e!="string")return i;if(T(e))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),i;if(a=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=a.exec(e),t=n.exec(o[1])||n.exec(o[2])||n.exec(o[3]),t&&(t=t[0],t.includes("%")))try{t=n.exec(decodeURIComponent(t))[0]}catch{}return t||i}j=function(){function e(){o(this,e),this.started=Object.create(null),this.times=[]}return i(e,[{key:"time",value:function(t){t in this.started&&(0,s.warn)("Timer is already running for ".concat(t)),this.started[t]=Date.now()}},{key:"timeEnd",value:function(t){t in this.started||(0,s.warn)("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}},{key:"toString",value:function(){var t,s,i,a,r,l,d,c=[],o=0,n=_(this.times);try{for(n.s();!(d=n.n()).done;)r=d.value,i=r.name,i.length>o&&(o=i.length)}catch(e){n.e(e)}finally{n.f()}t=_(this.times);try{for(t.s();!(l=t.n()).done;)s=l.value,a=s.end-s.start,c.push("".concat(s.name.padEnd(o)," ").concat(a,`ms
`))}catch(e){t.e(e)}finally{t.f()}return c.join("")}}]),e}(),t.StatTimer=j;function w(e,t){try{var s=t?new URL(e,t):new URL(e),n=s.protocol;return n==="http:"||n==="https:"}catch{return!1}}function I(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Promise(function(n,s){var o=document.createElement("script");o.src=e,o.onload=function(e){t&&o.remove(),n(e)},o.onerror=function(){s(new Error("Cannot load script at: ".concat(o.src)))},(document.head||document.documentElement).appendChild(o)})}function B(e){console.log("Deprecated API usage: "+e)}C=function(){function e(){o(this,e)}return i(e,null,[{key:"toDateObject",value:function(t){if(!t||typeof t!="string")return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var s,o,i,a,r,c,l,d,u,n=m.exec(t);return n?(u=parseInt(n[1],10),c=parseInt(n[2],10),c=c>=1&&c<=12?c-1:0,l=parseInt(n[3],10),l=l>=1&&l<=31?l:1,s=parseInt(n[4],10),s=s>=0&&s<=23?s:0,o=parseInt(n[5],10),o=o>=0&&o<=59?o:0,r=parseInt(n[6],10),r=r>=0&&r<=59?r:0,d=n[7]||"Z",i=parseInt(n[8],10),i=i>=0&&i<=23?i:0,a=parseInt(n[9],10)||0,a=a>=0&&a<=59?a:0,d==="-"?(s+=i,o+=a):d==="+"&&(s-=i,o-=a),new Date(Date.UTC(u,c,l,s,o,r))):null}}]),e}(),t.PDFDateString=C;function D(e,t){var n=t.scale,i=n===void 0?1:n,s=t.rotation,a=s===void 0?0:s,o=e.attributes.style,r=o.width,c=o.height,l=[0,0,parseInt(r),parseInt(c)];return new g({viewBox:l,scale:i,rotation:a})}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r,u,h,m,o=f(n(156)),s=n(1);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,s,o,i,a){try{var c=e[i](a),r=c.value}catch(e){n(e);return}c.done?t(r):Promise.resolve(r).then(s,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){c(a,s,o,i,r,"next",e)}function r(e){c(a,s,o,i,r,"throw",e)}i(void 0)})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function a(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}r=function(){function e(){i(this,e),this.constructor===e&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}return a(e,[{key:"create",value:function(t,n){if(t<=0||n<=0)throw new Error("Invalid canvas size");var s=this._createCanvas(t,n);return{canvas:s,context:s.getContext("2d")}}},{key:"reset",value:function(t,n,s){if(!t.canvas)throw new Error("Canvas is not specified");if(n<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=n,t.canvas.height=s}},{key:"destroy",value:function(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}},{key:"_createCanvas",value:function(){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}]),e}(),t.BaseCanvasFactory=r,u=function(){function e(t){var n=t.baseUrl,a=n===void 0?null:n,o=t.isCompressed,r=o!==void 0&&o;i(this,e),this.constructor===e&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=r}return a(e,[{key:"fetch",value:function(){var e=l(o.default.mark(function e(t){var n,i,a,r=this;return o.default.wrap(function(o){for(;1;)switch(o.prev=o.next){case 0:if(n=t.name,this.baseUrl){o.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){o.next=5;break}throw new Error("CMap name must be specified.");case 5:return i=this.baseUrl+n+(this.isCompressed?".bcmap":""),a=this.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE,o.abrupt("return",this._fetchData(i,a).catch(function(){throw new Error("Unable to load ".concat(r.isCompressed?"binary ":"","CMap at: ").concat(i))}));case 8:case"end":return o.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_fetchData",value:function(){(0,s.unreachable)("Abstract method `_fetchData` called.")}}]),e}(),t.BaseCMapReaderFactory=u,h=function(){function e(t){var n=t.baseUrl,o=n===void 0?null:n;i(this,e),this.constructor===e&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=o}return a(e,[{key:"fetch",value:function(){var e=l(o.default.mark(function e(t){var n,s;return o.default.wrap(function(o){for(;1;)switch(o.prev=o.next){case 0:if(n=t.filename,this.baseUrl){o.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(n){o.next=5;break}throw new Error("Font filename must be specified.");case 5:return s="".concat(this.baseUrl).concat(n),o.abrupt("return",this._fetchData(s).catch(function(){throw new Error("Unable to load font data at: ".concat(s))}));case 7:case"end":return o.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_fetchData",value:function(){(0,s.unreachable)("Abstract method `_fetchData` called.")}}]),e}(),t.BaseStandardFontDataFactory=h,m=function(){function e(){i(this,e),this.constructor===e&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}return a(e,[{key:"create",value:function(t,n){if(t<=0||n<=0)throw new Error("Invalid SVG dimensions");var s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),s.setAttribute("width","".concat(t,"px")),s.setAttribute("height","".concat(n,"px")),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox","0 0 ".concat(t," ").concat(n)),s}},{key:"createElement",value:function(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}},{key:"_createSVG",value:function(){(0,s.unreachable)("Abstract method `_createSVG` called.")}}]),e}(),t.BaseSVGFactory=m},(e,t,n)=>{"use strict";function l(e){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var u,f,g,d=O(n(156)),s=n(1);function O(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},a(e,t)}function _(e){var t=x();return function(){var s,a,o=i(e);return t?(a=i(this).constructor,s=Reflect.construct(o,arguments,a)):s=o.apply(this,arguments),y(this,s)}}function y(e,t){if(t&&(l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(e)}function p(e,t,n,s,o,i,a){try{var c=e[i](a),r=c.value}catch(e){n(e);return}c.done?t(r):Promise.resolve(r).then(s,o)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){p(a,s,o,i,r,"next",e)}function r(e){p(a,s,o,i,r,"throw",e)}i(void 0)})}}function o(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=b(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function b(e,t){if(!e)return;if(typeof e=="string")return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}function m(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function r(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}f=function(){function e(t){var i=t.docId,a=t.onUnsupportedFeature,n=t.ownerDocument,r=n===void 0?globalThis.document:n,o=t.styleElement,l=o===void 0?null:o;c(this,e),this.constructor===e&&(0,s.unreachable)("Cannot initialize BaseFontLoader."),this.docId=i,this._onUnsupportedFeature=a,this._document=r,this.nativeFontFaces=[],this.styleElement=null}return r(e,[{key:"addNativeFontFace",value:function(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}},{key:"insertRule",value:function(t){var s,n=this.styleElement;n||(n=this.styleElement=this._document.createElement("style"),n.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(n)),s=n.sheet,s.insertRule(t,s.cssRules.length)}},{key:"clear",value:function(){var n,s,t=o(this.nativeFontFaces);try{for(t.s();!(n=t.n()).done;)s=n.value,this._document.fonts.delete(s)}catch(e){t.e(e)}finally{t.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var e=v(d.default.mark(function e(t){var n,o,i=this;return d.default.wrap(function(a){for(;1;)switch(a.prev=a.next){case 0:if(!t.attached&&!t.missingFile){a.next=2;break}return a.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){a.next=19;break}if(n=t.createNativeFontFace(),!n){a.next=18;break}return this.addNativeFontFace(n),a.prev=7,a.next=10,n.loaded;case 10:a.next=18;break;case 12:throw a.prev=12,a.t0=a.catch(7),this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)("Failed to load font '".concat(n.family,"': '").concat(a.t0,"'.")),t.disableFontFace=!0,a.t0;case 18:return a.abrupt("return");case 19:if(o=t.createFontFaceRule(),!o){a.next=26;break}if(this.insertRule(o),!this.isSyncFontLoadingSupported){a.next=24;break}return a.abrupt("return");case 24:return a.next=26,new Promise(function(e){var n=i._queueLoadingCallback(e);i._prepareFontLoadEvent([o],[t],n)});case 26:case"end":return a.stop()}},e,this,[[7,12]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"_queueLoadingCallback",value:function(){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var t,n=!!((t=this._document)!==null&&t!==void 0&&t.fonts);return(0,s.shadow)(this,"isFontLoadingAPISupported",n)}},{key:"isSyncFontLoadingSupported",get:function(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),e}(),t.FontLoader=u,t.FontLoader=u=function(e){w(t,e);var n=_(t);function t(e){var s;return c(this,t),s=n.call(this,e),s.loadingContext={requests:[],nextRequestId:0},s.loadTestFontId=0,s}return r(t,[{key:"isSyncFontLoadingSupported",get:function(){var t,n=!1;return typeof navigator=="undefined"?n=!0:(t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent),t?.[1]>=14&&(n=!0)),(0,s.shadow)(this,"isSyncFontLoadingSupported",n)}},{key:"_queueLoadingCallback",value:function(t){function i(){for((0,s.assert)(!o.done,"completeRequest() cannot be called twice."),o.done=!0;n.requests.length>0&&n.requests[0].done;){var e=n.requests.shift();setTimeout(e.callback,0)}}var n=this.loadingContext,o={id:"pdfjs-font-loading-".concat(n.nextRequestId++),done:!1,complete:i,callback:t};return n.requests.push(o),o}},{key:"_loadTestFont",get:function(){var t=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,s.shadow)(this,"_loadTestFont",t())}},{key:"_prepareFontLoadEvent",value:function(t,n,i){function y(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3)&255}function k(e,t,n,s){var o=e.substring(0,t),i=e.substring(t+n);return o+s+i}f=this._document.createElement("canvas"),f.width=1,f.height=1,m=f.getContext("2d"),b=0;function x(e,t){if(b++,b>30){(0,s.warn)("Load test font never loaded."),t();return}m.font="30px "+e,m.fillText(".",0,20);var n=m.getImageData(0,0,1,1);if(n.data[3]>0){t();return}setTimeout(x.bind(null,e,t))}r="lt".concat(Date.now()).concat(this.loadTestFontId++),c=this._loadTestFont,O=976,c=k(c,O,r.length,r),v=16,j=1482184792,l=y(c,v);for(d=0,E=r.length-3;d<E;d+=4)l=l-j+y(r,d)|0;d<r.length&&(l=l-j+y(r+"XXX",d)|0),c=k(c,v,4,(0,s.string32)(l)),_="url(data:font/opentype;base64,".concat(btoa(c),");"),w='@font-face {font-family:"'.concat(r,'";src:').concat(_,"}"),this.insertRule(w),p=[],u=o(n);try{for(u.s();!(M=u.n()).done;)C=M.value,p.push(C.loadedName)}catch(e){u.e(e)}finally{u.f()}p.push(r),a=this._document.createElement("div"),a.style.visibility="hidden",a.style.width=a.style.height="10px",a.style.position="absolute",a.style.top=a.style.left="0px";for(var a,r,c,l,d,u,h,m,f,p,v,b,j,_,w,O,C,E,S,M,g=0,A=p;g<A.length;g++)S=A[g],h=this._document.createElement("span"),h.textContent="Hi",h.style.fontFamily=S,a.appendChild(h);this._document.body.appendChild(a),x(r,function(){a.remove(),i.complete()})}}]),t}(f),g=function(){function e(t,n){var a,s=n.isEvalSupported,u=s===void 0||s,i=n.disableFontFace,m=i!==void 0&&i,r=n.ignoreErrors,l=r!==void 0&&r,d=n.onUnsupportedFeature,o=n.fontRegistry,h=o===void 0?null:o;c(this,e),this.compiledGlyphs=Object.create(null);for(a in t)this[a]=t[a];this.isEvalSupported=u!==!1,this.disableFontFace=m===!0,this.ignoreErrors=l===!0,this._onUnsupportedFeature=d,this.fontRegistry=h}return r(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){var t,n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var n,o,i=(0,s.bytesToString)(this.data),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(i),");");return this.cssFontInfo?(o="font-weight: ".concat(this.cssFontInfo.fontWeight,";"),this.cssFontInfo.italicAngle&&(o+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(o,"src:").concat(t,"}")):n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}"),this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}},{key:"getPathGenerator",value:function(t,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];try{r=t.get(this.loadedName+"_path_"+n)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)('getPathGenerator - ignoring character: "'.concat(e,'".')),this.compiledGlyphs[n]=function(){}}if(this.isEvalSupported&&s.FeatureTest.isEvalSupported){var a,r,l,d,c=[],i=o(r);try{for(i.s();!(d=i.n()).done;)a=d.value,l=a.args!==void 0?a.args.join(","):"",c.push("c.",a.cmd,"(",l,`);
`)}catch(e){i.e(e)}finally{i.f()}return this.compiledGlyphs[n]=new Function("c","size",c.join(""))}return this.compiledGlyphs[n]=function(e,t){var n,i,s=o(r);try{for(s.s();!(i=s.n()).done;)n=i.value,n.cmd==="scale"&&(n.args=[t,-t]),e[n.cmd].apply(e,n.args)}catch(e){s.e(e)}finally{s.f()}}}}]),e}(),t.FontFaceObject=g},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var r,p=n(162),m=n(1);function l(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=s(e))||t&&e&&typeof e.length=="number")return n&&(e=n),o=0,i=function(){},{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(t){throw t},f:i};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,o,i,c,a=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return a=t.done,t},e:function(t){r=!0,c=t},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(r)throw c}}}}function a(e,t){return u(e)||d(e,t)||s(e,t)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(e,t){if(!e)return;if(typeof e=="string")return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}function i(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function d(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function u(e){if(Array.isArray(e))return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function f(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}r=function(){function e(){h(this,e),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return f(e,[{key:"getValue",value:function(t,n){var s=this._storage.get(t);return s===void 0?n:Object.assign(n,s)}},{key:"getRawValue",value:function(t){return this._storage.get(t)}},{key:"setValue",value:function(t,n){if(s=this._storage.get(t),o=!1,s!==void 0)for(i=0,r=Object.entries(n);i<r.length;i++){var s,o,i,r,c=a(r[i],2),l=c[0],d=c[1];s[l]!==d&&(o=!0,s[l]=d)}else o=!0,this._storage.set(t,n);o&&this._setModified()}},{key:"getAll",value:function(){return this._storage.size>0?(0,m.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"hash",get:function(){n=new p.MurmurHash3_64,t=l(this._storage);try{for(t.s();!(s=t.n()).done;){var t,n,s,o=a(s.value,2),i=o[0],r=o[1];n.update("".concat(i,":").concat(JSON.stringify(r)))}}catch(e){t.e(e)}finally{t.f()}return n.hexdigest()}}]),e}(),t.AnnotationStorage=r},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var s,o,i,a,l=n(1);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function c(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}i=3285377520,s=4294901760,o=65535,a=function(){function e(t){d(this,e),this.h1=t?t&4294967295:i,this.h2=t?t&4294967295:i}return c(e,[{key:"update",value:function(t){if(typeof t=="string"){a=new Uint8Array(t.length*2),u=0;for(var n,i,a,r,c,d,u,h,m,f,p,g,v,j,y,b=0,_=t.length;b<_;b++)m=t.charCodeAt(b),m<=255?a[u++]=m:(a[u++]=m>>>8,a[u++]=m&255)}else if((0,l.isArrayBuffer)(t))a=t.slice(),u=a.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");d=u>>2,y=u-d*4,j=new Uint32Array(a.buffer,0,d),n=0,i=0,c=this.h1,r=this.h2,f=3432918353,p=461845907,g=f&o,v=p&o;for(h=0;h<d;h++)h&1?(n=j[h],n=n*f&s|n*g&o,n=n<<15|n>>>17,n=n*p&s|n*v&o,c^=n,c=c<<13|c>>>19,c=c*5+3864292196):(i=j[h],i=i*f&s|i*g&o,i=i<<15|i>>>17,i=i*p&s|i*v&o,r^=i,r=r<<13|r>>>19,r=r*5+3864292196);switch(n=0,y){case 3:n^=a[d*4+2]<<16;case 2:n^=a[d*4+1]<<8;case 1:n^=a[d*4],n=n*f&s|n*g&o,n=n<<15|n>>>17,n=n*p&s|n*v&o,d&1?c^=n:r^=n}this.h1=c,this.h2=r}},{key:"hexdigest",value:function(){var i,a,t=this.h1,n=this.h2;return t^=n>>>1,t=t*3981806797&s|t*36045&o,n=n*4283543511&s|((n<<16|t>>>16)*2950163797&s)>>>16,t^=n>>>1,t=t*444984403&s|t*60499&o,n=n*3301882366&s|((n<<16|t>>>16)*3120437893&s)>>>16,t^=n>>>1,i=(t>>>0).toString(16),a=(n>>>0).toString(16),i.padStart(8,"0")+a.padStart(8,"0")}}]),e}(),t.MurmurHash3_64=a},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var o,r,d,h,p,b,j,w,O,C,E,k,S,M,F,N,L,s=n(1),i=n(164),Z=n(165),Q=n(3),z=n(158);function X(e){return Y(e)||G(e)||x(e)||q()}function q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y(e){if(Array.isArray(e))return y(e)}function m(e){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function l(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=x(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function g(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){return U(e)||I(e,t)||x(e,t)||B()}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(e,t){if(!e)return;if(typeof e=="string")return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}function y(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function I(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function U(e){if(Array.isArray(e))return e}O=16,h=100,r=4096,k=15,b=10,E=!0,j=1e3,o=16,F=1.000001;function H(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=function(){e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(n,s){t.translate(n,s),this.__originalTranslate(n,s)},e.scale=function(n,s){t.scale(n,s),this.__originalScale(n,s)},e.transform=function(n,s,o,i,a,r){t.transform(n,s,o,i,a,r),this.__originalTransform(n,s,o,i,a,r)},e.setTransform=function(n,s,o,i,a,r){t.setTransform(n,s,o,i,a,r),this.__originalSetTransform(n,s,o,i,a,r)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(n){t.rotate(n),this.__originalRotate(n)},e.clip=function(n){t.clip(n),this.__originalClip(n)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,s,o,i,a){t.bezierCurveTo(e,n,s,o,i,a),this.__originalBezierCurveTo(e,n,s,o,i,a)},e.rect=function(e,n,s,o){t.rect(e,n,s,o),this.__originalRect(e,n,s,o)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}function _(e){if(e._transformStack&&(e._transformStack=[]),e.mozCurrentTransform)return;e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._originalResetTransform=e.resetTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[];try{var t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"lineWidth");e._setLineWidth=t.set,e._getLineWidth=t.get,Object.defineProperty(e,"lineWidth",{set:function(t){this._setLineWidth(t*F)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var t=a(this._transformMatrix,6),n=t[0],s=t[1],o=t[2],i=t[3],l=t[4],d=t[5],r=n*i-s*o,c=s*o-n*i;return[i/r,s/c,o/c,n/r,(i*l-o*d)/c,(s*l-n*d)/r]}}),e.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},e.restore=function(){this._transformStack.length===0&&(0,s.warn)("Tried to restore a ctx when the stack was already empty.");var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},e.translate=function(t,n){var s=this._transformMatrix;s[4]=s[0]*t+s[2]*n+s[4],s[5]=s[1]*t+s[3]*n+s[5],this._originalTranslate(t,n)},e.scale=function(t,n){var s=this._transformMatrix;s[0]*=t,s[1]*=t,s[2]*=n,s[3]*=n,this._originalScale(t,n)},e.transform=function(n,s,o,i,a,r){var c=this._transformMatrix;this._transformMatrix=[c[0]*n+c[2]*s,c[1]*n+c[3]*s,c[0]*o+c[2]*i,c[1]*o+c[3]*i,c[0]*a+c[2]*r+c[4],c[1]*a+c[3]*r+c[5]],e._originalTransform(n,s,o,i,a,r)},e.setTransform=function(n,s,o,i,a,r){this._transformMatrix=[n,s,o,i,a,r],e._originalSetTransform(n,s,o,i,a,r)},e.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],e._originalResetTransform()},e.rotate=function(t){var s=Math.cos(t),o=Math.sin(t),n=this._transformMatrix;this._transformMatrix=[n[0]*s+n[2]*o,n[1]*s+n[3]*o,n[0]*-o+n[2]*s,n[1]*-o+n[3]*s,n[4],n[5]],this._originalRotate(t)}}L=function(){function e(t){f(this,e),this.canvasFactory=t,this.cache=Object.create(null)}return g(e,[{key:"getCanvas",value:function(t,n,s,o){var i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,n,s),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(n,s),this.cache[t]=i),o&&_(i.context),i}},{key:"delete",value:function(t){delete this.cache[t]}},{key:"clear",value:function(){for(t in this.cache){var t,n=this.cache[t];this.canvasFactory.destroy(n),delete this.cache[t]}}}]),e}();function u(e,t,n,s,o,i,r,c,l,d){var b,j,y,_,w,O,x,C,E,k,A,S,M,F,T,z,D,N,p=a(e.mozCurrentTransform,6),u=p[0],h=p[1],m=p[2],f=p[3],g=p[4],v=p[5];return h===0&&m===0?(z=r*u+g,j=Math.round(z),F=c*f+v,_=Math.round(F),S=(r+l)*u+g,C=Math.abs(Math.round(S)-j)||1,k=(c+d)*f+v,b=Math.abs(Math.round(k)-_)||1,e.setTransform(Math.sign(u),0,0,Math.sign(f),j,_),e.drawImage(t,n,s,o,i,0,0,C,b),e.setTransform(u,h,m,f,g,v),[C,b]):u===0&&f===0?(E=c*m+g,x=Math.round(E),A=r*h+v,w=Math.round(A),M=(c+d)*m+g,y=Math.abs(Math.round(M)-x)||1,T=(r+l)*h+v,O=Math.abs(Math.round(T)-w)||1,e.setTransform(0,Math.sign(h),Math.sign(m),0,x,w),e.drawImage(t,n,s,o,i,0,0,O,y),e.setTransform(u,h,m,f,g,v),[O,y]):(e.drawImage(t,n,s,o,i,r,c,l,d),D=Math.hypot(u,h),N=Math.hypot(m,f),[D*l,N*d])}function J(e){var t,n,s,o,i,a,r,c,u,h,m,p,g,v,b,y,_,w,O,x,C,k,A,S,M,F,T,d=e.width,f=e.height;if(!E||d>j||f>j)return null;w=1e3,_=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=d+1,o=new Uint8Array(r*(f+1)),h=d+7&~7,n=new Uint8Array(h*f),t=0,v=l(e.data);try{for(v.s();!(F=v.n()).done;)for(k=F.value,y=128;y>0;)n[t++]=k&y?0:255,y>>=1}catch(e){v.e(e)}finally{v.f()}a=0,t=0,n[t]!==0&&(o[0]=1,++a);for(i=1;i<d;i++)n[t]!==n[t+1]&&(o[i]=n[t]?2:1,++a),t++;n[t]!==0&&(o[i]=2,++a);for(c=1;c<f;c++){t=c*h,u=c*r,n[t-h]!==n[t]&&(o[u]=n[t]?1:8,++a),b=(n[t]?4:0)+(n[t-h]?8:0);for(i=1;i<d;i++)b=(b>>2)+(n[t+1]?4:0)+(n[t-h+1]?8:0),_[b]&&(o[u+i]=_[b],++a),t++;if(n[t-h]!==n[t]&&(o[u+i]=n[t]?2:4,++a),a>w)return null}t=h*(f-1),u=c*r,n[t]!==0&&(o[u]=8,++a);for(i=1;i<d;i++)n[t]!==n[t+1]&&(o[u+i]=n[t]?4:8,++a),t++;if(n[t]!==0&&(o[u+i]=4,++a),a>w)return null;S=new Int32Array([0,r,-1,0,-r,0,0,0,1]),Q.isNodeJS?O=[]:m=new Path2D;for(c=0;a&&c<=f;c++){for(s=c*r,C=s+d;s<C&&!o[s];)s++;if(s===C)continue;m?m.moveTo(s%r,c):x=[s%r,c],A=s,p=o[s];do{M=S[p];do s+=M;while(!o[s])g=o[s],g!==5&&g!==10?(p=g,o[s]=0):(p=g&51*p>>4,o[s]&=p>>2|p<<2),m?m.lineTo(s%r,s/r|0):x.push(s%r,s/r|0),o[s]||--a}while(A!==s)m||O.push(x),--c}return n=null,o=null,T=function(t){if(t.save(),t.scale(1/d,-1/f),t.translate(0,-f),m)t.fill(m);else{t.beginPath(),s=l(O);try{for(s.s();!(i=s.n()).done;){n=i.value,t.moveTo(n[0],n[1]);for(var n,s,i,o=2,a=n.length;o<a;o+=2)t.lineTo(n[o],n[o+1])}}catch(e){s.e(e)}finally{s.f()}t.fill()}t.beginPath(),t.restore()},T}C=function(){function e(t,n){f(this,e),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,t,n])}return g(e,[{key:"clone",value:function(){var t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}},{key:"setCurrentPoint",value:function(t,n){this.x=t,this.y=n}},{key:"updatePathMinMax",value:function(t,n,o){var r=s.Util.applyTransform([n,o],t),i=a(r,2);n=i[0],o=i[1],this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,o),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,o)}},{key:"updateRectMinMax",value:function(t,n){var o=s.Util.applyTransform(n,t),i=s.Util.applyTransform(n.slice(2),t);this.minX=Math.min(this.minX,o[0],i[0]),this.minY=Math.min(this.minY,o[1],i[1]),this.maxX=Math.max(this.maxX,o[0],i[0]),this.maxY=Math.max(this.maxY,o[1],i[1])}},{key:"updateScalingPathMinMax",value:function(t,n){s.Util.scaleMinMax(t,n),this.minX=Math.min(this.minX,n[0]),this.maxX=Math.max(this.maxX,n[1]),this.minY=Math.min(this.minY,n[2]),this.maxY=Math.max(this.maxY,n[3])}},{key:"updateCurvePathMinMax",value:function(t,n,o,i,a,r,c,l,d,u){var h=s.Util.bezierBoundingBox(n,o,i,a,r,c,l,d);if(u){u[0]=Math.min(u[0],h[0],h[2]),u[1]=Math.max(u[1],h[0],h[2]),u[2]=Math.min(u[2],h[1],h[3]),u[3]=Math.max(u[3],h[1],h[3]);return}this.updateRectMinMax(t,h)}},{key:"getPathBoundingBox",value:function(){var n,o,a,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.PathType.FILL,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=[this.minX,this.minY,this.maxX,this.maxY];return c===i.PathType.STROKE&&(r||(0,s.unreachable)("Stroke bounding box must include transform."),n=s.Util.singularValueDecompose2dScale(r),o=n[0]*this.lineWidth/2,a=n[1]*this.lineWidth/2,t[0]-=o,t[1]-=a,t[2]+=o,t[3]+=a),t}},{key:"updateClipFromPath",value:function(){var t=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}},{key:"isEmptyClip",value:function(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.PathType.FILL,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return s.Util.intersect(this.clipBox,this.getPathBoundingBox(t,n))}}]),e}();function D(e,t){if(u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,typeof ImageData!="undefined"&&t instanceof ImageData){e.putImageData(t,0,0);return}var i,a,r,c,l,d,u,m,f,p,g,v,b,j,y,O,E,A,S,M,F,z,D,N,L,R,H,I,P=t.height,w=t.width,C=P%o,k=(P-C)/o,T=C===0?k:k+1,x=e.createImageData(w,o),h=0,_=t.data,n=x.data;if(u)switch(u.length){case 1:g=u[0],m=u[0],f=u[0],S=u[0];break;case 4:g=u[0],m=u[1],f=u[2],S=u[3];break}if(t.kind===s.ImageKind.GRAYSCALE_1BPP){R=_.byteLength,r=new Uint32Array(n.buffer,0,n.byteLength>>2),L=r.length,I=w+7>>3,d=4294967295,l=s.FeatureTest.isLittleEndian?4278190080:255,S&&S[0]===255&&S[255]===0&&(M=[l,d],d=M[0],l=M[1]);for(a=0;a<T;a++){O=a<k?o:C,i=0;for(v=0;v<O;v++){for(F=R-h,A=0,z=F>I?w:F*8-7,N=z&~7,E=0,c=0;A<N;A+=8)c=_[h++],r[i++]=c&128?d:l,r[i++]=c&64?d:l,r[i++]=c&32?d:l,r[i++]=c&16?d:l,r[i++]=c&8?d:l,r[i++]=c&4?d:l,r[i++]=c&2?d:l,r[i++]=c&1?d:l;for(;A<z;A++)E===0&&(c=_[h++],E=128),r[i++]=c&E?d:l,E>>=1}for(;i<L;)r[i++]=0;e.putImageData(x,0,a*o)}}else if(t.kind===s.ImageKind.RGBA_32BPP){{D=!!(g||m||f),v=0,p=w*o*4;for(a=0;a<k;a++){if(n.set(_.subarray(h,h+p)),h+=p,D)for(b=0;b<p;b+=4)g&&(n[b+0]=g[n[b+0]]),m&&(n[b+1]=m[n[b+1]]),f&&(n[b+2]=f[n[b+2]]);e.putImageData(x,0,v),v+=o}if(a<T){if(p=w*C*4,n.set(_.subarray(h,h+p)),D)for(j=0;j<p;j+=4)g&&(n[j+0]=g[n[j+0]]),m&&(n[j+1]=m[n[j+1]]),f&&(n[j+2]=f[n[j+2]]);e.putImageData(x,0,v)}}}else if(t.kind===s.ImageKind.RGB_24BPP){H=!!(g||m||f),O=o,p=w*O;for(a=0;a<T;a++){a>=k&&(O=C,p=w*O),i=0;for(v=p;v--;)n[i++]=_[h++],n[i++]=_[h++],n[i++]=_[h++],n[i++]=255;if(H)for(y=0;y<i;y+=4)g&&(n[y+0]=g[n[y+0]]),m&&(n[y+1]=m[n[y+1]]),f&&(n[y+2]=f[n[y+2]]);e.putImageData(x,0,a*o)}}else throw new Error("bad image kind: ".concat(t.kind))}function T(e,t){if(t.bitmap){e.drawImage(t.bitmap,0,0);return}for(var c,u,a=t.height,r=t.width,s=a%o,i=(a-s)/o,f=s===0?i:i+1,l=e.createImageData(r,o),d=0,h=t.data,m=l.data,n=0;n<f;n++)c=n<i?o:s,u=(0,Z.applyMaskImageData)({src:h,srcPos:d,dest:m,width:r,height:c}),d=u.srcPos,e.putImageData(l,0,n*o)}function c(e,t){s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(var n,s,o=0,i=s.length;o<i;o++)n=s[o],e[n]!==void 0&&(t[n]=e[n]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function v(e,t){e.strokeStyle=e.fillStyle=t||"#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0)}function V(e,t,n,s){for(var i,a,r=e.length,o=3;o<r;o+=4)i=e[o],i===0?(e[o-3]=t,e[o-2]=n,e[o-1]=s):i<255&&(a=255-i,e[o-3]=e[o-3]*i+t*a>>8,e[o-2]=e[o-2]*i+n*a>>8,e[o-1]=e[o-1]*i+s*a>>8)}function $(e,t,n){for(var o,i=e.length,a=1/255,s=3;s<i;s+=4)o=n?n[e[s]]:e[s],t[s]=t[s]*o*a|0}function W(e,t,n){for(var o,i=e.length,s=3;s<i;s+=4)o=e[s-3]*77+e[s-2]*152+e[s-1]*28,t[s]=n?t[s]*n[o>>8]>>8:t[s]*o>>16}function P(e,t,n,s,o,i,a,r,c,l,d){var u,m,f,p,g,v,b,h=!!i,j=h?i[0]:0,y=h?i[1]:0,_=h?i[2]:0;o==="Luminosity"?p=W:p=$,b=1048576,g=Math.min(s,Math.ceil(b/n));for(u=0;u<s;u+=g)m=Math.min(g,s-u),f=e.getImageData(r-l,u+(c-d),n,m),v=t.getImageData(r,u+c,n,m),h&&V(f.data,j,y,_),p(f.data,v.data,a),t.putImageData(v,r,u+c)}function K(e,t,n,s){var o=s[0],i=s[1],a=s[2]-o,r=s[3]-i;if(a===0||r===0)return;P(t.context,n,a,r,t.subtype,t.backdrop,t.transferMap,o,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore()}function A(e,t){var o,n=s.Util.singularValueDecompose2dScale(e);return n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]),o=Math.fround((globalThis.devicePixelRatio||1)*z.PixelsPerInch.PDF_TO_CSS_UNITS),t!==void 0?t:n[0]<=o||n[1]<=o}S=["butt","round","square"],N=["miter","round","bevel"],M={},w={},d=function(){function e(t,n,s,o,i,a,r,c){f(this,e),this.ctx=t,this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=s,this.canvasFactory=o,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=a,this.cachedCanvases=new L(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=r,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=c?.background||null,this.foregroundColor=c?.foreground||null,t&&_(t),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}return g(e,[{key:"getObject",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):n}},{key:"beginDrawing",value:function(t){var n,s,o,i,a,c,l,m,g,b,j,r=t.transform,f=t.viewport,u=t.transparency,_=u!==void 0&&u,h=t.background,w=h===void 0?null:h,y=this.ctx.canvas.width,p=this.ctx.canvas.height,d=w||"#ffffff";this.ctx.save(),this.foregroundColor&&this.backgroundColor&&(this.ctx.fillStyle=this.foregroundColor,o=this.foregroundColor=this.ctx.fillStyle,this.ctx.fillStyle=this.backgroundColor,a=this.backgroundColor=this.ctx.fillStyle,c=!0,s=d,this.ctx.fillStyle=d,s=this.ctx.fillStyle,c=typeof s=="string"&&/^#[0-9A-Fa-f]{6}$/.test(s),o==="#000000"&&a==="#ffffff"||o===a||!c?this.foregroundColor=this.backgroundColor=null:(i=parseInt(s.slice(1),16),g=(i&&16711680)>>16,b=(i&&65280)>>8,j=i&&255,n=function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},m=Math.round(.2126*n(g)+.7152*n(b)+.0722*n(j)),this.selectColor=function(e,t,s){var i=.2126*n(e)+.7152*n(t)+.0722*n(s);return Math.round(i)===m?a:o})),this.ctx.fillStyle=this.backgroundColor||d,this.ctx.fillRect(0,0,y,p),this.ctx.restore(),_&&(l=this.cachedCanvases.getCanvas("transparent",y,p,!0),this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)),this.ctx.save(),v(this.ctx,this.foregroundColor),r&&(this.ctx.transform.apply(this.ctx,r),this.outputScaleX=r[0],this.outputScaleY=r[0]),this.ctx.transform.apply(this.ctx,f.transform),this.viewportScale=f.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(t,n,o,i){var r,c,d,h,m,p,g,v,j,y,f=t.argsArray,_=t.fnArray,a=n||0,u=f.length;if(u===a)return a;for(h=u-a>b&&typeof o=="function",v=h?Date.now()+k:0,m=0,y=this.commonObjs,g=this.objs;!0;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,o),a;if(d=_[a],d!==s.OPS.dependency)this[d].apply(this,f[a]);else{r=l(f[a]);try{for(r.s();!(j=r.n()).done;)if(c=j.value,p=c.startsWith("g_")?y:g,!p.has(c))return p.get(c,o),a}catch(e){r.e(e)}finally{r.f()}}if(a++,a===u)return a;if(h&&++m>b){if(Date.now()>v)return o(),a;m=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();var t,s,o,i,a,n=l(this._cachedBitmapsMap.values());try{for(n.s();!(i=n.n()).done;){o=i.value,t=l(o.values());try{for(t.s();!(a=t.n()).done;)s=a.value,typeof HTMLCanvasElement!="undefined"&&s instanceof HTMLCanvasElement&&(s.width=s.height=0)}catch(e){t.e(e)}finally{t.f()}o.clear()}}catch(e){n.e(e)}finally{n.f()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(t,n){for(var i,a,c,d,h=t.width,m=t.height,l=Math.max(Math.hypot(n[0],n[1]),1),u=Math.max(Math.hypot(n[2],n[3]),1),s=h,o=m,r="prescale1";l>2&&s>1||u>2&&o>1;)i=s,a=o,l>2&&s>1&&(i=Math.ceil(s/2),l/=s/i),u>2&&o>1&&(a=Math.ceil(o/2),u/=o/a),c=this.cachedCanvases.getCanvas(r,i,a,!1),d=c.context,d.clearRect(0,0,i,a),d.drawImage(t,0,0,s,o,0,0,i,a),t=c.canvas,s=i,o=a,r=r==="prescale1"?"prescale2":"prescale1";return{img:t,paintWidth:s,paintHeight:o}}},{key:"_createMaskCanvas",value:function(t){var n,o,a,c,d,h,f,g,v,b,j,y,_,w,x,E,k,S,M,F,C=this.ctx,m=t.width,l=t.height,O=this.current.fillColor,p=this.current.patternFill,r=C.mozCurrentTransform;if((t.bitmap||t.data)&&t.count>1){if(x=t.bitmap||t.data.buffer,_=r.slice(0,4),y=JSON.stringify(p?_:[_,O]),a=this._cachedBitmapsMap.get(x),a||(a=new Map,this._cachedBitmapsMap.set(x,a)),v=a.get(y),v&&!p)return M=Math.round(Math.min(r[0],r[2])+r[4]),S=Math.round(Math.min(r[1],r[3])+r[5]),{canvas:v,offsetX:M,offsetY:S};o=v}return o||(w=this.cachedCanvases.getCanvas("maskCanvas",m,l,!1),T(w.context,t)),c=s.Util.transform(r,[1/m,0,0,-1/l,0,0]),c=s.Util.transform(c,[1,0,0,1,0,-l]),h=s.Util.applyTransform([0,0],c),f=s.Util.applyTransform([m,l],c),d=s.Util.normalizeRect([h[0],h[1],f[0],f[1]]),k=Math.round(d[2]-d[0])||1,E=Math.round(d[3]-d[1])||1,g=this.cachedCanvases.getCanvas("fillCanvas",k,E,!0),n=g.context,j=Math.min(h[0],f[0]),b=Math.min(h[1],f[1]),n.translate(-j,-b),n.transform.apply(n,c),o||(o=this._scaleImage(w.canvas,n.mozCurrentTransformInverse),o=o.img,a&&p&&a.set(y,o)),n.imageSmoothingEnabled=A(n.mozCurrentTransform,t.interpolate),u(n,o,0,0,o.width,o.height,0,0,m,l),n.globalCompositeOperation="source-in",F=s.Util.transform(n.mozCurrentTransformInverse,[1,0,0,1,-j,-b]),n.fillStyle=p?O.getPattern(C,this,F,i.PathType.FILL):O,n.fillRect(0,0,m,l),a&&!p&&(this.cachedCanvases.delete("fillCanvas"),a.set(y,g.canvas)),{canvas:g.canvas,offsetX:Math.round(j),offsetY:Math.round(b)}}},{key:"setLineWidth",value:function(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=t,this.ctx.lineWidth=t}},{key:"setLineCap",value:function(t){this.ctx.lineCap=S[t]}},{key:"setLineJoin",value:function(t){this.ctx.lineJoin=N[t]}},{key:"setMiterLimit",value:function(t){this.ctx.miterLimit=t}},{key:"setDash",value:function(t,n){var s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=n)}},{key:"setRenderingIntent",value:function(){}},{key:"setFlatness",value:function(){}},{key:"setGState",value:function(t){for(var n,s,i,o=0,a=t.length;o<a;o++)switch(s=t[o],i=s[0],n=s[1],i){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=s[1];break;case"ca":this.current.fillAlpha=s[1],this.ctx.globalAlpha=s[1];break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=n}}},{key:"inSMaskMode",get:function(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function(){var t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var t,n=this.ctx.canvas.width,s=this.ctx.canvas.height,o="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(o,n,s,!0);this.suspendedCtx=this.ctx,this.ctx=i.context,t=this.ctx,t.setTransform.apply(t,this.suspendedCtx.mozCurrentTransform),c(this.suspendedCtx,t),H(t,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),c(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}},{key:"compose",value:function(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var n=this.current.activeSMask,s=this.suspendedCtx;K(s,n,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}},{key:"save",value:function(){this.inSMaskMode?(c(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),c(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(t,n,s,o,i,a){this.ctx.transform(t,n,s,o,i,a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(t,n,o){c=this.ctx,d=this.current,a=d.x,r=d.y,l=c.mozCurrentTransform,m=l[0]===0&&l[3]===0||l[1]===0&&l[2]===0,p=m?o.slice(0):null;for(var a,r,c,l,d,u,h,m,f,p,g,v,b,j=0,i=0,y=t.length;j<y;j++)switch(t[j]|0){case s.OPS.rectangle:a=n[i++],r=n[i++],v=n[i++],b=n[i++],f=a+v,g=r+b,c.moveTo(a,r),v===0||b===0?c.lineTo(f,g):(c.lineTo(f,r),c.lineTo(f,g),c.lineTo(a,g)),m||d.updateRectMinMax(l,[a,r,f,g]),c.closePath();break;case s.OPS.moveTo:a=n[i++],r=n[i++],c.moveTo(a,r),m||d.updatePathMinMax(l,a,r);break;case s.OPS.lineTo:a=n[i++],r=n[i++],c.lineTo(a,r),m||d.updatePathMinMax(l,a,r);break;case s.OPS.curveTo:u=a,h=r,a=n[i+4],r=n[i+5],c.bezierCurveTo(n[i],n[i+1],n[i+2],n[i+3],a,r),d.updateCurvePathMinMax(l,u,h,n[i],n[i+1],n[i+2],n[i+3],a,r,p),i+=6;break;case s.OPS.curveTo2:u=a,h=r,c.bezierCurveTo(a,r,n[i],n[i+1],n[i+2],n[i+3]),d.updateCurvePathMinMax(l,u,h,a,r,n[i],n[i+1],n[i+2],n[i+3],p),a=n[i+2],r=n[i+3],i+=4;break;case s.OPS.curveTo3:u=a,h=r,a=n[i+2],r=n[i+3],c.bezierCurveTo(n[i],n[i+1],a,r,a,r),d.updateCurvePathMinMax(l,u,h,n[i],n[i+1],a,r,a,r,p),i+=4;break;case s.OPS.closePath:c.closePath();break}m&&d.updateScalingPathMinMax(l,p),d.setCurrentPoint(a,r)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(t){t=typeof t=="undefined"||t;var n=this.ctx,s=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(m(s)==="object"&&s!==null&&s!==void 0&&s.getPattern?(n.save(),n.strokeStyle=s.getPattern(n,this,n.mozCurrentTransformInverse,i.PathType.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(t){t=typeof t=="undefined"||t;var s,n=this.ctx,a=this.current.fillColor,r=this.current.patternFill,o=!1;r&&(n.save(),n.fillStyle=a.getPattern(n,this,n.mozCurrentTransformInverse,i.PathType.FILL),o=!0),s=this.current.getClippedPathBoundingBox(),this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),o&&n.restore(),t&&this.consumePath(s)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=M}},{key:"eoClip",value:function(){this.pendingClip=w}},{key:"beginText",value:function(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var n,s,o=this.pendingTextPaths,t=this.ctx;if(o===void 0){t.beginPath();return}t.save(),t.beginPath();for(s=0;s<o.length;s++)n=o[s],t.setTransform.apply(t,n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setFont",value:function(t,n){var a,r,c,l,d,o=this.commonObjs.get(t),i=this.current;if(!o)throw new Error("Can't find font for ".concat(t));if(i.fontMatrix=o.fontMatrix||s.FONT_IDENTITY_MATRIX,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&(0,s.warn)("Invalid font matrix for font "+t),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=o,this.current.fontSize=n,o.isType3Font)return;c=o.loadedName||"sans-serif",r="normal",o.black?r="900":o.bold&&(r="bold"),l=o.italic?"italic":"normal",d='"'.concat(c,'", ').concat(o.fallbackName),a=n,n<O?a=O:n>h&&(a=h),this.current.fontSizeScale=n/a,this.ctx.font="".concat(l," ").concat(r," ").concat(a,"px ").concat(d)}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"moveText",value:function(t,n){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}},{key:"setLeadingMoveText",value:function(t,n){this.setLeading(-n),this.moveText(t,n)}},{key:"setTextMatrix",value:function(t,n,s,o,i,a){this.current.textMatrix=[t,n,s,o,i,a],this.current.textMatrixScale=Math.hypot(t,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(t,n,o,i){var d,p,a=this.ctx,c=this.current,l=c.font,u=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,r=u&s.TextRenderingMode.FILL_STROKE_MASK,m=!!(u&s.TextRenderingMode.ADD_TO_PATH_FLAG),f=c.patternFill&&!l.missingFile;(l.disableFontFace||m||f)&&(d=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||f?(a.save(),a.translate(n,o),a.beginPath(),d(a,h),i&&a.setTransform.apply(a,i),(r===s.TextRenderingMode.FILL||r===s.TextRenderingMode.FILL_STROKE)&&a.fill(),(r===s.TextRenderingMode.STROKE||r===s.TextRenderingMode.FILL_STROKE)&&a.stroke(),a.restore()):((r===s.TextRenderingMode.FILL||r===s.TextRenderingMode.FILL_STROKE)&&a.fillText(t,n,o),(r===s.TextRenderingMode.STROKE||r===s.TextRenderingMode.FILL_STROKE)&&a.strokeText(t,n,o)),m&&(p=this.pendingTextPaths||(this.pendingTextPaths=[]),p.push({transform:a.mozCurrentTransform,x:n,y:o,fontSize:h,addToPath:d}))}},{key:"isFontSubpixelAAEnabled",get:function(){var t,n,i,a=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1),o=a.context;o.scale(1.5,1),o.fillText("I",0,10),n=o.getImageData(0,0,10,10).data,i=!1;for(t=3;t<n.length;t+=4)if(n[t]>0&&n[t]<255){i=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",i)}},{key:"showText",value:function(t){if(n=this.current,u=n.font,u.isType3Font)return this.showType3Text(t);if(l=n.fontSize,l===0)return void 0;o=this.ctx,a=n.fontSizeScale,R=n.charSpacing,D=n.wordSpacing,p=n.fontDirection,_=n.textHScale*p,B=t.length,y=u.vertical,T=y?1:-1,F=u.defaultVMetrics,v=l*n.fontMatrix[0],z=n.textRenderingMode===s.TextRenderingMode.FILL&&!u.disableFontFace&&!n.patternFill,o.save(),o.transform.apply(o,n.textMatrix),o.translate(n.x,n.y+n.textRise),p>0?o.scale(_,-1):o.scale(_,1),n.patternFill&&(o.save(),P=n.fillColor.getPattern(o,this,o.mozCurrentTransformInverse,i.PathType.FILL),S=o.mozCurrentTransform,o.restore(),o.fillStyle=P),m=n.lineWidth,C=n.textMatrixScale,C===0||m===0?(M=n.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK,(M===s.TextRenderingMode.STROKE||M===s.TextRenderingMode.FILL_STROKE)&&(m=this.getSinglePixelWidth())):m/=C,a!==1&&(o.scale(a,a),m/=a),o.lineWidth=m,h=0;for(O=0;O<B;++O){if(c=t[O],typeof c=="number"){h+=T*c*l/1e3;continue}var n,o,a,c,l,u,h,m,p,g,v,b,y,_,O,x,C,E,S,M,F,T,z,D,N,L,R,P,H,I,B,k=!1,A=(c.isSpace?D:0)+R,w=c.fontChar,f=c.accent,d=void 0,j=void 0,r=c.width;y?(g=c.vmetric||F,N=-(c.vmetric?g[1]:r*.5)*v,L=g[2]*v,r=g?-g[0]:r,d=N/a,j=(h+L)/a):(d=h/a,j=0),u.remeasure&&r>0&&(b=o.measureText(w).width*1e3/l*a,r<b&&this.isFontSubpixelAAEnabled?(E=r/b,k=!0,o.save(),o.scale(E,1),d/=E):r!==b&&(d+=(r-b)/2e3*l/a)),this.contentVisible&&(c.isInFont||u.missingFile)&&(z&&!f?o.fillText(w,d,j):(this.paintChar(w,d,j,S),f&&(H=d+l*f.offset.x/a,I=j-l*f.offset.y/a,this.paintChar(f.fontChar,H,I,S)))),x=void 0,y?x=r*v-A*p:x=r*v+A*p,h+=x,k&&o.restore()}return y?n.y-=h:n.x+=h*_,o.restore(),this.compose()}},{key:"showType3Text",value:function(t){var i,r,l,d,u,h,g,o=this.ctx,n=this.current,m=n.font,a=n.fontSize,f=n.fontDirection,_=m.vertical?1:-1,y=n.charSpacing,j=n.wordSpacing,c=n.textHScale*f,p=n.fontMatrix||s.FONT_IDENTITY_MATRIX,b=t.length,v=n.textRenderingMode===s.TextRenderingMode.INVISIBLE;if(v||a===0)return;this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,n.textMatrix),o.translate(n.x,n.y),o.scale(c,f);for(r=0;r<b;++r){if(i=t[r],typeof i=="number"){d=_*i*a/1e3,this.ctx.translate(d,0),n.x+=d*c;continue}if(h=(i.isSpace?j:0)+y,u=m.charProcOperatorList[i.operatorListId],!u){(0,s.warn)('Type3 character "'.concat(i.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=i,this.save(),o.scale(a,a),o.transform.apply(o,p),this.executeOperatorList(u),this.restore()),g=s.Util.applyTransform([i.width,0],p),l=g[0]*a+h,o.translate(l,0),n.x+=l*c}o.restore(),this.processingType3=null}},{key:"setCharWidth",value:function(){}},{key:"setCharWidthAndBounds",value:function(t,n,s,o,i,a){this.ctx.rect(s,o,i-s,a-o),this.ctx.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(n){var o,a,r,c,s=this;return n[0]==="TilingPattern"?(a=n[1],r=this.baseTransform||this.ctx.mozCurrentTransform.slice(),c={createCanvasGraphics:function(n){return new e(n,s.commonObjs,s.objs,s.canvasFactory)}},o=new i.TilingPattern(n,a,this.ctx,c,r)):o=this._getPattern(n[1],n[2]),o}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(t,n,o){var i,a=((i=this.selectColor)===null||i===void 0?void 0:i.call(this,t,n,o))||s.Util.makeHexColor(t,n,o);this.ctx.strokeStyle=a,this.current.strokeColor=a}},{key:"setFillRGBColor",value:function(t,n,o){var i,a=((i=this.selectColor)===null||i===void 0?void 0:i.call(this,t,n,o))||s.Util.makeHexColor(t,n,o);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1}},{key:"_getPattern",value:function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=(0,i.getShadingPattern)(this.objs.get(t)),this.cachedPatterns.set(t,n)),s&&(n.matrix=s),n}},{key:"shadingFill",value:function(t){if(!this.contentVisible)return;var n,o,a,r,c,d,u,h,m,f,p,g,v,l=this.ctx;this.save(),p=this._getPattern(t),l.fillStyle=p.getPattern(l,this,l.mozCurrentTransformInverse,i.PathType.SHADING),n=l.mozCurrentTransformInverse,n?(h=l.canvas,u=h.width,d=h.height,o=s.Util.applyTransform([0,0],n),c=s.Util.applyTransform([0,d],n),r=s.Util.applyTransform([u,0],n),a=s.Util.applyTransform([u,d],n),m=Math.min(o[0],c[0],r[0],a[0]),f=Math.min(o[1],c[1],r[1],a[1]),g=Math.max(o[0],c[0],r[0],a[0]),v=Math.max(o[1],c[1],r[1],a[1]),this.ctx.fillRect(m,f,g-m,v-f)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.compose(this.current.getClippedPathBoundingBox()),this.restore()}},{key:"beginInlineImage",value:function(){(0,s.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,s.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(t,n){if(!this.contentVisible)return;if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&t.length===6&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,n){var s=n[2]-n[0],o=n[3]-n[1];this.ctx.rect(n[0],n[1],s,o),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,n),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){if(!this.contentVisible)return;this.restore(),this.baseTransform=this.baseTransformStack.pop()}},{key:"beginGroup",value:function(t){if(!this.contentVisible)return;if(this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null),n=this.ctx,t.isolated||(0,s.info)("TODO: Support non-isolated groups."),t.knockout&&(0,s.warn)("Knockout groups not supported."),g=n.mozCurrentTransform,t.matrix&&n.transform.apply(n,t.matrix),!t.bbox)throw new Error("Bounding box is required.");var n,o,f,p,g,i=s.Util.getAxialAlignedBoundingBox(t.bbox,n.mozCurrentTransform),v=[0,0,n.canvas.width,n.canvas.height],i=s.Util.intersect(i,v)||[0,0,0,0],u=Math.floor(i[0]),h=Math.floor(i[1]),a=Math.max(Math.ceil(i[2])-u,1),l=Math.max(Math.ceil(i[3])-h,1),m=1,d=1;a>r&&(m=a/r,a=r),l>r&&(d=l/r,l=r),this.current.startNewPathAndClipBox([0,0,a,l]),f="groupAt"+this.groupLevel,t.smask&&(f+="_smask_"+this.smaskCounter++%2),p=this.cachedCanvases.getCanvas(f,a,l,!0),o=p.context,o.scale(1/m,1/d),o.translate(-u,-h),o.transform.apply(o,g),t.smask?this.smaskStack.push({canvas:p.canvas,context:o,offsetX:u,offsetY:h,scaleX:m,scaleY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(u,h),n.scale(m,d),n.save()),c(n,o),this.ctx=o,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}},{key:"endGroup",value:function(t){if(!this.contentVisible)return;this.groupLevel--;var o,i,n=this.ctx,a=this.groupStack.pop();this.ctx=a,this.ctx.imageSmoothingEnabled=!1,t.smask?(this.tempSMask=this.smaskStack.pop(),this.restore()):(this.ctx.restore(),o=this.ctx.mozCurrentTransform,this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o),i=s.Util.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(i))}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(t,n,o,i,r){if(this.save(),Array.isArray(n)&&n.length===4)if(l=n[2]-n[0],c=n[3]-n[1],r&&this.annotationCanvasMap){o=o.slice(),o[4]-=n[0],o[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=c;var c,l,y=s.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),u=a(y,2),j=u[0],m=u[1],f=this.viewportScale,g=Math.ceil(l*this.outputScaleX*f),b=Math.ceil(c*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(g,b);var h=this.annotationCanvas,d=h.canvas,w=h.context,p="var(--zoom-factor) * ".concat(z.PixelsPerInch.PDF_TO_CSS_UNITS);d.style.width="calc(".concat(l,"px * ").concat(p,")"),d.style.height="calc(".concat(c,"px * ").concat(p,")"),this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.setTransform(j,0,0,-m,0,c*m),_(this.ctx),v(this.ctx,this.foregroundColor)}else v(this.ctx,this.foregroundColor),this.ctx.rect(n[0],n[1],l,c),this.ctx.clip(),this.endPath();this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,o),this.transform.apply(this,i)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(t){if(!this.contentVisible)return;var n,s,o,i,a=t.count;if(t=this.getObject(t.data,t),t.count=a,n=this.ctx,s=this.processingType3,s&&(s.compiled===void 0&&(s.compiled=J(t)),s.compiled)){s.compiled(n);return}o=this._createMaskCanvas(t),i=o.canvas,n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(i,o.offsetX,o.offsetY),n.restore(),this.compose()}},{key:"paintImageMaskXObjectRepeat",value:function(t,n){if(d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,!this.contentVisible)return;t=this.getObject(t.data,t),o=this.ctx,o.save(),h=o.mozCurrentTransform,o.transform(n,d,c,l,0,0),u=this._createMaskCanvas(t),o.setTransform(1,0,0,1,0,0);for(i=0,m=r.length;i<m;i+=2){var o,i,r,c,l,d,u,h,m,f=s.Util.transform(h,[n,d,c,l,r[i],r[i+1]]),g=s.Util.applyTransform([0,0],f),p=a(g,2),v=p[0],b=p[1];o.drawImage(u.canvas,v,b)}o.restore(),this.compose()}},{key:"paintImageMaskXObjectGroup",value:function(t){if(!this.contentVisible)return;n=this.ctx,l=this.current.fillColor,h=this.current.patternFill;for(var n,s,o,a,r,c,l,h,d=0,m=t.length;d<m;d++)o=t[d],r=o.width,a=o.height,c=this.cachedCanvases.getCanvas("maskCanvas",r,a,!1),s=c.context,s.save(),T(s,o),s.globalCompositeOperation="source-in",s.fillStyle=h?l.getPattern(s,this,n.mozCurrentTransformInverse,i.PathType.FILL):l,s.fillRect(0,0,r,a),s.restore(),n.save(),n.transform.apply(n,o.transform),n.scale(1,-1),u(n,c.canvas,0,0,r,a,0,-1,1,1),n.restore();this.compose()}},{key:"paintImageXObject",value:function(t){if(!this.contentVisible)return;var n=this.getObject(t);if(!n){(0,s.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}},{key:"paintImageXObjectRepeat",value:function(t,n,o,i){if(!this.contentVisible)return;if(a=this.getObject(t),!a){(0,s.warn)("Dependent image isn't ready yet");return}l=a.width,d=a.height,c=[];for(var a,c,l,d,r=0,u=i.length;r<u;r+=2)c.push({transform:[n,0,0,o,i[r],i[r+1]],x:0,y:0,w:l,h:d});this.paintInlineImageXObjectGroup(a,c)}},{key:"paintInlineImageXObject",value:function(t){if(!this.contentVisible)return;o=t.width,n=t.height,s=this.ctx,this.save(),s.scale(1/o,-1/n),typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data?r=t:(c=this.cachedCanvases.getCanvas("inlineImage",o,n,!1),h=c.context,D(h,t,this.current.transferMaps),r=c.canvas),i=this._scaleImage(r,s.mozCurrentTransformInverse),s.imageSmoothingEnabled=A(s.mozCurrentTransform,t.interpolate);var n,s,o,i,r,c,l,h,m=u(s,i.img,0,0,i.paintWidth,i.paintHeight,0,-n,o,n),d=a(m,2),f=d[0],p=d[1];this.imageLayer&&(l=this.getCanvasPosition(0,-n),this.imageLayer.appendImage({imgData:t,left:l[0],top:l[1],width:f,height:p})),this.compose(),this.restore()}},{key:"paintInlineImageXObjectGroup",value:function(t,n){if(!this.contentVisible)return;o=this.ctx,c=t.width,i=t.height,a=this.cachedCanvases.getCanvas("inlineImage",c,i,!1),d=a.context,D(d,t,this.current.transferMaps);for(var s,o,i,a,c,l,d,r=0,h=n.length;r<h;r++)s=n[r],o.save(),o.transform.apply(o,s.transform),o.scale(1,-1),u(o,a.canvas,s.x,s.y,s.w,s.h,0,-1,1,1),this.imageLayer&&(l=this.getCanvasPosition(s.x,s.y),this.imageLayer.appendImage({imgData:t,left:l[0],top:l[1],width:c,height:i})),o.restore();this.compose()}},{key:"paintSolidColorImageMask",value:function(){if(!this.contentVisible)return;this.ctx.fillRect(0,0,1,1),this.compose()}},{key:"markPoint",value:function(){}},{key:"markPointProps",value:function(){}},{key:"beginMarkedContent",value:function(){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(t,n){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(t){var n,s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t),n=this.ctx,this.pendingClip&&(s||(this.pendingClip===w?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(!this._cachedGetSinglePixelWidth){var n,s,o,t=this.ctx.mozCurrentTransform;t[1]===0&&t[2]===0?this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3])):(n=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),o=Math.hypot(t[1],t[3]),this._cachedGetSinglePixelWidth=Math.max(s,o)/n)}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function(){if(!this._cachedScaleForStroking){var s,o,i,a,r,c,l,d,u,h,n=this.current.lineWidth,t=this.ctx.mozCurrentTransform;t[1]===0&&t[2]===0?(u=Math.abs(t[0]),h=Math.abs(t[3]),n===0?(s=1/u,o=1/h):(l=u*n,d=h*n,s=l<1?1/l:1,o=d<1?1/d:1)):(r=Math.abs(t[0]*t[3]-t[2]*t[1]),c=Math.hypot(t[0],t[1]),a=Math.hypot(t[2],t[3]),n===0?(s=a/r,o=c/r):(i=n*r,s=a>i?a/i:1,o=c>i?c/i:1)),this._cachedScaleForStroking=[s,o]}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function(t){var s,r,c,l,n=this.ctx,u=this.current.lineWidth,h=this.getScaleForStroking(),d=a(h,2),o=d[0],i=d[1];if(n.lineWidth=u||1,o===1&&i===1){n.stroke();return}t&&(l=n.mozCurrentTransform.slice(),r=n.getLineDash().slice(),c=n.lineDashOffset),n.scale(o,i),s=Math.max(o,i),n.setLineDash(n.getLineDash().map(function(e){return e/s})),n.lineDashOffset/=s,n.stroke(),t&&(n.setTransform.apply(n,X(l)),n.setLineDash(r),n.lineDashOffset=c)}},{key:"getCanvasPosition",value:function(t,n){var s=this.ctx.mozCurrentTransform;return[s[0]*t+s[2]*n+s[4],s[1]*t+s[3]*n+s[5]]}},{key:"isContentVisible",value:function(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}]),e}(),t.CanvasGraphics=d;for(p in s.OPS)d.prototype[p]!==void 0&&(d.prototype[s.OPS[p]]=d.prototype[p])},(e,t,n)=>{"use strict";function p(e){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=k;var o,c,l,g,b,j,w,s=n(1),A=n(3);function _(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=O(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function O(e,t){if(!e)return;if(typeof e=="string")return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}function y(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},u(e,t)}function h(e){var t=S();return function(){var s,i,o=r(e);return t?(i=r(this).constructor,s=Reflect.construct(o,arguments,i)):s=o.apply(this,arguments),C(this,s)}}function C(e,t){if(t&&(p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"},t.PathType=o;function f(e,t){if(!t||A.isNodeJS)return;var s=t[2]-t[0],o=t[3]-t[1],n=new Path2D;n.rect(t[0],t[1],s,o),e.clip(n)}c=function(){function e(){a(this,e),this.constructor===e&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}return i(e,[{key:"getPattern",value:function(){(0,s.unreachable)("Abstract method `getPattern` called.")}}]),e}(),g=function(e){d(t,e);var n=h(t);function t(e){var s;return a(this,t),s=n.call(this),s._type=e[1],s._bbox=e[2],s._colorStops=e[3],s._p0=e[4],s._p1=e[5],s._r0=e[6],s._r1=e[7],s.matrix=null,s}return i(t,[{key:"_createGradient",value:function(t){this._type==="axial"?n=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var n,o,i,s=_(this._colorStops);try{for(s.s();!(i=s.n()).done;)o=i.value,n.addColorStop(o[0],o[1])}catch(e){s.e(e)}finally{s.f()}return n}},{key:"getPattern",value:function(t,n,i,a){if(a===o.STROKE||a===o.FILL){var l,u,c=n.current.getClippedPathBoundingBox(a,t.mozCurrentTransform)||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,m=Math.ceil(c[3]-c[1])||1,d=n.cachedCanvases.getCanvas("pattern",h,m,!0),r=d.context;r.clearRect(0,0,r.canvas.width,r.canvas.height),r.beginPath(),r.rect(0,0,r.canvas.width,r.canvas.height),r.translate(-c[0],-c[1]),i=s.Util.transform(i,[1,0,0,1,c[0],c[1]]),r.transform.apply(r,n.baseTransform),this.matrix&&r.transform.apply(r,this.matrix),f(r,this._bbox),r.fillStyle=this._createGradient(r),r.fill(),l=t.createPattern(d.canvas,"no-repeat"),u=new DOMMatrix(i);try{l.setTransform(u)}catch(e){(0,s.warn)('RadialAxialShadingPattern.getPattern: "'.concat(e?.message,'".'))}}else f(t,this._bbox),l=this._createGradient(t);return l}}]),t}(c);function m(e,t,n,s,o,i,a,r){if(l=t.coords,h=t.colors,_=e.data,V=e.width*4,l[n+1]>l[s+1]&&(d=n,n=s,s=d,d=i,i=a,a=d),l[s+1]>l[o+1]&&(d=s,s=o,o=d,d=a,a=r,r=d),l[n+1]>l[s+1]&&(d=n,n=s,s=d,d=i,i=a,a=d),j=(l[n]+t.offsetX)*t.scaleX,m=(l[n+1]+t.offsetY)*t.scaleY,k=(l[s]+t.offsetX)*t.scaleX,v=(l[s+1]+t.offsetY)*t.scaleY,z=(l[o]+t.offsetX)*t.scaleX,f=(l[o+1]+t.offsetY)*t.scaleY,m>=f)return;for(var c,l,d,h,m,f,p,g,v,b,j,y,_,C,E,k,A,S,M,T,z,R,P,H,V,$,w=h[i],x=h[i+1],O=h[i+2],D=h[a],N=h[a+1],F=h[a+2],I=h[r],B=h[r+1],L=h[r+2],W=Math.round(m),U=Math.round(f),u=W;u<=U;u++){u<v?(g=void 0,u<m?g=0:g=(m-u)/(m-v),b=j-(j-k)*g,S=w-(w-D)*g,A=x-(x-N)*g,E=O-(O-F)*g):(p=void 0,u>f?p=1:v===f?p=0:p=(v-u)/(v-f),b=k-(k-z)*p,S=D-(D-I)*p,A=N-(N-B)*p,E=F-(F-L)*p),c=void 0,u<m?c=0:u>f?c=1:c=(m-u)/(m-f),C=j-(j-z)*c,H=w-(w-I)*c,P=x-(x-B)*c,R=O-(O-L)*c,T=Math.round(Math.min(b,C)),$=Math.round(Math.max(b,C)),y=V*u+T*4;for(M=T;M<=$;M++)c=(b-M)/(b-C),c<0?c=0:c>1&&(c=1),_[y++]=S-(S-H)*c|0,_[y++]=A-(A-P)*c|0,_[y++]=E-(E-R)*c|0,_[y++]=255}}function x(e,t,n){var s,o,a,c,l,d,u,i=t.coords,r=t.colors;switch(t.type){case"lattice":a=t.verticesPerRow,d=Math.floor(i.length/a)-1,u=a-1;for(o=0;o<d;o++){s=o*a;for(c=0;c<u;c++,s++)m(e,n,i[s],i[s+1],i[s+a],r[s],r[s+1],r[s+a]),m(e,n,i[s+a+1],i[s+1],i[s+a],r[s+a+1],r[s+1],r[s+a])}break;case"triangles":for(o=0,l=i.length;o<l;o+=3)m(e,n,i[o],i[o+1],i[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}j=function(e){d(t,e);var n=h(t);function t(e){var s;return a(this,t),s=n.call(this),s._coords=e[2],s._colors=e[3],s._figures=e[4],s._bounds=e[5],s._bbox=e[7],s._background=e[8],s.matrix=null,s}return i(t,[{key:"_createMeshCanvas",value:function(t,n,s){if(g=1.1,v=3e3,o=2,l=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-l,y=Math.ceil(this._bounds[3])-d,h=Math.min(Math.ceil(Math.abs(p*t[0]*g)),v),m=Math.min(Math.ceil(Math.abs(y*t[1]*g)),v),c=p/h,u=y/m,E={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-d,scaleX:1/c,scaleY:1/u},w=h+o*2,O=m+o*2,b=s.getCanvas("mesh",w,O,!1),j=b.context,f=j.createImageData(h,m),n){a=f.data;for(var o,a,r,c,l,d,u,h,m,f,p,g,v,b,j,y,w,O,C,E,k,A,i=0,S=a.length;i<S;i+=4)a[i]=n[0],a[i+1]=n[1],a[i+2]=n[2],a[i+3]=255}r=_(this._figures);try{for(r.s();!(k=r.n()).done;)C=k.value,x(f,C,E)}catch(e){r.e(e)}finally{r.f()}return j.putImageData(f,o,o),A=b.canvas,{canvas:A,offsetX:l-o*c,offsetY:d-o*u,scaleX:c,scaleY:u}}},{key:"getPattern",value:function(t,n,i,a){if(f(t,this._bbox),a===o.SHADING)r=s.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(r=s.Util.singularValueDecompose2dScale(n.baseTransform),this.matrix){var r,c,l=s.Util.singularValueDecompose2dScale(this.matrix);r=[r[0]*l[0],r[1]*l[1]]}return c=this._createMeshCanvas(r,a===o.SHADING?null:this._background,n.cachedCanvases),a!==o.SHADING&&(t.setTransform.apply(t,n.baseTransform),this.matrix&&t.transform.apply(t,this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}]),t}(c),b=function(e){d(t,e);var n=h(t);function t(){return a(this,t),n.apply(this,arguments)}return i(t,[{key:"getPattern",value:function(){return"hotpink"}}]),t}(c);function k(e){switch(e[0]){case"RadialAxial":return new g(e);case"Mesh":return new j(e);case"Dummy":return new b}throw new Error("Unknown IR type: ".concat(e[0]))}l={COLORED:1,UNCOLORED:2},w=function(){function e(t,n,s,o,i){a(this,e),this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=n,this.ctx=s,this.canvasGraphicsFactory=o,this.baseTransform=i}return i(e,[{key:"createPatternCanvas",value:function(t){x=this.operatorList,i=this.bbox,O=this.xstep,w=this.ystep,_=this.paintType,j=this.tilingType,b=this.color,p=this.canvasGraphicsFactory,(0,s.info)("TilingType: "+j);var o,i,a,d,m,p,b,j,_,w,O,x,u=i[0],h=i[1],E=i[2],C=i[3],f=s.Util.singularValueDecompose2dScale(this.matrix),g=s.Util.singularValueDecompose2dScale(this.baseTransform),v=[f[0]*g[0],f[1]*g[1]],c=this.getSizeAndScale(O,this.ctx.canvas.width,v[0]),r=this.getSizeAndScale(w,this.ctx.canvas.height,v[1]),y=t.cachedCanvases.getCanvas("pattern",c.size,r.size,!0),l=y.context,n=p.createCanvasGraphics(l);return n.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(n,_,b),a=u,o=h,m=E,d=C,u<0&&(a=0,m+=Math.abs(u)),h<0&&(o=0,d+=Math.abs(h)),l.translate(-(c.scale*a),-(r.scale*o)),n.transform(c.scale,0,0,r.scale,0,0),l.save(),this.clipBbox(n,a,o,m,d),n.baseTransform=n.ctx.mozCurrentTransform.slice(),n.executeOperatorList(x),n.endDrawing(),{canvas:y.canvas,scaleX:c.scale,scaleY:r.scale,offsetX:a,offsetY:o}}},{key:"getSizeAndScale",value:function(n,s,o){n=Math.abs(n);var a=Math.max(e.MAX_PATTERN_SIZE,s),i=Math.ceil(n*o);return i>=a?i=a:o=i/n,{scale:o,size:i}}},{key:"clipBbox",value:function(t,n,s,o,i){var a=o-n,r=i-s;t.ctx.rect(n,s,a,r),t.current.updateRectMinMax(t.ctx.mozCurrentTransform,[n,s,o,i]),t.clip(),t.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(t,n,o){var i,a,r=t.ctx,c=t.current;switch(n){case l.COLORED:i=this.ctx,r.fillStyle=i.fillStyle,r.strokeStyle=i.strokeStyle,c.fillColor=i.fillStyle,c.strokeColor=i.strokeStyle;break;case l.UNCOLORED:a=s.Util.makeHexColor(o[0],o[1],o[2]),r.fillStyle=a,r.strokeStyle=a,c.fillColor=a,c.strokeColor=a;break;default:throw new s.FormatError("Unsupported paint type: ".concat(n))}}},{key:"getPattern",value:function(t,n,i,a){var r,c,d,l=i;a!==o.SHADING&&(l=s.Util.transform(l,n.baseTransform),this.matrix&&(l=s.Util.transform(l,this.matrix))),r=this.createPatternCanvas(n),c=new DOMMatrix(l),c=c.translate(r.offsetX,r.offsetY),c=c.scale(1/r.scaleX,1/r.scaleY),d=t.createPattern(r.canvas,"repeat");try{d.setTransform(c)}catch(e){(0,s.warn)('TilingPattern.getPattern: "'.concat(e?.message,'".'))}return d}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,s.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),e}(),t.TilingPattern=w},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=d;var o=n(1);function i(e,t){return l(e)||c(e,t)||r(e,t)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(e,t){if(!e)return;if(typeof e=="string")return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}function s(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function c(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function l(e){if(Array.isArray(e))return e}function d(e){for(var a,l,u,h,d=e.src,f=e.srcPos,c=f===void 0?0:f,t=e.dest,v=e.destPos,n=v===void 0?0:v,g=e.width,O=e.height,b=e.inverseDecode,x=b!==void 0&&b,m=o.FeatureTest.isLittleEndian?4278190080:255,C=x?[0,m]:[m,0],p=i(C,2),s=p[0],r=p[1],w=g>>3,j=g&7,y=d.length,t=new Uint32Array(t.buffer),_=0;_<O;_++){for(u=c+w;c<u;c++)a=c<y?d[c]:255,t[n++]=a&128?r:s,t[n++]=a&64?r:s,t[n++]=a&32?r:s,t[n++]=a&16?r:s,t[n++]=a&8?r:s,t[n++]=a&4?r:s,t[n++]=a&2?r:s,t[n++]=a&1?r:s;if(j===0)continue;h=c<y?d[c++]:255;for(l=0;l<j;l++)t[n++]=h&1<<7-l?r:s}return{srcPos:c,destPos:n}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=n.workerPort===void 0?null:n.workerPort,n.workerSrc=n.workerSrc===void 0?"":n.workerSrc},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var s,a,u,d=p(n(156)),o=n(1);function p(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,s,o,i,a){try{var c=e[i](a),r=c.value}catch(e){n(e);return}c.done?t(r):Promise.resolve(r).then(s,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){c(a,s,o,i,r,"next",e)}function r(e){c(a,s,o,i,r,"throw",e)}i(void 0)})}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function h(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}a={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function i(e){switch(e instanceof Error||r(e)==="object"&&e!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new o.AbortException(e.message);case"MissingPDFException":return new o.MissingPDFException(e.message);case"PasswordException":return new o.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new o.UnknownErrorException(e.message,e.details);default:return new o.UnknownErrorException(e.message,e.toString())}}u=function(){function e(t,n,s){var o=this;m(this,e),this.sourceName=t,this.targetName=n,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var n,r,c,l,d,t=e.data;if(t.targetName!==o.sourceName)return;if(t.stream){o._processStreamMessage(t);return}if(t.callback){if(n=t.callbackId,r=o.callbackCapabilities[n],!r)throw new Error("Cannot resolve callback ".concat(n));if(delete o.callbackCapabilities[n],t.callback===a.DATA)r.resolve(t.data);else if(t.callback===a.ERROR)r.reject(i(t.reason));else throw new Error("Unexpected callback case");return}if(c=o.actionHandler[t.action],!c)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){l=o.sourceName,d=t.sourceName,new Promise(function(e){e(c(t.data))}).then(function(e){s.postMessage({sourceName:l,targetName:d,callback:a.DATA,callbackId:t.callbackId,data:e})},function(e){s.postMessage({sourceName:l,targetName:d,callback:a.ERROR,callbackId:t.callbackId,reason:i(e)})});return}if(t.streamId){o._createStreamSink(t);return}c(t.data)},s.addEventListener("message",this._onComObjOnMessage)}return h(e,[{key:"on",value:function(t,n){var s=this.actionHandler;if(s[t])throw new Error('There is already an actionName called "'.concat(t,'"'));s[t]=n}},{key:"send",value:function(t,n,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:n},s)}},{key:"sendWithPromise",value:function(t,n,s){var a=this.callbackId++,i=(0,o.createPromiseCapability)();this.callbackCapabilities[a]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:n},s)}catch(e){i.reject(e)}return i.promise}},{key:"sendWithStream",value:function(t,n,a,r){var l=this,c=this.streamId++,d=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:function(s){var i=(0,o.createPromiseCapability)();return l.streamControllers[c]={controller:s,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:d,targetName:u,action:t,streamId:c,data:n,desiredSize:s.desiredSize},r),i.promise},pull:function(t){var n=(0,o.createPromiseCapability)();return l.streamControllers[c].pullCall=n,h.postMessage({sourceName:d,targetName:u,stream:s.PULL,streamId:c,desiredSize:t.desiredSize}),n.promise},cancel:function(t){(0,o.assert)(t instanceof Error,"cancel must have a valid reason");var n=(0,o.createPromiseCapability)();return l.streamControllers[c].cancelCall=n,l.streamControllers[c].isClosed=!0,h.postMessage({sourceName:d,targetName:u,stream:s.CANCEL,streamId:c,reason:i(t)}),n.promise}},a)}},{key:"_createStreamSink",value:function(t){var n=t.streamId,a=this.sourceName,r=t.sourceName,c=this.comObj,d=this,u=this.actionHandler[t.action],l={enqueue:function(t){var i,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,d=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;i=this.desiredSize,this.desiredSize-=l,i>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),c.postMessage({sourceName:a,targetName:r,stream:s.ENQUEUE,streamId:n,chunk:t},d)},close:function(){if(this.isCancelled)return;this.isCancelled=!0,c.postMessage({sourceName:a,targetName:r,stream:s.CLOSE,streamId:n}),delete d.streamSinks[n]},error:function(t){if((0,o.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled)return;this.isCancelled=!0,c.postMessage({sourceName:a,targetName:r,stream:s.ERROR,streamId:n,reason:i(t)})},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(e){e(u(t.data,l))}).then(function(){c.postMessage({sourceName:a,targetName:r,stream:s.START_COMPLETE,streamId:n,success:!0})},function(e){c.postMessage({sourceName:a,targetName:r,stream:s.START_COMPLETE,streamId:n,reason:i(e)})})}},{key:"_processStreamMessage",value:function(t){var a=t.streamId,c=this.sourceName,l=t.sourceName,d=this.comObj,n=this.streamControllers[a],r=this.streamSinks[a];switch(t.stream){case s.START_COMPLETE:t.success?n.startCall.resolve():n.startCall.reject(i(t.reason));break;case s.PULL_COMPLETE:t.success?n.pullCall.resolve():n.pullCall.reject(i(t.reason));break;case s.PULL:if(!r){d.postMessage({sourceName:c,targetName:l,stream:s.PULL_COMPLETE,streamId:a,success:!0});break}r.desiredSize<=0&&t.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=t.desiredSize,new Promise(function(e){e(r.onPull&&r.onPull())}).then(function(){d.postMessage({sourceName:c,targetName:l,stream:s.PULL_COMPLETE,streamId:a,success:!0})},function(e){d.postMessage({sourceName:c,targetName:l,stream:s.PULL_COMPLETE,streamId:a,reason:i(e)})});break;case s.ENQUEUE:if((0,o.assert)(n,"enqueue should have stream controller"),n.isClosed)break;n.controller.enqueue(t.chunk);break;case s.CLOSE:if((0,o.assert)(n,"close should have stream controller"),n.isClosed)break;n.isClosed=!0,n.controller.close(),this._deleteStreamController(n,a);break;case s.ERROR:(0,o.assert)(n,"error should have stream controller"),n.controller.error(i(t.reason)),this._deleteStreamController(n,a);break;case s.CANCEL_COMPLETE:t.success?n.cancelCall.resolve():n.cancelCall.reject(i(t.reason)),this._deleteStreamController(n,a);break;case s.CANCEL:if(!r)break;new Promise(function(e){e(r.onCancel&&r.onCancel(i(t.reason)))}).then(function(){d.postMessage({sourceName:c,targetName:l,stream:s.CANCEL_COMPLETE,streamId:a,success:!0})},function(e){d.postMessage({sourceName:c,targetName:l,stream:s.CANCEL_COMPLETE,streamId:a,reason:i(e)})}),r.sinkCapability.reject(i(t.reason)),r.isCancelled=!0,delete this.streamSinks[a];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var e=f(d.default.mark(function e(t,n){return d.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:return s.next=2,Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]);case 2:delete this.streamControllers[n];case 3:case"end":return s.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e}(),t.MessageHandler=u},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var s,i,d,g=n(1);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function f(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t,n){h(e,t),t.set(e,n)}function h(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t){var n=c(e,t,"get");return u(e,n)}function u(e,t){return t.get?t.get.call(e):t.value}function l(e,t,n){var s=c(e,t,"set");return m(e,s,n),n}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function m(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}s=new WeakMap,i=new WeakMap,d=function(){function e(t){var n=t.parsedData,o=t.rawData;p(this,e),r(this,s,{writable:!0,value:void 0}),r(this,i,{writable:!0,value:void 0}),l(this,s,n),l(this,i,o)}return f(e,[{key:"getRaw",value:function(){return o(this,i)}},{key:"get",value:function(t){var n;return(n=o(this,s).get(t))!==null&&n!==void 0?n:null}},{key:"getAll",value:function(){return(0,g.objectFromMap)(o(this,s))}},{key:"has",value:function(t){return o(this,s).has(t)}}]),e}(),t.Metadata=d},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var i,d,s=n(1);function o(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=u(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function u(e,t){if(!e)return;if(typeof e=="string")return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}function a(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function r(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function c(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}d=c(function e(t,n){l(this,e),this.visible=!0,this.name=t,this.intent=n}),i=function(){function e(t){if(l(this,e),this.name=null,this.creator=null,this._order=null,this._groups=new Map,t===null)return;this.name=t.name,this.creator=t.creator,this._order=t.order;var n,s,i,a,c,u,h,m,f,p,g,r=o(t.groups);try{for(r.s();!(c=r.n()).done;)a=c.value,this._groups.set(a.id,new d(a.name,a.intent))}catch(e){r.e(e)}finally{r.f()}if(t.baseState==="OFF"){s=o(this._groups);try{for(s.s();!(u=s.n()).done;)h=u.value,h.visible=!1}catch(e){s.e(e)}finally{s.f()}}n=o(t.on);try{for(n.s();!(m=n.n()).done;)f=m.value,this._groups.get(f).visible=!0}catch(e){n.e(e)}finally{n.f()}i=o(t.off);try{for(i.s();!(p=i.n()).done;)g=p.value,this._groups.get(g).visible=!1}catch(e){i.e(e)}finally{i.f()}}return c(e,[{key:"_evaluateVisibilityExpression",value:function(t){var n,o,i,a,r=t.length;if(r<2)return!0;a=t[0];for(i=1;i<r;i++){if(n=t[i],o=void 0,Array.isArray(n))o=this._evaluateVisibilityExpression(n);else if(this._groups.has(n))o=this._groups.get(n).visible;else return(0,s.warn)("Optional content group not found: ".concat(n)),!0;switch(a){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return a==="And"}},{key:"isVisible",value:function(t){if(this._groups.size===0)return!0;if(!t)return(0,s.warn)("Optional content group not defined."),!0;if(t.type==="OCG")return this._groups.has(t.id)?this._groups.get(t.id).visible:((0,s.warn)("Optional content group not found: ".concat(t.id)),!0);if(t.type==="OCMD"){if(t.expression)return this._evaluateVisibilityExpression(t.expression);if(!t.policy||t.policy==="AnyOn"){var n,i,a,r,c,d,u,h,m,f,p,l=o(t.ids);try{for(l.s();!(h=l.n()).done;){if(r=h.value,!this._groups.has(r))return(0,s.warn)("Optional content group not found: ".concat(r)),!0;if(this._groups.get(r).visible)return!0}}catch(e){l.e(e)}finally{l.f()}return!1}if(t.policy==="AllOn"){i=o(t.ids);try{for(i.s();!(m=i.n()).done;){if(c=m.value,!this._groups.has(c))return(0,s.warn)("Optional content group not found: ".concat(c)),!0;if(!this._groups.get(c).visible)return!1}}catch(e){i.e(e)}finally{i.f()}return!0}if(t.policy==="AnyOff"){n=o(t.ids);try{for(n.s();!(f=n.n()).done;){if(d=f.value,!this._groups.has(d))return(0,s.warn)("Optional content group not found: ".concat(d)),!0;if(!this._groups.get(d).visible)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}if(t.policy==="AllOff"){a=o(t.ids);try{for(a.s();!(p=a.n()).done;){if(u=p.value,!this._groups.has(u))return(0,s.warn)("Optional content group not found: ".concat(u)),!0;if(this._groups.get(u).visible)return!1}}catch(e){a.e(e)}finally{a.f()}return!0}return(0,s.warn)("Unknown optional content policy ".concat(t.policy,".")),!0}return(0,s.warn)("Unknown group type ".concat(t.type,".")),!0}},{key:"setVisibility",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!this._groups.has(t)){(0,s.warn)("Optional content group not found: ".concat(t));return}this._groups.get(t).visible=!!n}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,s.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(t){return this._groups.get(t)||null}}]),e}(),t.OptionalContentConfig=i},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var c,h,f,i=p(n(156)),o=n(1),g=n(158);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,s,o,i,a){try{var c=e[i](a),r=c.value}catch(e){n(e);return}c.done?t(r):Promise.resolve(r).then(s,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){d(a,s,o,i,r,"next",e)}function r(e){d(a,s,o,i,r,"throw",e)}i(void 0)})}}function s(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=v(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function v(e,t){if(!e)return;if(typeof e=="string")return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}function u(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function a(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}h=function(){function e(t,n){var s,a,i=this;r(this,e),(0,o.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null,s=t.initialData,s?.length>0&&(a=new Uint8Array(s).buffer,this._queuedChunks.push(a)),this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){i._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e,t){i._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){i._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){i._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return a(e,[{key:"_onReceiveData",value:function(t){var s,n=new Uint8Array(t.chunk).buffer;t.begin===void 0?this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n):(s=this._rangeReaders.some(function(e){return e._begin===t.begin&&(e._enqueue(n),!0)}),(0,o.assert)(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."))}},{key:"_progressiveDataLength",get:function(){var t,n;return(t=(n=this._fullRequestReader)===null||n===void 0?void 0:n._loaded)!==null&&t!==void 0?t:0}},{key:"_onProgress",value:function(t){if(t.total===void 0){var n,s=this._rangeReaders[0];s!=null&&s.onProgress&&s.onProgress({loaded:t.loaded})}else n=this._fullRequestReader,n!=null&&n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(t){var n=this._rangeReaders.indexOf(t);n>=0&&this._rangeReaders.splice(n,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;return this._queuedChunks=null,new f(this,t,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(t,n){if(n<=this._progressiveDataLength)return null;var s=new c(this,t,n);return this._pdfDataRangeTransport.requestDataRange(t,n),this._rangeReaders.push(s),s}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var o,i,n=s(this._rangeReaders.slice(0));try{for(n.s();!(o=n.n()).done;)i=o.value,i.cancel(t)}catch(e){n.e(e)}finally{n.f()}this._pdfDataRangeTransport.abort()}}]),e}(),t.PDFDataTransportStream=h,f=function(){function e(t,n){var o,a,c,l=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;r(this,e),this._stream=t,this._done=l||!1,this._filename=(0,g.isPdfFile)(i)?i:null,this._queuedChunks=n||[],this._loaded=0,o=s(this._queuedChunks);try{for(o.s();!(a=o.n()).done;)c=a.value,this._loaded+=c.byteLength}catch(e){o.e(e)}finally{o.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}return a(e,[{key:"_enqueue",value:function(t){if(this._done)return;if(this._requests.length>0){var n=this._requests.shift();n.resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var e=l(i.default.mark(function e(){var t,n;return i.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:if(!(this._queuedChunks.length>0)){s.next=3;break}return n=this._queuedChunks.shift(),s.abrupt("return",{value:n,done:!1});case 3:if(!this._done){s.next=5;break}return s.abrupt("return",{value:void 0,done:!0});case 5:return t=(0,o.createPromiseCapability)(),this._requests.push(t),s.abrupt("return",t.promise);case 8:case"end":return s.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this._done=!0;var o,i,n=s(this._requests);try{for(n.s();!(o=n.n()).done;)i=o.value,i.resolve({value:void 0,done:!0})}catch(e){n.e(e)}finally{n.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){if(this._done)return;this._done=!0}}]),e}(),c=function(){function e(t,n,s){r(this,e),this._stream=t,this._begin=n,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return a(e,[{key:"_enqueue",value:function(t){if(this._done)return;if(this._requests.length===0)this._queuedChunk=t;else{var n,o,i,a=this._requests.shift();a.resolve({value:t,done:!1}),n=s(this._requests);try{for(n.s();!(o=n.n()).done;)i=o.value,i.resolve({value:void 0,done:!0})}catch(e){n.e(e)}finally{n.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=l(i.default.mark(function e(){var t,n;return i.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:if(!this._queuedChunk){s.next=4;break}return n=this._queuedChunk,this._queuedChunk=null,s.abrupt("return",{value:n,done:!1});case 4:if(!this._done){s.next=6;break}return s.abrupt("return",{value:void 0,done:!0});case 6:return t=(0,o.createPromiseCapability)(),this._requests.push(t),s.abrupt("return",t.promise);case 9:case"end":return s.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this._done=!0;var o,i,n=s(this._requests);try{for(n.s();!(o=n.n()).done;)i=o.value,i.resolve({value:void 0,done:!0})}catch(e){n.e(e)}finally{n.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),e}()},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;function o(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=i(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,c,a=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return a=t.done,t},e:function(t){r=!0,c=t},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(r)throw c}}}}function i(e,t){if(!e)return;if(typeof e=="string")return n(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n(e,t)}function n(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function r(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=function(){function e(){a(this,e)}return r(e,null,[{key:"textContent",value:function(n){var s=[],a={items:s,styles:Object.create(null)};function i(t){if(!t)return;var a,r,l,d,n=null,c=t.name;if(c==="#text")n=t.value;else if(!e.shouldBuildText(c))return;if(t!=null&&(r=t.attributes)!==null&&r!==void 0&&r.textContent?n=t.attributes.textContent:t.value&&(n=t.value),n!==null&&s.push({str:n}),!t.children)return;a=o(t.children);try{for(a.s();!(l=a.n()).done;)d=l.value,i(d)}catch(e){a.e(e)}finally{a.f()}}return i(n),a}},{key:"shouldBuildText",value:function(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}]),e}();t.XfaText=c},(e,t,n)=>{"use strict";function h(e){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r,f,p,g,i=n(159);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function c(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},d(e,t)}function u(e){var t=b();return function(){var s,a,i=o(e);return t?(a=o(this).constructor,s=Reflect.construct(i,arguments,a)):s=i.apply(this,arguments),y(this,s)}}function y(e,t){if(t&&(h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(e)}r=function(t){return new Promise(function(e,n){var o=s();o.readFile(t,function(t,s){if(t||!s){n(new Error(t));return}e(new Uint8Array(s))})})},p=function(e){l(t,e);var n=u(t);function t(){return a(this,t),n.apply(this,arguments)}return c(t,[{key:"_createCanvas",value:function(t,n){var s=m();return s.createCanvas(t,n)}}]),t}(i.BaseCanvasFactory),t.NodeCanvasFactory=p,g=function(e){l(t,e);var n=u(t);function t(){return a(this,t),n.apply(this,arguments)}return c(t,[{key:"_fetchData",value:function(t,n){return r(t).then(function(e){return{cMapData:e,compressionType:n}})}}]),t}(i.BaseCMapReaderFactory),t.NodeCMapReaderFactory=g,f=function(e){l(t,e);var n=u(t);function t(){return a(this,t),n.apply(this,arguments)}return c(t,[{key:"_fetchData",value:function(t){return r(t)}}]),t}(i.BaseStandardFontDataFactory),t.NodeStandardFontDataFactory=f},(e,t,n)=>{"use strict";function x(e){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var l,d,h,f,v,b,y,C,k,S,M,F,T,D,N,R,P,H,B,V,$,W,U,K,q,Y,G,X,Q,s=n(1),O=n(158),de=n(161),le=n(174),ce=n(175);function I(e,t,n){return ue(e,t),n}function ue(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function p(){return typeof Reflect!="undefined"&&Reflect.get?p=Reflect.get:p=function(t,n,s){var o,i=re(t,n);if(!i)return;return o=Object.getOwnPropertyDescriptor(i,n),o.get?o.get.call(arguments.length<3?t:s):o.value},p.apply(this,arguments)}function re(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t);)if(e=m(e),e===null)break;return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){return se(e)||oe(e)||w(e)||ie()}function ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function se(e){if(Array.isArray(e))return _(e)}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}function j(e,t){return j=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},j(e,t)}function r(e){var t=te();return function(){var s,i,o=m(e);return t?(i=m(this).constructor,s=Reflect.construct(o,arguments,i)):s=o.apply(this,arguments),ne(this,s)}}function ne(e,t){if(t&&(x(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(e)}function a(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=w(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function g(e,t){return J(e)||ee(e,t)||w(e,t)||Z()}function Z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(e,t){if(!e)return;if(typeof e=="string")return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}function _(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ee(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function J(e){if(Array.isArray(e))return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function o(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}f=1e3,d=new WeakSet;function u(e){return{width:e[2]-e[0],height:e[3]-e[1]}}P=function(){function e(){i(this,e)}return o(e,null,[{key:"create",value:function(t){var n,o=t.data.annotationType;switch(o){case s.AnnotationType.LINK:return new b(t);case s.AnnotationType.TEXT:return new X(t);case s.AnnotationType.WIDGET:switch(n=t.data.fieldType,n){case"Tx":return new $(t);case"Btn":return t.data.radioButton?new U(t):t.data.checkBox?new W(t):new K(t);case"Ch":return new q(t)}return new h(t);case s.AnnotationType.POPUP:return new C(t);case s.AnnotationType.FREETEXT:return new D(t);case s.AnnotationType.LINE:return new Q(t);case s.AnnotationType.SQUARE:return new B(t);case s.AnnotationType.CIRCLE:return new F(t);case s.AnnotationType.POLYLINE:return new v(t);case s.AnnotationType.CARET:return new S(t);case s.AnnotationType.INK:return new M(t);case s.AnnotationType.POLYGON:return new k(t);case s.AnnotationType.HIGHLIGHT:return new T(t);case s.AnnotationType.UNDERLINE:return new N(t);case s.AnnotationType.SQUIGGLY:return new R(t);case s.AnnotationType.STRIKEOUT:return new H(t);case s.AnnotationType.STAMP:return new V(t);case s.AnnotationType.FILEATTACHMENT:return new Y(t);default:return new l(t)}}}]),e}(),l=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.isRenderable,o=s!==void 0&&s,a=n.ignoreBorder,r=a!==void 0&&a,c=n.createQuadrilaterals,l=c!==void 0&&c;i(this,e),this.isRenderable=o,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,o&&(this.container=this._createContainer(r)),l&&(this.quadrilaterals=this._createQuadrilaterals(r))}return o(e,[{key:"_createContainer",value:function(){var w=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.data,l=this.page,y=this.viewport,n=document.createElement("section"),j=u(t.rect),r=j.width,c=j.height;if(n.setAttribute("data-annotation-id",t.id),o=s.Util.normalizeRect([t.rect[0],l.view[3]-t.rect[1]+l.view[1],t.rect[2],l.view[3]-t.rect[3]+l.view[1]]),t.hasOwnCanvas){var o,i,d,h,m,b,a=y.transform.slice(),_=s.Util.singularValueDecompose2dScale(a),f=g(_,2),p=f[0],v=f[1];r=Math.ceil(r*p),c=Math.ceil(c*v),o[0]*=p,o[1]*=v;for(i=0;i<4;i++)a[i]=Math.sign(a[i]);n.style.transform="matrix(".concat(a.join(","),")")}else n.style.transform="matrix(".concat(y.transform.join(","),")");if(n.style.transformOrigin="".concat(-o[0],"px ").concat(-o[1],"px"),!w&&t.borderStyle.width>0){switch(n.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==s.AnnotationBorderStyleType.UNDERLINE&&(r-=2*t.borderStyle.width,c-=2*t.borderStyle.width),d=t.borderStyle.horizontalCornerRadius,h=t.borderStyle.verticalCornerRadius,(d>0||h>0)&&(b="".concat(d,"px / ").concat(h,"px"),n.style.borderRadius=b),t.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:n.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:n.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:n.style.borderBottomStyle="solid";break;default:break}m=t.borderColor||t.color||null,m?n.style.borderColor=s.Util.makeHexColor(t.color[0]|0,t.color[1]|0,t.color[2]|0):n.style.borderWidth=0}return n.style.left="".concat(o[0],"px"),n.style.top="".concat(o[1],"px"),t.hasOwnCanvas?n.style.width=n.style.height="auto":(n.style.width="".concat(r,"px"),n.style.height="".concat(c,"px")),n}},{key:"_commonActions",get:function(){var t=this,n=function(t,n,s){var o=s.detail[t];s.target.style[n]=le.ColorConverters["".concat(o[0],"_HTML")](o.slice(1))};return(0,s.shadow)(this,"_commonActions",{display:function(n){var s=n.detail.display%2===1;n.target.style.visibility=s?"hidden":"visible",t.annotationStorage.setValue(t.data.id,{hidden:s,print:n.detail.display===0||n.detail.display===3})},print:function(n){t.annotationStorage.setValue(t.data.id,{print:n.detail.print})},hidden:function(n){n.target.style.visibility=n.detail.hidden?"hidden":"visible",t.annotationStorage.setValue(t.data.id,{hidden:n.detail.hidden})},focus:function(t){setTimeout(function(){return t.target.focus({preventScroll:!1})},0)},userName:function(t){t.target.title=t.detail.userName},readonly:function(t){t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:function(t){t.detail.required?t.target.setAttribute("required",""):t.target.removeAttribute("required")},bgColor:function(t){n("bgColor","backgroundColor",t)},fillColor:function(t){n("fillColor","backgroundColor",t)},fgColor:function(t){n("fgColor","color",t)},textColor:function(t){n("textColor","color",t)},borderColor:function(t){n("borderColor","borderColor",t)},strokeColor:function(t){n("strokeColor","borderColor",t)}})}},{key:"_dispatchEventFromSandbox",value:function(t,n){a=this._commonActions;for(var o,i,a,s=0,r=Object.keys(n.detail);s<r.length;s++)o=r[s],i=t[o]||a[o],i&&i(n)}},{key:"_setDefaultPropertiesFromJS",value:function(t){if(!this.enableScripting)return;if(n=this.annotationStorage.getRawValue(this.data.id),!n)return;c=this._commonActions;for(s=0,i=Object.entries(n);s<i.length;s++){var n,s,i,c,a=g(i[s],2),r=a[0],l=a[1],o=c[r];o&&(o({detail:l,target:t}),delete n[r])}}},{key:"_createQuadrilaterals",value:function(){var t,n,s,o,i,r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!this.data.quadPoints)return null;s=[],o=this.data.rect,t=a(this.data.quadPoints);try{for(t.s();!(i=t.n()).done;)n=i.value,this.data.rect=[n[2].x,n[2].y,n[1].x,n[1].y],s.push(this._createContainer(r))}catch(e){t.e(e)}finally{t.f()}return this.data.rect=o,s}},{key:"_createPopup",value:function(t,n){var o,i,s=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,s=this.quadrilaterals[0]),t||(t=document.createElement("div"),t.style.height=s.style.height,t.style.width=s.style.width,s.appendChild(t)),i=new y({container:s,trigger:t,color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,hideWrapper:!0}),o=i.render(),o.style.left=s.style.width,s.appendChild(o)}},{key:"_renderQuadrilaterals",value:function(t){var s,o,n=a(this.quadrilaterals);try{for(n.s();!(s=n.n()).done;)o=s.value,o.className=t}catch(e){n.e(e)}finally{n.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(t){if(f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=[],this._fieldObjects){if(u=this._fieldObjects[t],u){o=a(u);try{for(o.s();!(b=o.n()).done;){var n,o,i,r,c,u,m,f,g,v,b,j,h=b.value,y=h.page,l=h.id,p=h.exportValues;if(y===-1)continue;if(l===f)continue;if(g=typeof p=="string"?p:null,c=document.getElementById(l),c&&!d.has(c)){(0,s.warn)("_getElementsByName - element not allowed: ".concat(l));continue}n.push({id:l,exportValue:g,domElement:c})}}catch(e){o.e(e)}finally{o.f()}}return n}r=a(document.getElementsByName(t));try{for(r.s();!(v=r.n()).done;){if(i=v.value,m=i.id,j=i.exportValue,m===f)continue;if(!d.has(i))continue;n.push({id:m,exportValue:j,domElement:i})}}catch(e){r.e(e)}finally{r.f()}return n}}],[{key:"platform",get:function(){var t=typeof navigator!="undefined"?navigator.platform:"";return(0,s.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}]),e}(),b=function(e){c(t,e);var n=r(t);function t(e){var o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i(this,t),o=!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),n.call(this,e,{isRenderable:o,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0})}return o(t,[{key:"render",value:function(){var s,t=this.data,o=this.linkService,n=document.createElement("a");return t.url?o.addLinkAttributes(n,t.url,t.newWindow):t.action?this._bindNamedAction(n,t.action):t.dest?this._bindLink(n,t.dest):(s=!1,t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(s=!0,this._bindJSAction(n,t)),t.resetForm?this._bindResetFormAction(n,t.resetForm):s||this._bindLink(n,"")),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(e,t){var s=t===0?n:n.cloneNode();return e.appendChild(s),e}):(this.container.className="linkAnnotation",this.container.appendChild(n),this.container)}},{key:"_bindLink",value:function(t,n){var s=this;t.href=this.linkService.getDestinationHash(n),t.onclick=function(){return n&&s.linkService.goToDestination(n),!1},(n||n==="")&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function(t,n){var s=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return s.linkService.executeNamedAction(n),!1},t.className="internalLink"}},{key:"_bindJSAction",value:function(t,n){s=this,t.href=this.linkService.getAnchorUrl(""),i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),a=function(){var a=r[o],c=i.get(a);if(!c)return"continue";t[c]=function(){var e;return(e=s.linkService.eventBus)===null||e===void 0?void 0:e.dispatch("dispatcheventinsandbox",{source:s,detail:{id:n.id,name:a}}),!1}};for(var s,i,a,c,o=0,r=Object.keys(n.actions);o<r.length;o++)if(c=a(),c==="continue")continue;t.onclick||(t.onclick=function(){return!1}),t.className="internalLink"}},{key:"_bindResetFormAction",value:function(t,n){var o=this,i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects){(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=function(){return!1});return}t.onclick=function(){i&&i();var e,t,s,r,c,l,u,h,m,p,g,v,b,j,y,_,w,O,x,C,E,k,A,S,M,T,z,D,N=n.fields,F=n.refs,R=n.include,f=[];if(N.length!==0||F.length!==0){y=new Set(F),c=a(N);try{for(c.s();!(M=c.n()).done;){S=M.value,A=o._fieldObjects[S]||[],s=a(A);try{for(s.s();!(k=s.n()).done;)E=k.value.id,y.add(E)}catch(e){s.e(e)}finally{s.f()}}}catch(e){c.e(e)}finally{c.f()}for(h=0,b=Object.values(o._fieldObjects);h<b.length;h++){x=b[h],r=a(x);try{for(r.s();!(O=r.n()).done;)w=O.value,y.has(w.id)===R&&f.push(w)}catch(e){r.e(e)}finally{r.f()}}}else for(p=0,j=Object.values(o._fieldObjects);p<j.length;p++)C=j[p],f.push.apply(f,L(C));u=o.annotationStorage,g=[];for(m=0,v=f;m<v.length;m++){switch(e=v[m],t=e.id,g.push(t),e.type){case"text":{T=e.defaultValue||"",u.setValue(t,{value:T});break}case"checkbox":case"radiobutton":{z=e.defaultValue===e.exportValues,u.setValue(t,{value:z});break}case"combobox":case"listbox":{D=e.defaultValue||"",u.setValue(t,{value:D});break}default:continue}if(l=document.getElementById(t),!l||!d.has(l))continue;l.dispatchEvent(new Event("resetform"))}return o.enableScripting&&((_=o.linkService.eventBus)===null||_===void 0?void 0:_.dispatch("dispatcheventinsandbox",{source:o,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}]),t}(l),X=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r})}return o(t,[{key:"render",value:function(){this.container.className="textAnnotation";var t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}]),t}(l),h=function(e){c(t,e);var n=r(t);function t(){return i(this,t),n.apply(this,arguments)}return o(t,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(t){var n=l.platform,s=n.isWin,o=n.isMac;return s&&t.ctrlKey||o&&t.metaKey}},{key:"_setEventListener",value:function(t,n,s,o){var i=this;n.includes("mouse")?t.addEventListener(n,function(e){var t;(t=i.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:s,value:o(e),shift:e.shiftKey,modifier:i._getKeyModifier(e)}})}):t.addEventListener(n,function(e){var t;(t=i.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:s,value:o(e)}})})}},{key:"_setEventListeners",value:function(t,n,s){o=a(n);try{for(o.s();!(c=o.n()).done;){var o,i,c,l=g(c.value,2),d=l[0],r=l[1];(r==="Action"||(i=this.data.actions)!==null&&i!==void 0&&i[r])&&this._setEventListener(t,d,r,s)}}catch(e){o.e(e)}finally{o.f()}}},{key:"_setBackgroundColor",value:function(t){var n=this.data.backgroundColor||null;t.style.backgroundColor=n===null?"transparent":s.Util.makeHexColor(n[0],n[1],n[2])}}]),t}(l),$=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s=e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue;return n.call(this,e,{isRenderable:s})}return o(t,[{key:"setPropertyOnSiblings",value:function(t,n,s,o){var r,l,c=this.annotationStorage,i=a(this._getElementsByName(t.name,t.id));try{for(i.s();!(l=i.n()).done;)r=l.value,r.domElement&&(r.domElement[n]=s),c.setValue(r.id,ae({},o,s))}catch(e){i.e(e)}finally{i.f()}}},{key:"render",value:function(){var t,n,i,a,c,l,u,h,m,s=this,r=this.annotationStorage,o=this.data.id;return this.container.className="textWidgetAnnotation",t=null,this.renderForms?(c=r.getValue(o,{value:this.data.fieldValue}),a=c.formattedValue||c.value||"",n={userValue:null,formattedValue:null,valueOnFocus:""},this.data.multiLine?(t=document.createElement("textarea"),t.textContent=a):(t=document.createElement("input"),t.type="text",t.setAttribute("value",a)),d.add(t),t.disabled=this.data.readOnly,t.name=this.data.fieldName,t.tabIndex=f,n.userValue=a,t.setAttribute("id",o),t.addEventListener("input",function(e){r.setValue(o,{value:e.target.value}),s.setPropertyOnSiblings(t,"value",e.target.value,"value")}),t.addEventListener("resetform",function(){var o,i=(o=s.data.defaultFieldValue)!==null&&o!==void 0?o:"";t.value=n.userValue=i,n.formattedValue=null}),i=function(t){var s=n.formattedValue;s!=null&&(t.target.value=s),t.target.scrollLeft=0},this.enableScripting&&this.hasJSActions&&(t.addEventListener("focus",function(e){n.userValue&&(e.target.value=n.userValue),n.valueOnFocus=e.target.value}),t.addEventListener("updatefromsandbox",function(e){var t={value:function(t){var s;n.userValue=(s=t.detail.value)!==null&&s!==void 0?s:"",r.setValue(o,{value:n.userValue.toString()}),t.target.value=n.userValue},formattedValue:function(t){var s=t.detail.formattedValue;n.formattedValue=s,s!=null&&t.target!==document.activeElement&&(t.target.value=s),r.setValue(o,{formattedValue:s})},selRange:function(t){var n;(n=t.target).setSelectionRange.apply(n,L(t.detail.selRange))}};s._dispatchEventFromSandbox(t,e)}),t.addEventListener("keydown",function(e){var i,a,t=-1;if(e.key==="Escape"?t=0:e.key==="Enter"?t=2:e.key==="Tab"&&(t=3),t===-1)return;if(i=e.target.value,n.valueOnFocus===i)return;n.userValue=i,(a=s.linkService.eventBus)===null||a===void 0?void 0:a.dispatch("dispatcheventinsandbox",{source:s,detail:{id:o,name:"Keystroke",value:i,willCommit:!0,commitKey:t,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})}),u=i,i=null,t.addEventListener("blur",function(e){var i,t=e.target.value;n.userValue=t,s._mouseState.isDown&&n.valueOnFocus!==t&&((i=s.linkService.eventBus)===null||i===void 0?void 0:i.dispatch("dispatcheventinsandbox",{source:s,detail:{id:o,name:"Keystroke",value:t,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),u(e)}),(l=this.data.actions)!==null&&l!==void 0&&l.Keystroke&&t.addEventListener("beforeinput",function(e){var n,d,u,a=e.target,h=e.data,r=a.value,t=a.selectionStart,c=a.selectionEnd,l=t,i=c;switch(e.inputType){case"deleteWordBackward":{d=r.substring(0,t).match(/\w*[^\w]*$/),d&&(l-=d[0].length);break}case"deleteWordForward":{u=r.substring(t).match(/^[^\w]*\w*/),u&&(i+=u[0].length);break}case"deleteContentBackward":t===c&&(l-=1);break;case"deleteContentForward":t===c&&(i+=1);break}e.preventDefault(),(n=s.linkService.eventBus)===null||n===void 0?void 0:n.dispatch("dispatcheventinsandbox",{source:s,detail:{id:o,name:"Keystroke",value:r,change:h||"",willCommit:!1,selStart:l,selEnd:i}})}),this._setEventListeners(t,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.value})),i&&t.addEventListener("blur",i),this.data.maxLen!==null&&(t.maxLength=this.data.maxLen),this.data.comb&&(h=this.data.rect[2]-this.data.rect[0],m=h/this.data.maxLen,t.classList.add("comb"),t.style.letterSpacing="calc(".concat(m,"px - 1ch)"))):(t=document.createElement("div"),t.textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell"),this._setTextStyle(t),this._setBackgroundColor(t),this._setDefaultPropertiesFromJS(t),this.container.appendChild(t),this.container}},{key:"_setTextStyle",value:function(t){var r=["left","center","right"],i=this.data.defaultAppearanceData,a=i.fontSize,n=i.fontColor,o=t.style;a&&(o.fontSize="".concat(a,"px")),o.color=s.Util.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=r[this.data.textAlignment])}}]),t}(h),W=function(e){c(t,e);var n=r(t);function t(e){return i(this,t),n.call(this,e,{isRenderable:e.renderForms})}return o(t,[{key:"render",value:function(){var t,r=this,o=this.annotationStorage,n=this.data,s=n.id,i=o.getValue(s,{value:n.exportValue===n.fieldValue}).value;return typeof i=="string"&&(i=i!=="Off",o.setValue(s,{value:i})),this.container.className="buttonWidgetAnnotation checkBox",t=document.createElement("input"),d.add(t),t.disabled=n.readOnly,t.type="checkbox",t.name=n.fieldName,i&&t.setAttribute("checked",!0),t.setAttribute("id",s),t.setAttribute("exportValue",n.exportValue),t.tabIndex=f,t.addEventListener("change",function(e){var t,c,h,d=e.target,u=d.name,l=d.checked,i=a(r._getElementsByName(u,s));try{for(i.s();!(h=i.n()).done;)t=h.value,c=l&&t.exportValue===n.exportValue,t.domElement&&(t.domElement.checked=c),o.setValue(t.id,{value:c})}catch(e){i.e(e)}finally{i.f()}o.setValue(s,{value:l})}),t.addEventListener("resetform",function(e){var t=n.defaultFieldValue||"Off";e.target.checked=t===n.exportValue}),this.enableScripting&&this.hasJSActions&&(t.addEventListener("updatefromsandbox",function(e){var t={value:function(t){t.target.checked=t.detail.value!=="Off",o.setValue(s,{value:t.target.checked})}};r._dispatchEventFromSandbox(t,e)}),this._setEventListeners(t,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})),this._setBackgroundColor(t),this._setDefaultPropertiesFromJS(t),this.container.appendChild(t),this.container}}]),t}(h),U=function(e){c(t,e);var n=r(t);function t(e){return i(this,t),n.call(this,e,{isRenderable:e.renderForms})}return o(t,[{key:"render",value:function(){var t,n,s,o,i,c,r=this;return this.container.className="buttonWidgetAnnotation radioButton",o=this.annotationStorage,n=this.data,s=n.id,i=o.getValue(s,{value:n.fieldValue===n.buttonValue}).value,typeof i=="string"&&(i=i!==n.buttonValue,o.setValue(s,{value:i})),t=document.createElement("input"),d.add(t),t.disabled=n.readOnly,t.type="radio",t.name=n.fieldName,i&&t.setAttribute("checked",!0),t.setAttribute("id",s),t.tabIndex=f,t.addEventListener("change",function(e){var i,d,n=e.target,c=n.name,l=n.checked,t=a(r._getElementsByName(c,s));try{for(t.s();!(d=t.n()).done;)i=d.value,o.setValue(i.id,{value:!1})}catch(e){t.e(e)}finally{t.f()}o.setValue(s,{value:l})}),t.addEventListener("resetform",function(e){var t=n.defaultFieldValue;e.target.checked=t!=null&&t===n.buttonValue}),this.enableScripting&&this.hasJSActions&&(c=n.buttonValue,t.addEventListener("updatefromsandbox",function(e){var t={value:function(t){var n,l,u,d=c===t.detail.value,i=a(r._getElementsByName(t.target.name));try{for(i.s();!(u=i.n()).done;)n=u.value,l=d&&n.id===s,n.domElement&&(n.domElement.checked=l),o.setValue(n.id,{value:l})}catch(e){i.e(e)}finally{i.f()}}};r._dispatchEventFromSandbox(t,e)}),this._setEventListeners(t,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})),this._setBackgroundColor(t),this._setDefaultPropertiesFromJS(t),this.container.appendChild(t),this.container}}]),t}(h),K=function(e){c(t,e);var n=r(t);function t(e){return i(this,t),n.call(this,e,{ignoreBorder:e.data.hasAppearance})}return o(t,[{key:"render",value:function(){var n=p(m(t.prototype),"render",this).call(this);return n.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(n.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(n),n}}]),t}(b),q=function(e){c(t,e);var n=r(t);function t(e){return i(this,t),n.call(this,e,{isRenderable:e.renderForms})}return o(t,[{key:"render",value:function(){var t,n,s,o,i,r,c,u,h,m,p,g,l=this;this.container.className="choiceWidgetAnnotation",s=this.annotationStorage,n=this.data.id,g=s.getValue(n,{value:this.data.fieldValue}),r=this.data.defaultAppearanceData.fontSize,r||(r=9),p="calc(".concat(r,"px * var(--zoom-factor))"),t=document.createElement("select"),d.add(t),t.disabled=this.data.readOnly,t.name=this.data.fieldName,t.setAttribute("id",n),t.tabIndex=f,t.style.fontSize="".concat(r,"px"),this.data.combo||(t.size=this.data.options.length,this.data.multiSelect&&(t.multiple=!0)),t.addEventListener("resetform",function(){var s,i,o=l.data.defaultFieldValue,n=a(t.options);try{for(n.s();!(i=n.n()).done;)s=i.value,s.selected=s.value===o}catch(e){n.e(e)}finally{n.f()}}),c=a(this.data.options);try{for(c.s();!(m=c.n()).done;)u=m.value,i=document.createElement("option"),i.textContent=u.displayValue,i.value=u.exportValue,this.data.combo&&(i.style.fontSize=p),g.value.includes(u.exportValue)&&i.setAttribute("selected",!0),t.appendChild(i)}catch(e){c.e(e)}finally{c.f()}return o=function(t,n){var o=n?"value":"textContent",s=t.target.options;return t.target.multiple?Array.prototype.filter.call(s,function(e){return e.selected}).map(function(e){return e[o]}):s.selectedIndex===-1?null:s[s.selectedIndex][o]},h=function(t){var n=t.target.options;return Array.prototype.map.call(n,function(e){return{displayValue:e.textContent,exportValue:e.value}})},this.enableScripting&&this.hasJSActions?(t.addEventListener("updatefromsandbox",function(e){var i={value:function(i){var l,u,c=i.detail.value,d=new Set(Array.isArray(c)?c:[c]),r=a(t.options);try{for(r.s();!(u=r.n()).done;)l=u.value,l.selected=d.has(l.value)}catch(e){r.e(e)}finally{r.f()}s.setValue(n,{value:o(i,!0)})},multipleSelection:function(){t.multiple=!0},remove:function(i){var c,a=t.options,r=i.detail.remove;a[r].selected=!1,t.remove(r),a.length>0&&(c=Array.prototype.findIndex.call(a,function(e){return e.selected}),c===-1&&(a[0].selected=!0)),s.setValue(n,{value:o(i,!0),items:h(i)})},clear:function(){for(;t.length!==0;)t.remove(0);s.setValue(n,{value:null,items:[]})},insert:function(i){var a=i.detail.insert,c=a.index,l=a.displayValue,d=a.exportValue,r=document.createElement("option");r.textContent=l,r.value=d,t.insertBefore(r,t.children[c]),s.setValue(n,{value:o(i,!0),items:h(i)})},items:function(i){for(u=i.detail.items;t.length!==0;)t.remove(0);r=a(u);try{for(r.s();!(d=r.n()).done;){var r,d,u,l=d.value,m=l.displayValue,f=l.exportValue,c=document.createElement("option");c.textContent=m,c.value=f,t.appendChild(c)}}catch(e){r.e(e)}finally{r.f()}t.options.length>0&&(t.options[0].selected=!0),s.setValue(n,{value:o(i,!0),items:h(i)})},indices:function(t){var r,l,c=new Set(t.detail.indices),i=a(t.target.options);try{for(i.s();!(l=i.n()).done;)r=l.value,r.selected=c.has(r.index)}catch(e){i.e(e)}finally{i.f()}s.setValue(n,{value:o(t,!0)})},editable:function(t){t.target.disabled=!t.detail.editable}};l._dispatchEventFromSandbox(i,e)}),t.addEventListener("input",function(e){var t,i=o(e,!0),a=o(e,!1);s.setValue(n,{value:i}),(t=l.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:l,detail:{id:n,name:"Keystroke",value:a,changeEx:i,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(t,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(e){return e.target.checked})):t.addEventListener("input",function(e){s.setValue(n,{value:o(e,!0)})}),this._setBackgroundColor(t),this._setDefaultPropertiesFromJS(t),this.container.appendChild(t),this.container}}]),t}(h),C=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!((s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r})}return o(t,[{key:"render",value:function(){var t,n,o,i,a,r,c,l=["Line","Square","Circle","PolyLine","Polygon","Ink"];return this.container.className="popupAnnotation",l.includes(this.data.parentType)?this.container:(c='[data-annotation-id="'.concat(this.data.parentId,'"]'),i=this.layer.querySelectorAll(c),i.length===0?this.container:(r=new y({container:this.container,trigger:Array.from(i),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),t=this.page,a=s.Util.normalizeRect([this.data.parentRect[0],t.view[3]-this.data.parentRect[1]+t.view[1],this.data.parentRect[2],t.view[3]-this.data.parentRect[3]+t.view[1]]),n=a[0]+this.data.parentRect[2]-this.data.parentRect[0],o=a[1],this.container.style.transformOrigin="".concat(-n,"px ").concat(-o,"px"),this.container.style.left="".concat(n,"px"),this.container.style.top="".concat(o,"px"),this.container.appendChild(r.render()),this.container))}}]),t}(l),y=function(){function e(t){i(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return o(e,[{key:"render",value:function(){var t,n,o,i,r,l,d,u,m,f,p,g,v,b,h=.7,c=document.createElement("div");c.className="popupWrapper",this.hideElement=this.hideWrapper?c:this.container,this.hideElement.hidden=!0,t=document.createElement("div"),t.className="popup",n=this.color,n&&(g=h*(255-n[0])+n[0],f=h*(255-n[1])+n[1],b=h*(255-n[2])+n[2],t.style.backgroundColor=s.Util.makeHexColor(g|0,f|0,b|0)),d=document.createElement("h1"),d.dir=this.titleObj.dir,d.textContent=this.titleObj.str,t.appendChild(d),l=O.PDFDateString.toDateObject(this.modificationDate),l&&(o=document.createElement("span"),o.className="popupDate",o.textContent="{{date}}, {{time}}",o.dataset.l10nId="annotation_date_string",o.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),t.appendChild(o)),(m=this.richText)!==null&&m!==void 0&&m.str&&(!((u=this.contentsObj)!==null&&u!==void 0&&u.str)||this.contentsObj.str===this.richText.str)?(ce.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:t}),t.lastChild.className="richText popupContent"):(p=this._formatContents(this.contentsObj),t.appendChild(p)),Array.isArray(this.trigger)||(this.trigger=[this.trigger]),i=a(this.trigger);try{for(i.s();!(v=i.n()).done;)r=v.value,r.addEventListener("click",this._toggle.bind(this)),r.addEventListener("mouseover",this._show.bind(this,!1)),r.addEventListener("mouseout",this._hide.bind(this,!1))}catch(e){i.e(e)}finally{i.f()}return t.addEventListener("click",this._hide.bind(this,!0)),c.appendChild(t),c}},{key:"_formatContents",value:function(t){var s,o,i,a,c=t.str,r=t.dir,n=document.createElement("p");n.className="popupContent",n.dir=r,o=c.split(/(?:\r\n?|\n)/);for(s=0,i=o.length;s<i;++s)a=o[s],n.appendChild(document.createTextNode(a)),s<i-1&&n.appendChild(document.createElement("br"));return n}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),e}(),D=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0})}return o(t,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),t}(l),Q=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0})}return o(t,[{key:"render",value:function(){this.container.className="lineAnnotation";var t=this.data,s=u(t.rect),i=s.width,a=s.height,o=this.svgFactory.create(i,a),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),n.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),n.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),n.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),n.setAttribute("stroke-width",t.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),o.appendChild(n),this.container.append(o),this._createPopup(n,t),this.container}}]),t}(l),B=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0})}return o(t,[{key:"render",value:function(){this.container.className="squareAnnotation";var s=this.data,o=u(s.rect),i=o.width,a=o.height,r=this.svgFactory.create(i,a),n=s.borderStyle.width,t=this.svgFactory.createElement("svg:rect");return t.setAttribute("x",n/2),t.setAttribute("y",n/2),t.setAttribute("width",i-n),t.setAttribute("height",a-n),t.setAttribute("stroke-width",n||1),t.setAttribute("stroke","transparent"),t.setAttribute("fill","transparent"),r.appendChild(t),this.container.append(r),this._createPopup(t,s),this.container}}]),t}(l),F=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0})}return o(t,[{key:"render",value:function(){this.container.className="circleAnnotation";var i=this.data,a=u(i.rect),n=a.width,s=a.height,r=this.svgFactory.create(n,s),o=i.borderStyle.width,t=this.svgFactory.createElement("svg:ellipse");return t.setAttribute("cx",n/2),t.setAttribute("cy",s/2),t.setAttribute("rx",n/2-o/2),t.setAttribute("ry",s/2-o/2),t.setAttribute("stroke-width",o||1),t.setAttribute("stroke","transparent"),t.setAttribute("fill","transparent"),r.appendChild(t),this.container.append(r),this._createPopup(t,i),this.container}}]),t}(l),v=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,c=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str),r=n.call(this,e,{isRenderable:c,ignoreBorder:!0});return r.containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return o(t,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,i,c,d,h,n=this.data,r=u(n.rect),m=r.width,f=r.height,l=this.svgFactory.create(m,f),o=[],s=a(n.vertices);try{for(s.s();!(h=s.n()).done;)i=h.value,c=i.x-n.rect[0],d=n.rect[3]-i.y,o.push(c+","+d)}catch(e){s.e(e)}finally{s.f()}return o=o.join(" "),t=this.svgFactory.createElement(this.svgElementName),t.setAttribute("points",o),t.setAttribute("stroke-width",n.borderStyle.width||1),t.setAttribute("stroke","transparent"),t.setAttribute("fill","transparent"),l.appendChild(t),this.container.append(l),this._createPopup(t,n),this.container}}]),t}(l),k=function(e){c(t,e);var n=r(t);function t(e){var s;return i(this,t),s=n.call(this,e),s.containerClassName="polygonAnnotation",s.svgElementName="svg:polygon",s}return o(t)}(v),S=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0})}return o(t,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),t}(l),M=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,c=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str),r=n.call(this,e,{isRenderable:c,ignoreBorder:!0});return r.containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return o(t,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,s,o,r,c,d,m,f,p,n=this.data,l=u(n.rect),v=l.width,g=l.height,h=this.svgFactory.create(v,g),i=a(n.inkLists);try{for(i.s();!(p=i.n()).done;){c=p.value,s=[],o=a(c);try{for(o.s();!(m=o.n()).done;)r=m.value,d=r.x-n.rect[0],f=n.rect[3]-r.y,s.push("".concat(d,",").concat(f))}catch(e){o.e(e)}finally{o.f()}s=s.join(" "),t=this.svgFactory.createElement(this.svgElementName),t.setAttribute("points",s),t.setAttribute("stroke-width",n.borderStyle.width||1),t.setAttribute("stroke","transparent"),t.setAttribute("fill","transparent"),this._createPopup(t,n),h.appendChild(t)}}catch(e){i.e(e)}finally{i.f()}return this.container.append(h),this.container}}]),t}(l),T=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return o(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),t}(l),N=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return o(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),t}(l),R=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return o(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),t}(l),H=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return o(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),t}(l),V=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var s,o,a,r=!!(e.data.hasPopup||(s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(a=e.data.richText)!==null&&a!==void 0&&a.str);return n.call(this,e,{isRenderable:r,ignoreBorder:!0})}return o(t,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),t}(l),Y=function(e){c(t,e);var n=r(t);function t(e){i(this,t);var o,s=n.call(this,e,{isRenderable:!0}),a=s.data.file,r=a.filename,c=a.content;return s.filename=(0,O.getFilenameFromUrl)(r),s.content=c,(o=s.linkService.eventBus)===null||o===void 0?void 0:o.dispatch("fileattachmentannotation",{source:A(s),filename:r,content:c}),s}return o(t,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var n,s,t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((n=this.data.titleObj)!==null&&n!==void 0&&n.str||(s=this.data.contentsObj)!==null&&s!==void 0&&s.str||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}},{key:"_download",value:function(){var t;(t=this.downloadManager)===null||t===void 0?void 0:t.openOrDownloadData(this.container,this.content,this.filename)}}]),t}(l),G=function(){function e(){i(this,e)}return o(e,null,[{key:"render",value:function(n){d=[],m=[],l=a(n.annotations);try{for(l.s();!(v=l.n()).done;){if(r=v.value,!r)continue;var o,i,r,c,l,d,h,m,f,p,g,v,j,y,b=u(r.rect),_=b.width,w=b.height;if(_<=0||w<=0)continue;if(r.annotationType===s.AnnotationType.POPUP){m.push(r);continue}d.push(r)}}catch(e){l.e(e)}finally{l.f()}m.length&&d.push.apply(d,m),o=n.div;for(f=0,p=d;f<p.length;f++)if(g=p[f],h=P.create({data:g,layer:o,page:n.page,viewport:n.viewport,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:n.renderForms!==!1,svgFactory:new O.DOMSVGFactory,annotationStorage:n.annotationStorage||new de.AnnotationStorage,enableScripting:n.enableScripting,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,mouseState:n.mouseState||{isDown:!1}}),h.isRenderable)if(i=h.render(),g.hidden&&(i.style.visibility="hidden"),Array.isArray(i)){c=a(i);try{for(c.s();!(j=c.n()).done;)y=j.value,o.appendChild(y)}catch(e){c.e(e)}finally{c.f()}}else h instanceof C?o.prepend(i):o.appendChild(i);I(this,e,E).call(this,o,n.annotationCanvasMap)}},{key:"update",value:function(n){var o,i,r,c,u,m,f,g,v,b,j,y,C,l=n.page,x=n.viewport,O=n.annotations,w=n.annotationCanvasMap,p=n.div,d=x.transform,_="matrix(".concat(d.join(","),")"),h=a(O);try{for(h.s();!(C=h.n()).done;)if(o=C.value,v=p.querySelectorAll('[data-annotation-id="'.concat(o.id,'"]')),v){c=a(v);try{for(c.s();!(y=c.n()).done;)if(i=y.value,o.hasOwnCanvas){if(m=s.Util.normalizeRect([o.rect[0],l.view[3]-o.rect[1]+l.view[1],o.rect[2],l.view[3]-o.rect[3]+l.view[1]]),!f){b=Math.abs(d[0]||d[1]),u=d.slice();for(r=0;r<4;r++)u[r]=Math.sign(u[r]);f="matrix(".concat(u.join(","),")")}g=m[0]*b,j=m[1]*b,i.style.left="".concat(g,"px"),i.style.top="".concat(j,"px"),i.style.transformOrigin="".concat(-g,"px ").concat(-j,"px"),i.style.transform=f}else i.style.transform=_}catch(e){c.e(e)}finally{c.f()}}}catch(e){h.e(e)}finally{h.f()}I(this,e,E).call(this,p,w),p.hidden=!1}}]),e}(),t.AnnotationLayer=G;function E(e,t){if(!t)return;n=a(t);try{for(n.s();!(i=n.n()).done;){var n,o,i,r=g(i.value,2),l=r[0],c=r[1],s=e.querySelector('[data-annotation-id="'.concat(l,'"]'));if(!s)continue;o=s.firstChild,o.nodeName==="CANVAS"?s.replaceChild(c,o):s.insertBefore(c,o)}}catch(e){n.e(e)}finally{n.f()}t.clear()}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function n(e,t){return c(e)||r(e,t)||a(e,t)||d()}function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(e,t){if(!e)return;if(typeof e=="string")return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}function i(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function r(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function c(e){if(Array.isArray(e))return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function u(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}var h=function(){function e(){l(this,e)}return u(e,null,[{key:"CMYK_G",value:function(t){var s=n(t,4),o=s[0],i=s[1],a=s[2],r=s[3];return["G",1-Math.min(1,.3*o+.59*a+.11*i+r)]}},{key:"G_CMYK",value:function(t){var s=n(t,1),o=s[0];return["CMYK",0,0,0,1-o]}},{key:"G_RGB",value:function(t){var o=n(t,1),s=o[0];return["RGB",s,s,s]}},{key:"G_HTML",value:function(t){var i=n(t,1),a=i[0],o=s(a);return"#".concat(o).concat(o).concat(o)}},{key:"RGB_G",value:function(t){var s=n(t,3),o=s[0],i=s[1],a=s[2];return["G",.3*o+.59*i+.11*a]}},{key:"RGB_HTML",value:function(t){var o=n(t,3),i=o[0],a=o[1],r=o[2],c=s(i),l=s(a),d=s(r);return"#".concat(c).concat(l).concat(d)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(t){var s=n(t,4),i=s[0],a=s[1],r=s[2],o=s[3];return["RGB",1-Math.min(1,i+o),1-Math.min(1,r+o),1-Math.min(1,a+o)]}},{key:"CMYK_HTML",value:function(t){return this.RGB_HTML(this.CMYK_RGB(t))}},{key:"RGB_CMYK",value:function(t){var s=n(t,3),r=s[0],c=s[1],l=s[2],o=1-r,i=1-c,a=1-l,d=Math.min(o,i,a);return["CMYK",o,i,a,d]}}]),e}();t.ColorConverters=h},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var c,u=n(171);function o(e,t){return d(e)||m(e,t)||s(e,t)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function d(e){if(Array.isArray(e))return e}function a(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=s(e))||t&&e&&typeof e.length=="number")return n&&(e=n),o=0,i=function(){},{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(t){throw t},f:i};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,o,i,c,a=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return a=t.done,t},e:function(t){r=!0,c=t},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(r)throw c}}}}function s(e,t){if(!e)return;if(typeof e=="string")return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}function r(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function f(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}c=function(){function e(){h(this,e)}return f(e,null,[{key:"setupStorage",value:function(t,n,s,o,i){var c,l,d,r=o.getValue(n,{value:null});switch(s.name){case"textarea":if(r.value!==null&&(t.textContent=r.value),i==="print")break;t.addEventListener("input",function(e){o.setValue(n,{value:e.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(r.value===s.attributes.xfaOn?t.setAttribute("checked",!0):r.value===s.attributes.xfaOff&&t.removeAttribute("checked"),i==="print")break;t.addEventListener("change",function(e){o.setValue(n,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&t.setAttribute("value",r.value),i==="print")break;t.addEventListener("input",function(e){o.setValue(n,{value:e.target.value})})}break;case"select":if(r.value!==null){c=a(s.children);try{for(c.s();!(d=c.n()).done;)l=d.value,l.attributes.value===r.value&&(l.attributes.selected=!0)}catch(e){c.e(e)}finally{c.f()}}t.addEventListener("input",function(e){var t=e.target.options,s=t.selectedIndex===-1?"":t[t.selectedIndex].value;o.setValue(n,{value:s})});break}}},{key:"setAttributes",value:function(t){var r,c,i=t.html,d=t.element,m=t.storage,h=m===void 0?null:m,f=t.intent,p=t.linkService,n=d.attributes,u=i instanceof HTMLAnchorElement;n.type==="radio"&&(n.name="".concat(n.name,"-").concat(f));for(r=0,c=Object.entries(n);r<c.length;r++){var l=o(c[r],2),s=l[0],a=l[1];if(a==null||s==="dataId")continue;if(s!=="style")if(s==="textContent")i.textContent=a;else if(s==="class")a.length&&i.setAttribute(s,a.join(" "));else{if(u&&(s==="href"||s==="newWindow"))continue;i.setAttribute(s,a)}else Object.assign(i.style,a)}u&&p.addLinkAttributes(i,n.href,n.newWindow),h&&n.dataId&&this.setupStorage(i,n.dataId,d,h)}},{key:"render",value:function(t){for(y=t.annotationStorage,b=t.linkService,r=t.xfaHtml,m=t.intent||"display",h=document.createElement(r.name),r.attributes&&this.setAttributes({html:h,element:r,intent:m,linkService:b}),s=[[r,-1,h]],c=t.div,c.appendChild(h),t.viewport&&(x="matrix(".concat(t.viewport.transform.join(","),")"),c.style.transform=x),m!=="richText"&&c.setAttribute("class","xfaLayer xfaFont"),f=[];s.length>0;){var n,s,i,r,c,l,d,h,m,f,p,v,b,j,y,w,x,C,g=o(s[s.length-1],3),O=g[0],E=g[1],_=g[2];if(E+1===O.children.length){s.pop();continue}if(n=O.children[++s[s.length-1][1]],n===null)continue;if(d=n.name,d==="#text"){j=document.createTextNode(n.value),f.push(j),_.appendChild(j);continue}i=void 0,n!=null&&(p=n.attributes)!==null&&p!==void 0&&p.xmlns?i=document.createElementNS(n.attributes.xmlns,d):i=document.createElement(d),_.appendChild(i),n.attributes&&this.setAttributes({html:i,element:n,storage:y,intent:m,linkService:b}),n.children&&n.children.length>0?s.push([n,-1,i]):n.value&&(v=document.createTextNode(n.value),u.XfaText.shouldBuildText(d)&&f.push(v),i.appendChild(v))}l=a(c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(l.s();!(w=l.n()).done;)C=w.value,C.setAttribute("readOnly",!0)}catch(e){l.e(e)}finally{l.f()}return{textDivs:f}}},{key:"update",value:function(t){var n="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=n,t.div.hidden=!1}}]),e}(),t.XfaLayer=c},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=O;var s,i,r,l,d,f,o=n(1);function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function g(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=w(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function w(e,t){if(!e)return;if(typeof e=="string")return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}function p(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}d=1e5,s=30,r=.8,i=new Map,f=/^\s+$/g;function b(e,t){if(u=i.get(e),u)return u;if(t.save(),t.font="".concat(s,"px ").concat(e),h=t.measureText(""),n=h.fontBoundingBoxAscent,c=Math.abs(h.fontBoundingBoxDescent),n)return t.restore(),d=n/(n+c),i.set(e,d),d;t.strokeStyle="red",t.clearRect(0,0,s,s),t.strokeText("g",0,0),o=t.getImageData(0,0,s,s).data,c=0;for(a=o.length-1-3;a>=0;a-=4)if(o[a]>0){c=Math.ceil(a/4/s);break}t.clearRect(0,0,s,s),t.strokeText("A",0,s),o=t.getImageData(0,0,s,s).data,n=0;for(var n,o,a,c,d,u,h,m,l=0,f=o.length;l<f;l+=4)if(o[l]>0){n=s-Math.floor(l/4/s);break}return t.restore(),n?(m=n/(n+c),i.set(e,m),m):(i.set(e,r),r)}function v(e,t,n,s){if(i=document.createElement("span"),l=e._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL},e._textDivs.push(i),r=o.Util.transform(e._viewport.transform,t.transform),a=Math.atan2(r[1],r[0]),d=n[t.fontName],d.vertical&&(a+=Math.PI/2),p=Math.hypot(r[2],r[3]),m=p*b(d.fontFamily,s),a===0?(c=r[4],u=r[5]-m):(c=r[4]+m*Math.sin(a),u=r[5]-m*Math.cos(a)),i.style.left="".concat(c,"px"),i.style.top="".concat(u,"px"),i.style.fontSize="".concat(p,"px"),i.style.fontFamily=d.fontFamily,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=t.fontName),a!==0&&(l.angle=a*(180/Math.PI)),g=!1,t.str.length>1||e._enhanceTextSelection&&f.test(t.str))g=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){var i,a,r,c,l,d,u,h,m,p,g,v,j,y,_,O,w=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);w!==x&&Math.max(w,x)/Math.min(w,x)>1.5&&(g=!0)}g&&(d.vertical?l.canvasWidth=t.height*e._viewport.scale:l.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(i,l),e._textContentStream&&e._layoutText(i),e._enhanceTextSelection&&l.hasText&&(v=1,j=0,a!==0&&(v=Math.cos(a),j=Math.sin(a)),y=(d.vertical?t.height:t.width)*e._viewport.scale,_=p,a!==0?(O=[v,j,-j,v,c,u],h=o.Util.getAxialAlignedBoundingBox([0,0,y,_],O)):h=[c,u,c+y,u+_],e._bounds.push({left:h[0],top:h[1],right:h[2],bottom:h[3],div:i,size:[y,_],m:O}))}function h(e){if(e._canceled)return;var t,n=e._textDivs,s=e._capability,o=n.length;if(o>d){e._renderingDone=!0,s.resolve();return}if(!e._textContentStream)for(t=0;t<o;t++)e._layoutText(n[t]);e._renderingDone=!0,s.resolve()}function a(e,t,n){for(var o,s=0,i=0;i<n;i++)o=e[t++],o>0&&(s=s?Math.min(o,s):o);return s}function j(e){u=e._bounds,v=e._viewport,h=y(v.width,v.height,u);for(l=0;l<h.length;l++){if(p=u[l].div,d=e._textDivProperties.get(p),d.angle===0){d.paddingLeft=u[l].left-h[l].left,d.paddingTop=u[l].top-h[l].top,d.paddingRight=h[l].right-u[l].right,d.paddingBottom=h[l].bottom-u[l].bottom,e._textDivProperties.set(p,d);continue}for(var s,l,d,u,h,f,p,v,m=u[l],r=h[l],b=m.m,i=b[0],c=b[1],g=[[0,0],[0,m.size[1]],[m.size[0],0],m.size],t=new Float64Array(64),n=0,j=g.length;n<j;n++)s=o.Util.applyTransform(g[n],b),t[n+0]=i&&(r.left-s[0])/i,t[n+4]=c&&(r.top-s[1])/c,t[n+8]=i&&(r.right-s[0])/i,t[n+12]=c&&(r.bottom-s[1])/c,t[n+16]=c&&(r.left-s[0])/-c,t[n+20]=i&&(r.top-s[1])/i,t[n+24]=c&&(r.right-s[0])/-c,t[n+28]=i&&(r.bottom-s[1])/i,t[n+32]=i&&(r.left-s[0])/-i,t[n+36]=c&&(r.top-s[1])/-c,t[n+40]=i&&(r.right-s[0])/-i,t[n+44]=c&&(r.bottom-s[1])/-c,t[n+48]=c&&(r.left-s[0])/c,t[n+52]=i&&(r.top-s[1])/-i,t[n+56]=c&&(r.right-s[0])/c,t[n+60]=i&&(r.bottom-s[1])/-i;f=1+Math.min(Math.abs(i),Math.abs(c)),d.paddingLeft=a(t,32,16)/f,d.paddingTop=a(t,48,16)/f,d.paddingRight=a(t,0,16)/f,d.paddingBottom=a(t,16,16)/f,e._textDivProperties.set(p,d)}}function y(e,t,n){var s,i,a,r,l,d,u,h,f,o=n.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});m(e,o),s=new Array(n.length),i=c(o);try{for(i.s();!(f=i.n()).done;)r=f.value,u=r.index,s[u]={left:r.x1New,top:0,right:r.x2New,bottom:0}}catch(e){i.e(e)}finally{i.f()}n.map(function(t,n){var a=s[n],i=o[n];i.x1=t.top,i.y1=e-a.right,i.x2=t.bottom,i.y2=e-a.left,i.index=n,i.x1New=void 0,i.x2New=void 0}),m(t,o),a=c(o);try{for(a.s();!(h=a.n()).done;)l=h.value,d=l.index,s[d].top=l.x1New,s[d].bottom=l.x2New}catch(e){a.e(e)}finally{a.f()}return s}function m(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index}),O={x1:-(1/0),y1:-(1/0),x2:0,y2:1/0,index:-1,x1New:0,x2New:0},s=[{start:-(1/0),end:1/0,boundary:O}],p=c(t);try{for(p.s();!(_=p.n()).done;){for(o=_.value,r=0;r<s.length&&s[r].end<=o.y1;)r++;for(l=s.length-1;l>=0&&s[l].start>=o.y2;)l--;var s,o,r,l,u,h,f,p,g,v,b,j,y,_,w,O,n=void 0,d=void 0,i=void 0,a=void 0,m=-(1/0);for(i=r;i<=l;i++)d=s[i],n=d.boundary,f=void 0,n.x2>o.x1?f=n.index>o.index?n.x1New:o.x1:n.x2New===void 0?f=(n.x2+o.x1)/2:f=n.x2New,f>m&&(m=f);o.x1New=m;for(i=r;i<=l;i++)d=s[i],n=d.boundary,n.x2New===void 0?n.x2>o.x1?n.index>o.index&&(n.x2New=n.x2):n.x2New=m:n.x2New>m&&(n.x2New=Math.max(m,n.x2));u=[],j=null;for(i=r;i<=l;i++)d=s[i],n=d.boundary,v=n.x2>o.x2?n:o,j===v?u[u.length-1].end=d.end:(u.push({start:d.start,end:d.end,boundary:v}),j=v);s[r].start<o.y1&&(u[0].start=o.y1,u.unshift({start:s[r].start,end:o.y1,boundary:s[r].boundary})),o.y2<s[l].end&&(u[u.length-1].end=o.y2,u.push({start:o.y2,end:s[l].end,boundary:s[l].boundary}));for(i=r;i<=l;i++){if(d=s[i],n=d.boundary,n.x2New!==void 0)continue;h=!1;for(a=r-1;!h&&a>=0&&s[a].start>=n.y1;a--)h=s[a].boundary===n;for(a=l+1;!h&&a<s.length&&s[a].end<=n.y2;a++)h=s[a].boundary===n;for(a=0;!h&&a<u.length;a++)h=u[a].boundary===n;h||(n.x2New=m)}Array.prototype.splice.apply(s,[r,l-r+1].concat(u))}}catch(e){p.e(e)}finally{p.f()}for(g=0,y=s;g<y.length;g++)w=y[g],b=w.boundary,b.x2New===void 0&&(b.x2New=Math.max(e,b.x2))}l=function(){function e(t){var s,n=this,a=t.textContent,r=t.textContentStream,i=t.container,c=t.viewport,l=t.textDivs,d=t.textContentItemsStr,u=t.enhanceTextSelection;_(this,e),this._textContent=a,this._textContentStream=r,this._container=i,this._document=i.ownerDocument,this._viewport=c,this._textDivs=l||[],this._textContentItemsStr=d||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!!((s=globalThis.FontInspector)!==null&&s!==void 0&&s.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,o.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){n._enhanceTextSelection||(n._textDivProperties=null),n._layoutTextCtx&&(n._layoutTextCtx.canvas.width=0,n._layoutTextCtx.canvas.height=0,n._layoutTextCtx=null)}).catch(function(){})}return g(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(t,n){for(var o,s=0,i=t.length;s<i;s++){if(t[s].str===void 0){t[s].type==="beginMarkedContentProps"||t[s].type==="beginMarkedContent"?(o=this._container,this._container=document.createElement("span"),this._container.classList.add("markedContent"),t[s].id!==null&&this._container.setAttribute("id","".concat(t[s].id)),o.appendChild(this._container)):t[s].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(t[s].str),v(this,t[s],n,this._layoutTextCtx)}}},{key:"_layoutText",value:function(t){if(n=this._textDivProperties.get(t),s="",n.canvasWidth!==0&&n.hasText){var n,s,o,r,c,l,d=t.style,i=d.fontSize,a=d.fontFamily;(i!==this._layoutTextLastFontSize||a!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(i," ").concat(a),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=a),l=this._layoutTextCtx.measureText(t.textContent),r=l.width,r>0&&(c=n.canvasWidth/r,this._enhanceTextSelection&&(n.scale=c),s="scaleX(".concat(c,")"))}n.angle!==0&&(s="rotate(".concat(n.angle,"deg) ").concat(s)),s.length>0&&(this._enhanceTextSelection&&(n.originalTransform=s),t.style.transform=s),n.hasText&&this._container.appendChild(t),n.hasEOL&&(o=document.createElement("br"),o.setAttribute("role","presentation"),this._container.appendChild(o))}},{key:"_render",value:function(){var c,l,d,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=(0,o.createPromiseCapability)(),i=Object.create(null),a=this._document.createElement("canvas");if(a.height=a.width=s,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent)c=this._textContent.items,l=this._textContent.styles,this._processItems(c,l),n.resolve();else if(this._textContentStream)d=function e(){t._reader.read().then(function(s){var o=s.value,a=s.done;if(a){n.resolve();return}Object.assign(i,o.styles),t._processItems(o.items,i),e()},n.reject)},this._reader=this._textContentStream.getReader(),d();else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');n.promise.then(function(){i=null,r?t._renderTimer=setTimeout(function(){h(t),t._renderTimer=null},r):h(t)},this._capability.reject)}},{key:"expandTextDivs",value:function(){if(a=arguments.length>0&&arguments[0]!==void 0&&arguments[0],!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(j(this),this._bounds=null);for(var t,o,a,s=[],n=[],i=0,r=this._textDivs.length;i<r;i++){if(o=this._textDivs[i],t=this._textDivProperties.get(o),!t.hasText)continue;a?(s.length=0,n.length=0,t.originalTransform&&s.push(t.originalTransform),t.paddingTop>0?(n.push("".concat(t.paddingTop,"px")),s.push("translateY(".concat(-t.paddingTop,"px)"))):n.push(0),t.paddingRight>0?n.push("".concat(t.paddingRight/t.scale,"px")):n.push(0),t.paddingBottom>0?n.push("".concat(t.paddingBottom,"px")):n.push(0),t.paddingLeft>0?(n.push("".concat(t.paddingLeft/t.scale,"px")),s.push("translateX(".concat(-t.paddingLeft/t.scale,"px)"))):n.push(0),o.style.padding=n.join(" "),s.length&&(o.style.transform=s.join(" "))):(o.style.padding=null,o.style.transform=t.originalTransform)}}}]),e}();function O(e){var t=new l({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var o,a,r,u,h,v,b,y,_,w,O,x,C,E,k,s=n(1),M=n(158),A=n(3);function d(e){return T(e)||F(e)||l(e)||S()}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T(e){if(Array.isArray(e))return p(e)}function c(e,t){return N(e)||D(e,t)||l(e,t)||z()}function z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function N(e){if(Array.isArray(e))return e}function i(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=l(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function l(e,t){if(!e)return;if(typeof e=="string")return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}function p(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function j(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function m(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}u=m(function e(){g(this,e),(0,s.unreachable)("Not implemented: SVGGraphics")}),t.SVGGraphics=u,w=function(t){var o,r,n=[],a=[],s=i(t);try{for(s.s();!(r=s.n()).done;){if(o=r.value,o.fn==="save"){n.push({fnId:92,fn:"group",items:[]}),a.push(n),n=n[n.length-1].items;continue}o.fn==="restore"?n=a.pop():n.push(o)}}catch(e){s.e(e)}finally{s.f()}return n},o=function(t){if(Number.isInteger(t))return t.toString();var n=t.toFixed(10),s=n.length-1;if(n[s]!=="0")return n;do s--;while(n[s]==="0")return n.substring(0,n[s]==="."?s:s+1)},r=function(t){if(t[4]===0&&t[5]===0){{if(t[1]===0&&t[2]===0)return t[0]===1&&t[3]===1?"":"scale(".concat(o(t[0])," ").concat(o(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2]){var n=Math.acos(t[0])*180/Math.PI;return"rotate(".concat(o(n),")")}}}else if(t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1)return"translate(".concat(o(t[4])," ").concat(o(t[5]),")");return"matrix(".concat(o(t[0])," ").concat(o(t[1])," ").concat(o(t[2])," ").concat(o(t[3])," ").concat(o(t[4])," ")+"".concat(o(t[5]),")")},a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},k="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",C=["butt","round","square"],x=["miter","round","bevel"],h=function(t){if(l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d=arguments.length>2&&arguments[2]!==void 0&&arguments[2],URL.createObjectURL&&typeof Blob!="undefined"&&!d)return URL.createObjectURL(new Blob([t],{type:l}));s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="data:".concat(l,";base64,");for(var s,o,i,a,c,l,d,u,h,m,f,n=0,r=t.length;n<r;n+=3)c=t[n]&255,o=t[n+1]&255,i=t[n+2]&255,u=c>>2,h=(c&3)<<4|o>>4,m=n+1<r?(o&15)<<2|i>>6:64,f=n+2<r?i&63:64,a+=s[u]+s[h]+s[m]+s[f];return a},O=function(){for(var e,i,n=new Uint8Array([137,80,78,71,13,10,26,10]),o=12,r=new Int32Array(256),t=0;t<256;t++){e=t;for(i=0;i<8;i++)e&1?e=3988292384^e>>1&2147483647:e=e>>1&2147483647;r[t]=e}function l(e,t,n){for(var i,a,s=-1,o=t;o<n;o++)i=(s^e[o])&255,a=r[i],s=s>>>8^a;return s^-1}function a(e,t,n,s){var i,o=s,a=t.length;n[o]=a>>24&255,n[o+1]=a>>16&255,n[o+2]=a>>8&255,n[o+3]=a&255,o+=4,n[o]=e.charCodeAt(0)&255,n[o+1]=e.charCodeAt(1)&255,n[o+2]=e.charCodeAt(2)&255,n[o+3]=e.charCodeAt(3)&255,o+=4,n.set(t,o),o+=t.length,i=l(n,s+4,o),n[o]=i>>24&255,n[o+1]=i>>16&255,n[o+2]=i>>8&255,n[o+3]=i&255}function d(e,t,n){for(var s=1,o=0,i=t;i<n;++i)s=(s+(e[i]&255))%65521,o=(o+s)%65521;return o<<16|s}function u(e){if(!A.isNodeJS)return c(e);try{parseInt(process.versions.node)>=8?t=e:t=Buffer.from(e);var t,n=f().deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return c(e)}function c(e){var i,a,s=e.length,o=65535,r=Math.ceil(s/o),n=new Uint8Array(2+s+r*5+4),t=0;for(n[t++]=120,n[t++]=156,i=0;s>o;)n[t++]=0,n[t++]=255,n[t++]=255,n[t++]=0,n[t++]=0,n.set(e.subarray(i,i+o),t),t+=o,i+=o,s-=o;return n[t++]=1,n[t++]=s&255,n[t++]=s>>8&255,n[t++]=~s&65535&255,n[t++]=(~s&65535)>>8&255,n.set(e.subarray(i),t),t+=e.length-i,a=d(e,0,e.length),n[t++]=a>>24&255,n[t++]=a>>16&255,n[t++]=a>>8&255,n[t++]=a&255,n}function m(e,t,i,r){switch(d=e.width,l=e.height,E=e.data,t){case s.ImageKind.GRAYSCALE_1BPP:y=0,b=1,c=d+7>>3;break;case s.ImageKind.RGB_24BPP:y=2,b=8,c=d*3;break;case s.ImageKind.RGBA_32BPP:y=6,b=8,c=d*4;break;default:throw new Error("invalid format")}for(var c,l,d,m,f,g,b,j,y,_,w,C,E,v=new Uint8Array((1+c)*l),p=0,O=0,x=0;x<l;++x)v[p++]=0,v.set(E.subarray(O,O+c),p),O+=c,p+=c;if(t===s.ImageKind.GRAYSCALE_1BPP&&r){p=0;for(_=0;_<l;_++){p++;for(w=0;w<c;w++)v[p++]^=255}}return g=new Uint8Array([d>>24&255,d>>16&255,d>>8&255,d&255,l>>24&255,l>>16&255,l>>8&255,l&255,b,y,0,0,0]),j=u(v),C=n.length+o*3+g.length+j.length,f=new Uint8Array(C),m=0,f.set(n,m),m+=n.length,a("IHDR",g,f,m),m+=o+g.length,a("IDATA",j,f,m),m+=o+j.length,a("IEND",new Uint8Array(0),f,m),h(f,"image/png",i)}return function(t,n,o){var i=t.kind===void 0?s.ImageKind.GRAYSCALE_1BPP:t.kind;return m(t,i,n,o)}}(),_=function(){function e(){g(this,e),this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return m(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(t,n){this.x=t,this.y=n}}]),e}(),E=0,y=0,v=0,t.SVGGraphics=u=function(){function e(t,n){var o,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];g(this,e),this.svgFactory=new M.DOMSVGFactory,this.current=new _,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!i,this._operatorIdMapping=[];for(o in s.OPS)this._operatorIdMapping[s.OPS[o]]=o}return m(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(t){this.save(),this.executeOpTree(t),this.restore()}},{key:"loadDependencies",value:function(t){o=this,r=t.fnArray,c=t.argsArray;for(var n,o,r,c,l,d,a=0,u=r.length;a<u;a++){if(r[a]!==s.OPS.dependency)continue;n=i(c[a]);try{d=function(){var t=l.value,n=t.startsWith("g_")?o.commonObjs:o.objs,s=new Promise(function(e){n.get(t,e)});o.current.dependencies.push(s)};for(n.s();!(l=n.n()).done;)d()}catch(e){n.e(e)}finally{n.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(t,n,o,i,a,r){var c=[t,n,o,i,a,r];this.transformMatrix=s.Util.transform(this.transformMatrix,c),this.tgrp=null}},{key:"getSVG",value:function(t,n){var i,o=this;return this.viewport=n,i=this._initialize(n),this.loadDependencies(t).then(function(){return o.transformMatrix=s.IDENTITY_MATRIX,o.executeOpTree(o.convertOpList(t)),i})}},{key:"convertOpList",value:function(t){r=this._operatorIdMapping,a=t.argsArray,o=t.fnArray,i=[];for(var s,o,i,a,r,n=0,c=o.length;n<c;n++)s=o[n],i.push({fnId:s,fn:r[s],args:a[n]});return w(i)}},{key:"executeOpTree",value:function(t){var n,o,r,c,l,a=i(t);try{for(a.s();!(r=a.n()).done;)switch(o=r.value,c=o.fn,l=o.fnId,n=o.args,l|0){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(n);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(n[0],n[1]);break;case s.OPS.setFont:this.setFont(n);break;case s.OPS.showText:this.showText(n[0]);break;case s.OPS.showSpacedText:this.showText(n[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(n[0],n[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(n[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(n[0]);break;case s.OPS.setHScale:this.setHScale(n[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(n[0],n[1],n[2],n[3],n[4],n[5]);break;case s.OPS.setTextRise:this.setTextRise(n[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(n[0]);break;case s.OPS.setLineWidth:this.setLineWidth(n[0]);break;case s.OPS.setLineJoin:this.setLineJoin(n[0]);break;case s.OPS.setLineCap:this.setLineCap(n[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(n[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(n[0],n[1],n[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(n[0],n[1],n[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(n);break;case s.OPS.setFillColorN:this.setFillColorN(n);break;case s.OPS.shadingFill:this.shadingFill(n[0]);break;case s.OPS.setDash:this.setDash(n[0],n[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(n[0]);break;case s.OPS.setFlatness:this.setFlatness(n[0]);break;case s.OPS.setGState:this.setGState(n[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(n[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(n[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(n[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(n[0],n[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(n[0],n[1],n[2],n[3],n[4],n[5]);break;case s.OPS.constructPath:this.constructPath(n[0],n[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(o.items);break;default:(0,s.warn)("Unimplemented operator ".concat(c));break}}catch(e){a.e(e)}finally{a.f()}}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(t,n,s,i,a,r){var c=this.current;c.textMatrix=c.lineMatrix=[t,n,s,i,a,r],c.textMatrixScale=Math.hypot(t,n),c.x=c.lineX=0,c.y=c.lineY=0,c.xcoords=[],c.ycoords=[],c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"font-family",c.fontFamily),c.tspan.setAttributeNS(null,"font-size","".concat(o(c.fontSize),"px")),c.tspan.setAttributeNS(null,"y",o(-c.y)),c.txtElement=this.svgFactory.createElement("svg:text"),c.txtElement.appendChild(c.tspan)}},{key:"beginText",value:function(){var t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=s.IDENTITY_MATRIX,t.lineMatrix=s.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}},{key:"moveText",value:function(t,n){var s=this.current;s.x=s.lineX+=t,s.y=s.lineY+=n,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size","".concat(o(s.fontSize),"px")),s.tspan.setAttributeNS(null,"y",o(-s.y))}},{key:"showText",value:function(t){if(n=this.current,y=n.font,_=n.fontSize,_===0)return;j=n.fontSizeScale,M=n.charSpacing,O=n.wordSpacing,f=n.fontDirection,A=n.textHScale*f,d=y.vertical,z=d?1:-1,S=y.defaultVMetrics,h=_*n.fontMatrix[0],l=0,v=i(t);try{for(v.s();!(N=v.n()).done;){if(c=N.value,c===null){l+=f*O;continue}if(typeof c=="number"){l+=z*c*_/1e3;continue}var n,c,l,d,h,m,f,p,g,v,b,j,y,_,w,O,A,S,M,F,z,D,N,x=(c.isSpace?O:0)+M,T=c.fontChar,C=void 0,E=void 0,u=c.width;d?(m=void 0,g=c.vmetric||S,m=c.vmetric?g[1]:u*.5,m=-m*h,F=g[2]*h,u=g?-g[0]:u,C=m/j,E=(l+F)/j):(C=l/j,E=0),(c.isInFont||y.missingFile)&&(n.xcoords.push(n.x+C),d&&n.ycoords.push(-n.y+E),n.tspan.textContent+=T),w=void 0,d?w=u*h-x*f:w=u*h+x*f,l+=w}}catch(e){v.e(e)}finally{v.f()}n.tspan.setAttributeNS(null,"x",n.xcoords.map(o).join(" ")),d?n.tspan.setAttributeNS(null,"y",n.ycoords.map(o).join(" ")):n.tspan.setAttributeNS(null,"y",o(-n.y)),d?n.y-=l:n.x+=l*A,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(o(n.fontSize),"px")),n.fontStyle!==a.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==a.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight),p=n.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK,p===s.TextRenderingMode.FILL||p===s.TextRenderingMode.FILL_STROKE?(n.fillColor!==a.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?n.tspan.setAttributeNS(null,"fill","transparent"):n.tspan.setAttributeNS(null,"fill","none"),(p===s.TextRenderingMode.STROKE||p===s.TextRenderingMode.FILL_STROKE)&&(D=1/(n.textMatrixScale||1),this._setStrokeAttributes(n.tspan,D)),b=n.textMatrix,n.textRise!==0&&(b=b.slice(),b[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform","".concat(r(b)," scale(").concat(o(A),", -1)")),n.txtElement.setAttributeNS(k,"xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}},{key:"setLeadingMoveText",value:function(t,n){this.setLeading(-n),this.moveText(t,n)}},{key:"addFontStyle",value:function(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var n=h(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(n,`); }
`)}},{key:"setFont",value:function(t){var r,c,n=this.current,i=this.commonObjs.get(t[0]),a=t[1];n.font=i,this.embedFonts&&!i.missingFile&&!this.embeddedFonts[i.loadedName]&&(this.addFontStyle(i),this.embeddedFonts[i.loadedName]=i),n.fontMatrix=i.fontMatrix||s.FONT_IDENTITY_MATRIX,r="normal",i.black?r="900":i.bold&&(r="bold"),c=i.italic?"italic":"normal",a<0?(a=-a,n.fontDirection=-1):n.fontDirection=1,n.fontSize=a,n.fontFamily=i.loadedName,n.fontWeight=r,n.fontStyle=c,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",o(-n.y)),n.xcoords=[],n.ycoords=[]}},{key:"endText",value:function(){var n,t=this.current;t.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&(n=t.txtElement)!==null&&n!==void 0&&n.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(t){t>0&&(this.current.lineWidth=t)}},{key:"setLineCap",value:function(t){this.current.lineCap=C[t]}},{key:"setLineJoin",value:function(t){this.current.lineJoin=x[t]}},{key:"setMiterLimit",value:function(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function(t,n,o){this.current.strokeColor=s.Util.makeHexColor(t,n,o)}},{key:"setFillAlpha",value:function(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function(t,n,o){this.current.fillColor=s.Util.makeHexColor(t,n,o),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function(t){var d=this.viewport.width,l=this.viewport.height,i=s.Util.inverseTransform(this.transformMatrix),a=s.Util.applyTransform([0,0],i),r=s.Util.applyTransform([0,l],i),c=s.Util.applyTransform([d,0],i),o=s.Util.applyTransform([d,l],i),u=Math.min(a[0],r[0],c[0],o[0]),h=Math.min(a[1],r[1],c[1],o[1]),m=Math.max(a[0],r[0],c[0],o[0]),f=Math.max(a[1],r[1],c[1],o[1]),n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x",u),n.setAttributeNS(null,"y",h),n.setAttributeNS(null,"width",m-u),n.setAttributeNS(null,"height",f-h),n.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&n.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(n)}},{key:"_makeColorN_Pattern",value:function(t){return t[0]==="TilingPattern"?this._makeTilingPattern(t):this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function(t){var r,l,u,h,m,p,L=t[1],N=t[2],i=t[3]||s.IDENTITY_MATRIX,a=c(t[4],4),D=a[0],z=a[1],T=a[2],F=a[3],M=t[5],C=t[6],_=t[7],g="shading".concat(v++),y=s.Util.normalizeRect([].concat(d(s.Util.applyTransform([D,z],i)),d(s.Util.applyTransform([T,F],i)))),o=c(y,4),b=o[0],j=o[1],w=o[2],O=o[3],x=s.Util.singularValueDecompose2dScale(i),f=c(x,2),E=f[0],k=f[1],A=M*E,S=C*k,n=this.svgFactory.createElement("svg:pattern");return n.setAttributeNS(null,"id",g),n.setAttributeNS(null,"patternUnits","userSpaceOnUse"),n.setAttributeNS(null,"width",A),n.setAttributeNS(null,"height",S),n.setAttributeNS(null,"x","".concat(b)),n.setAttributeNS(null,"y","".concat(j)),h=this.svg,u=this.transformMatrix,m=this.current.fillColor,p=this.current.strokeColor,r=this.svgFactory.create(w-b,O-j),this.svg=r,this.transformMatrix=i,_===2&&(l=s.Util.makeHexColor.apply(s.Util,d(L)),this.current.fillColor=l,this.current.strokeColor=l),this.executeOpTree(this.convertOpList(N)),this.svg=h,this.transformMatrix=u,this.current.fillColor=m,this.current.strokeColor=p,n.appendChild(r.childNodes[0]),this.defs.appendChild(n),"url(#".concat(g,")")}},{key:"_makeShadingPattern",value:function(t){switch(typeof t=="string"&&(t=this.objs.get(t)),t[0]){case"RadialAxial":var n,o,a,r,c,l,d,u,m,f,p,h="shading".concat(v++),g=t[3];switch(t[1]){case"axial":c=t[4],l=t[5],n=this.svgFactory.createElement("svg:linearGradient"),n.setAttributeNS(null,"id",h),n.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),n.setAttributeNS(null,"x1",c[0]),n.setAttributeNS(null,"y1",c[1]),n.setAttributeNS(null,"x2",l[0]),n.setAttributeNS(null,"y2",l[1]);break;case"radial":d=t[4],u=t[5],f=t[6],m=t[7],n=this.svgFactory.createElement("svg:radialGradient"),n.setAttributeNS(null,"id",h),n.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),n.setAttributeNS(null,"cx",u[0]),n.setAttributeNS(null,"cy",u[1]),n.setAttributeNS(null,"r",m),n.setAttributeNS(null,"fx",d[0]),n.setAttributeNS(null,"fy",d[1]),n.setAttributeNS(null,"fr",f);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}o=i(g);try{for(o.s();!(p=o.n()).done;)r=p.value,a=this.svgFactory.createElement("svg:stop"),a.setAttributeNS(null,"offset",r[0]),a.setAttributeNS(null,"stop-color",r[1]),n.appendChild(a)}catch(e){o.e(e)}finally{o.f()}return this.defs.appendChild(n),"url(#".concat(h,")");case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function(t,n){this.current.dashArray=t,this.current.dashPhase=n}},{key:"constructPath",value:function(t,n){var h,m,f,p,g,v,d=this.current,r=d.x,c=d.y,l=[],a=0,u=i(t);try{for(u.s();!(v=u.n()).done;)switch(f=v.value,f|0){case s.OPS.rectangle:r=n[a++],c=n[a++],p=n[a++],g=n[a++],h=r+p,m=c+g,l.push("M",o(r),o(c),"L",o(h),o(c),"L",o(h),o(m),"L",o(r),o(m),"Z");break;case s.OPS.moveTo:r=n[a++],c=n[a++],l.push("M",o(r),o(c));break;case s.OPS.lineTo:r=n[a++],c=n[a++],l.push("L",o(r),o(c));break;case s.OPS.curveTo:r=n[a+4],c=n[a+5],l.push("C",o(n[a]),o(n[a+1]),o(n[a+2]),o(n[a+3]),o(r),o(c)),a+=6;break;case s.OPS.curveTo2:l.push("C",o(r),o(c),o(n[a]),o(n[a+1]),o(n[a+2]),o(n[a+3])),r=n[a+2],c=n[a+3],a+=4;break;case s.OPS.curveTo3:r=n[a+2],c=n[a+3],l.push("C",o(n[a]),o(n[a+1]),o(r),o(c),o(r),o(c)),a+=4;break;case s.OPS.closePath:l.push("Z");break}}catch(e){u.e(e)}finally{u.f()}l=l.join(" "),d.path&&t.length>0&&t[0]!==s.OPS.rectangle&&t[0]!==s.OPS.moveTo?l=d.path.getAttributeNS(null,"d")+l:(d.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(d.path)),d.path.setAttributeNS(null,"d",l),d.path.setAttributeNS(null,"fill","none"),d.element=d.path,d.setCurrentPoint(r,c)}},{key:"endPath",value:function(){var n,s,o,a,c,l,t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element){this.pendingClip=null;return}if(a="clippath".concat(E++),n=this.svgFactory.createElement("svg:clipPath"),n.setAttributeNS(null,"id",a),n.setAttributeNS(null,"transform",r(this.transformMatrix)),o=t.element.cloneNode(!0),this.pendingClip==="evenodd"?o.setAttributeNS(null,"clip-rule","evenodd"):o.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(o),this.defs.appendChild(n),t.activeClipUrl){t.clipGroup=null,s=i(this.extraStack);try{for(s.s();!(c=s.n()).done;)l=c.value,l.clipGroup=null}catch(e){s.e(e)}finally{s.f()}n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(a,")"),this.tgrp=null}},{key:"clip",value:function(t){this.pendingClip=t}},{key:"closePath",value:function(){var n,t=this.current;t.path&&(n="".concat(t.path.getAttributeNS(null,"d"),"Z"),t.path.setAttributeNS(null,"d",n))}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function(){}},{key:"setFlatness",value:function(){}},{key:"setGState",value:function(t){o=i(t);try{for(o.s();!(a=o.n()).done;){var o,a,r=c(a.value,2),l=r[0],n=r[1];switch(l){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,s.warn)("Unimplemented graphic state operator ".concat(l));break}}}catch(e){o.e(e)}finally{o.f()}}},{key:"fill",value:function(){var t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=this.current,i=n.dashArray;s!==1&&i.length>0&&(i=i.map(function(e){return s*e})),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",o(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",o(s*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",i.map(o).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",o(s*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}},{key:"paintImageXObject",value:function(t){var n=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(!n){(0,s.warn)("Dependent image with object ID ".concat(t," is not ready yet"));return}this.paintInlineImageXObject(n)}},{key:"paintInlineImageXObject",value:function(t,n){var s,r=t.width,a=t.height,c=O(t,this.forceDataSchema,!!n),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",o(r)),i.setAttributeNS(null,"height",o(a)),this.current.element=i,this.clip("nonzero"),s=this.svgFactory.createElement("svg:image"),s.setAttributeNS(b,"xlink:href",c),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",o(-a)),s.setAttributeNS(null,"width",o(r)+"px"),s.setAttributeNS(null,"height",o(a)+"px"),s.setAttributeNS(null,"transform","scale(".concat(o(1/r)," ").concat(o(-1/a),")")),n?n.appendChild(s):this._ensureTransformGroup().appendChild(s)}},{key:"paintImageMaskXObject",value:function(t){var n,i,s=this.current,a=t.width,r=t.height,c=s.fillColor;s.maskId="mask".concat(y++),i=this.svgFactory.createElement("svg:mask"),i.setAttributeNS(null,"id",s.maskId),n=this.svgFactory.createElement("svg:rect"),n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width",o(a)),n.setAttributeNS(null,"height",o(r)),n.setAttributeNS(null,"fill",c),n.setAttributeNS(null,"mask","url(#".concat(s.maskId,")")),this.defs.appendChild(i),this._ensureTransformGroup().appendChild(n),this.paintInlineImageXObject(t,i)}},{key:"paintFormXObjectBegin",value:function(t,n){if(Array.isArray(t)&&t.length===6&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),n){var i=n[2]-n[0],a=n[3]-n[1],s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x",n[0]),s.setAttributeNS(null,"y",n[1]),s.setAttributeNS(null,"width",o(i)),s.setAttributeNS(null,"height",o(a)),this.current.element=s,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(t){var n,s=this.svgFactory.create(t.width,t.height),o=this.svgFactory.createElement("svg:defs");return s.appendChild(o),this.defs=o,n=this.svgFactory.createElement("svg:g"),n.setAttributeNS(null,"transform",r(t.transform)),s.appendChild(n),this.svg=n,s}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",r(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},(e,t,n)=>{"use strict";function O(e){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var c,m,f,j,y,_,w,x,E,k,M,z,h=N(n(156)),o=n(1),F=n(179);function N(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},b(e,t)}function u(e){var t=R();return function(){var s,i,o=d(e);return t?(i=d(this).constructor,s=Reflect.construct(o,arguments,i)):s=o.apply(this,arguments),D(this,s)}}function D(e,t){if(t&&(O(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(e)}function S(e,t,n,s,o,i,a){try{var c=e[i](a),r=c.value}catch(e){n(e);return}c.done?t(r):Promise.resolve(r).then(s,o)}function A(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){S(a,s,o,i,r,"next",e)}function r(e){S(a,s,o,i,r,"throw",e)}i(void 0)})}}function P(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=H(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function H(e,t){if(!e)return;if(typeof e=="string")return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}function T(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function a(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}c=s(),y=p(),j=g(),f=v(),m=/^file:\/\/\/[a-zA-Z]:\//;function I(e){var t=f.parse(e);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(e)?f.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}x=function(){function e(t){i(this,e),this.source=t,this.url=I(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return a(e,[{key:"_progressiveDataLength",get:function(){var t,n;return(t=(n=this._fullRequestReader)===null||n===void 0?void 0:n._loaded)!==null&&t!==void 0?t:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new E(this):new M(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,n){if(n<=this._progressiveDataLength)return null;var s=this.isFsUrl?new z(this,t,n):new k(this,t,n);return this._rangeRequestReaders.push(s),s}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var s,o,n=P(this._rangeRequestReaders.slice(0));try{for(n.s();!(s=n.n()).done;)o=s.value,o.cancel(t)}catch(e){n.e(e)}finally{n.f()}}}]),e}(),t.PDFNodeStream=x,w=function(){function e(t){i(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}return a(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=A(h.default.mark(function e(){var t,n;return h.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:return s.next=2,this._readCapability.promise;case 2:if(!this._done){s.next=4;break}return s.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){s.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),t!==null){s.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),s.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,s.abrupt("return",{value:n,done:!1});case 14:case"end":return s.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var n=this;this._readableStream=t,t.on("readable",function(){n._readCapability.resolve()}),t.on("end",function(){t.destroy(),n._done=!0,n._readCapability.resolve()}),t.on("error",function(e){n._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),_=function(){function e(t){i(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)();var n=t.source;this._isStreamingSupported=!n.disableStream}return a(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=A(h.default.mark(function e(){var t,n;return h.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:return s.next=2,this._readCapability.promise;case 2:if(!this._done){s.next=4;break}return s.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){s.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),t!==null){s.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),s.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,s.abrupt("return",{value:n,done:!1});case 14:case"end":return s.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var n=this;this._readableStream=t,t.on("readable",function(){n._readCapability.resolve()}),t.on("end",function(){t.destroy(),n._done=!0,n._readCapability.resolve()}),t.on("error",function(e){n._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}();function r(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}M=function(e){l(t,e);var n=u(t);function t(e){i(this,t);var s=n.call(this,e),a=function(n){if(n.statusCode===404){i=new o.MissingPDFException('Missing PDF "'.concat(s._url,'".')),s._storedError=i,s._headersCapability.reject(i);return}s._headersCapability.resolve(),s._setReadableStream(n);var i,a=function(t){return s._readableStream.headers[t.toLowerCase()]},r=(0,F.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:e.isHttp,rangeChunkSize:s._rangeChunkSize,disableRange:s._disableRange}),c=r.allowRangeRequests,l=r.suggestedLength;s._isRangeSupported=c,s._contentLength=l||s._contentLength,s._filename=(0,F.extractFilenameFromHeader)(a)};return s._request=null,s._url.protocol==="http:"?s._request=y.request(r(s._url,e.httpHeaders),a):s._request=j.request(r(s._url,e.httpHeaders),a),s._request.on("error",function(e){s._storedError=e,s._headersCapability.reject(e)}),s._request.end(),s}return a(t)}(w),k=function(e){l(t,e);var n=u(t);function t(e,s,a){i(this,t),c=n.call(this,e),c._httpHeaders={};for(d in e.httpHeaders){var c,l,d,u=e.httpHeaders[d];if(typeof u=="undefined")continue;c._httpHeaders[d]=u}return c._httpHeaders.Range="bytes=".concat(s,"-").concat(a-1),l=function(t){if(t.statusCode===404){var n=new o.MissingPDFException('Missing PDF "'.concat(c._url,'".'));c._storedError=n;return}c._setReadableStream(t)},c._request=null,c._url.protocol==="http:"?c._request=y.request(r(c._url,c._httpHeaders),l):c._request=j.request(r(c._url,c._httpHeaders),l),c._request.on("error",function(e){c._storedError=e}),c._request.end(),c}return a(t)}(_),E=function(e){l(t,e);var n=u(t);function t(e){i(this,t);var s=n.call(this,e),a=decodeURIComponent(s._url.path);return m.test(s._url.href)&&(a=a.replace(/^\//,"")),c.lstat(a,function(e,t){if(e){e.code==="ENOENT"&&(e=new o.MissingPDFException('Missing PDF "'.concat(a,'".'))),s._storedError=e,s._headersCapability.reject(e);return}s._contentLength=t.size,s._setReadableStream(c.createReadStream(a)),s._headersCapability.resolve()}),s}return a(t)}(w),z=function(e){l(t,e);var n=u(t);function t(e,s,o){i(this,t);var a=n.call(this,e),r=decodeURIComponent(a._url.path);return m.test(a._url.href)&&(r=r.replace(/^\//,"")),a._setReadableStream(c.createReadStream(r,{start:s,end:o-1})),a}return a(t)}(_)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=c,t.extractFilenameFromHeader=r,t.validateRangeRequestCapabilities=a,t.validateResponseStatus=l;var s=n(1),o=n(180),i=n(158);function a(e){var o,n=e.getResponseHeader,i=e.isHttp,a=e.rangeChunkSize,r=e.disableRange,t={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return Number.isInteger(s)?(t.suggestedLength=s,s<=2*a?t:r||!i?t:n("Accept-Ranges")!=="bytes"?t:(o=n("Content-Encoding")||"identity",o!=="identity"?t:(t.allowRangeRequests=!0,t))):t}function r(e){var t,n=e("Content-Disposition");if(n){if(t=(0,o.getFilenameFromContentDispositionHeader)(n),t.includes("%"))try{t=decodeURIComponent(t)}catch{}if((0,i.isPdfFile)(t))return t}return null}function c(e,t){return e===404||e===0&&t.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+t+'".'):new s.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function l(e){return e===200||e===206}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=d;var i=n(1);function s(e,t){return l(e)||c(e,t)||r(e,t)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(e,t){if(!e)return;if(typeof e=="string")return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}function o(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function c(e,t){var s,o,i,a,r,n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n==null)return;s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(s.push(a.value),t&&s.length===t)break}catch(e){i=!0,r=e}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return s}function l(e){if(Array.isArray(e))return e}function d(e){var n,a,h,l=!0,t=c("filename\\*","i").exec(e);if(t)return t=t[1],n=r(t),n=unescape(n),n=m(n),n=u(n),d(n);if(t=f(e),t)return h=u(t),d(h);if(t=c("filename","i").exec(e),t)return t=t[1],a=r(t),a=u(a),d(a);function c(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(e,t){if(e){if(!/^[\x00-\xFF]+$/.test(t))return t;try{var s=new TextDecoder(e,{fatal:!0}),n=(0,i.stringToBytes)(t);t=s.decode(n),l=!1}catch{}}return t}function d(e){return l&&/[\x80-\xff]/.test(e)&&(e=o("utf-8",e),l&&(e=o("iso-8859-1",e))),e}function f(e){for(o=[],u=c("filename\\*((?!0\\d)\\d+)(\\*?)","ig");(d=u.exec(e))!==null;){var n,o,l,d,u,p=d,a=s(p,4),i=a[1],v=a[2],f=a[3],i=parseInt(i,10);if(i in o){if(i===0)break;continue}o[i]=[v,f]}l=[];for(n=0;n<o.length;++n){if(!(n in o))break;var h=s(o[n],2),g=h[0],t=h[1],t=r(t);g&&(t=unescape(t),n===0&&(t=m(t))),l.push(t)}return l.join("")}function r(e){if(e.startsWith('"')){for(var s,t=e.slice(1).split('\\"'),n=0;n<t.length;++n)s=t[n].indexOf('"'),s!==-1&&(t[n]=t[n].slice(0,s),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1");e=t.join('"')}return e}function m(e){var n,s,i,t=e.indexOf("'");return t===-1?e:(n=e.slice(0,t),s=e.slice(t+1),i=s.replace(/^[^']*'/,""),o(n,i))}function u(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,s){if(n==="q"||n==="Q")return s=s.replace(/_/g," "),s=s.replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),o(t,s);try{s=atob(s)}catch{}return o(t,s)})}return""}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var a,r,h,g,v,b,d=j(n(156)),o=n(1),i=n(179);function j(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,s,o,i,a){try{var c=e[i](a),r=c.value}catch(e){n(e);return}c.done?t(r):Promise.resolve(r).then(s,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){p(a,s,o,i,r,"next",e)}function r(e){p(a,s,o,i,r,"throw",e)}i(void 0)})}}function s(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=_(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function _(e,t){if(!e)return;if(typeof e=="string")return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}function u(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function c(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}r=200,a=206;function y(e){var n,t=e.response;return typeof t!="string"?t:(n=(0,o.stringToBytes)(t),n.buffer)}h=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(this,e),this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return c(e,[{key:"requestRange",value:function(t,n,s){var i,o={begin:t,end:n};for(i in s)o[i]=s[i];return this.request(o)}},{key:"requestFull",value:function(t){return this.request(t)}},{key:"request",value:function(t){var i,c,n=this.getXhr(),o=this.currXhrId++,s=this.pendingRequests[o]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(c in this.httpHeaders){if(i=this.httpHeaders[c],typeof i=="undefined")continue;n.setRequestHeader(c,i)}return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),s.expectedStatus=a):s.expectedStatus=r,n.responseType="arraybuffer",t.onError&&(n.onerror=function(){t.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,o),n.onprogress=this.onProgress.bind(this,o),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,n.send(null),o}},{key:"onProgress",value:function(t,n){var s,o=this.pendingRequests[t];if(!o)return;(s=o.onProgress)===null||s===void 0?void 0:s.call(o,n)}},{key:"onStateChange",value:function(t){var o,i,c,l,d,u,h,m,f,s=this.pendingRequests[t];if(!s)return;if(o=s.xhr,o.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),o.readyState!==4)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],o.status===0&&this.isHttp){(l=s.onError)===null||l===void 0?void 0:l.call(s,o.status);return}if(i=o.status||r,h=i===r&&s.expectedStatus===a,!h&&i!==s.expectedStatus){(d=s.onError)===null||d===void 0?void 0:d.call(s,o.status);return}c=y(o),i===a?(m=o.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(m),s.onDone({begin:parseInt(f[1],10),chunk:c})):c?s.onDone({begin:0,chunk:c}):(u=s.onError)===null||u===void 0?void 0:u.call(s,o.status)}},{key:"getRequestXhr",value:function(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function(t){return t in this.pendingRequests}},{key:"abortRequest",value:function(t){var n=this.pendingRequests[t].xhr;delete this.pendingRequests[t],n.abort()}}]),e}(),g=function(){function e(t){l(this,e),this._source=t,this._manager=new h(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return c(e,[{key:"_onRangeRequestReaderClosed",value:function(t){var n=this._rangeRequestReaders.indexOf(t);n>=0&&this._rangeRequestReaders.splice(n,1)}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new v(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(t,n){var s=new b(this._manager,t,n);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}},{key:"cancelAllRequests",value:function(t){(o=this._fullRequestReader)===null||o===void 0?void 0:o.cancel(t);var o,i,a,n=s(this._rangeRequestReaders.slice(0));try{for(n.s();!(i=n.n()).done;)a=i.value,a.cancel(t)}catch(e){n.e(e)}finally{n.f()}}}]),e}(),t.PDFNetworkStream=g,v=function(){function e(t,n){l(this,e),this._manager=t;var s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(s),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return c(e,[{key:"_onHeadersReceived",value:function(){var t=this._fullRequestId,o=this._manager.getRequestXhr(t),n=function(t){return o.getResponseHeader(t)},s=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=s.allowRangeRequests,r=s.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(t){if(t)if(this._requests.length>0){var n,o,i,a=this._requests.shift();a.resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,this._cachedChunks.length>0)return;n=s(this._requests);try{for(n.s();!(o=n.n()).done;)i=o.value,i.resolve({value:void 0,done:!0})}catch(e){n.e(e)}finally{n.f()}this._requests.length=0}},{key:"_onError",value:function(t){this._storedError=(0,i.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);var o,a,n=s(this._requests);try{for(n.s();!(o=n.n()).done;)a=o.value,a.reject(this._storedError)}catch(e){n.e(e)}finally{n.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(t){var n;(n=this.onProgress)===null||n===void 0?void 0:n.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var e=f(d.default.mark(function e(){var t,n;return d.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:if(!this._storedError){s.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){s.next=5;break}return n=this._cachedChunks.shift(),s.abrupt("return",{value:n,done:!1});case 5:if(!this._done){s.next=7;break}return s.abrupt("return",{value:void 0,done:!0});case 7:return t=(0,o.createPromiseCapability)(),this._requests.push(t),s.abrupt("return",t.promise);case 10:case"end":return s.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(t){this._done=!0,this._headersReceivedCapability.reject(t);var o,i,n=s(this._requests);try{for(n.s();!(o=n.n()).done;)i=o.value,i.resolve({value:void 0,done:!0})}catch(e){n.e(e)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),e}(),b=function(){function e(t,n,s){l(this,e),this._manager=t;var o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(n,s,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return c(e,[{key:"_close",value:function(){var t;(t=this.onClosed)===null||t===void 0?void 0:t.call(this,this)}},{key:"_onDone",value:function(t){var n,i,a,r,o=t.chunk;this._requests.length>0?(i=this._requests.shift(),i.resolve({value:o,done:!1})):this._queuedChunk=o,this._done=!0,n=s(this._requests);try{for(n.s();!(a=n.n()).done;)r=a.value,r.resolve({value:void 0,done:!0})}catch(e){n.e(e)}finally{n.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(t){this._storedError=(0,i.createResponseStatusError)(t,this._url);var o,a,n=s(this._requests);try{for(n.s();!(o=n.n()).done;)a=o.value,a.reject(this._storedError)}catch(e){n.e(e)}finally{n.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(t){if(!this.isStreamingSupported){var n;(n=this.onProgress)===null||n===void 0?void 0:n.call(this,{loaded:t.loaded})}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=f(d.default.mark(function e(){var t,n;return d.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:if(!this._storedError){s.next=2;break}throw this._storedError;case 2:if(this._queuedChunk===null){s.next=6;break}return n=this._queuedChunk,this._queuedChunk=null,s.abrupt("return",{value:n,done:!1});case 6:if(!this._done){s.next=8;break}return s.abrupt("return",{value:void 0,done:!0});case 8:return t=(0,o.createPromiseCapability)(),this._requests.push(t),s.abrupt("return",t.promise);case 11:case"end":return s.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this._done=!0;var o,i,n=s(this._requests);try{for(n.s();!(o=n.n()).done;)i=o.value,i.resolve({value:void 0,done:!0})}catch(e){n.e(e)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),e}()},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var l,f,g,o=j(n(156)),i=n(1),s=n(179);function j(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,s,o,i,a){try{var c=e[i](a),r=c.value}catch(e){n(e);return}c.done?t(r):Promise.resolve(r).then(s,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(s,o){var a=e.apply(t,n);function i(e){h(a,s,o,i,r,"next",e)}function r(e){h(a,s,o,i,r,"throw",e)}i(void 0)})}}function b(e,t){if(n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!n){if(Array.isArray(e)||(n=v(e))||t&&e&&typeof e.length=="number")return n&&(e=n),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(t){throw t},f:o};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s,o,r,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(a)throw r}}}}function v(e,t){if(!e)return;if(typeof e=="string")return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}function c(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function a(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,n){return{method:"GET",headers:e,signal:n?.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function d(e){var t,s,n=new Headers;for(s in e){if(t=e[s],typeof t=="undefined")continue;n.append(s,t)}return n}l=function(){function e(t){r(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return a(e,[{key:"_progressiveDataLength",get:function(){var t,n;return(t=(n=this._fullRequestReader)===null||n===void 0?void 0:n._loaded)!==null&&t!==void 0?t:0}},{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,n){if(n<=this._progressiveDataLength)return null;var s=new g(this,t,n);return this._rangeRequestReaders.push(s),s}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var s,o,n=b(this._rangeRequestReaders.slice(0));try{for(n.s();!(s=n.n()).done;)o=s.value,o.cancel(t)}catch(e){n.e(e)}finally{n.f()}}}]),e}(),t.PDFFetchStream=l,f=function(){function e(t){var o,a,n=this;r(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null,o=t.source,this._withCredentials=o.withCredentials||!1,this._contentLength=o.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=o.disableRange||!1,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!o.disableStream,this._isRangeSupported=!o.disableRange,this._headers=d(this._stream.httpHeaders),a=o.url,fetch(a,p(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,s.validateResponseStatus)(e.status))throw(0,s.createResponseStatusError)(e.status,a);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(n){return e.headers.get(n)},o=(0,s.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),r=o.allowRangeRequests,c=o.suggestedLength;n._isRangeSupported=r,n._contentLength=c||n._contentLength,n._filename=(0,s.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return a(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=u(o.default.mark(function e(){var t,n,s,i;return o.default.wrap(function(o){for(;1;)switch(o.prev=o.next){case 0:return o.next=2,this._headersCapability.promise;case 2:return o.next=4,this._reader.read();case 4:if(n=o.sent,t=n.value,s=n.done,!s){o.next=9;break}return o.abrupt("return",{value:t,done:s});case 9:return this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),i=new Uint8Array(t).buffer,o.abrupt("return",{value:i,done:!1});case 13:case"end":return o.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}]),e}(),g=function(){function e(t,n,o){var a,c,l=this;r(this,e),this._stream=t,this._reader=null,this._loaded=0,a=t.source,this._withCredentials=a.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=d(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(o-1)),c=a.url,fetch(c,p(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,s.validateResponseStatus)(e.status))throw(0,s.createResponseStatusError)(e.status,c);l._readCapability.resolve(),l._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return a(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=u(o.default.mark(function e(){var t,n,s,i;return o.default.wrap(function(o){for(;1;)switch(o.prev=o.next){case 0:return o.next=2,this._readCapability.promise;case 2:return o.next=4,this._reader.read();case 4:if(n=o.sent,t=n.value,s=n.done,!s){o.next=9;break}return o.abrupt("return",{value:t,done:s});case 9:return this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),i=new Uint8Array(t).buffer,o.abrupt("return",{value:i,done:!1});case 13:case"end":return o.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}]),e}()}],n={};function e(t){var s,i=n[t];return i!==void 0?i.exports:(s=n[t]={id:t,loaded:!1,exports:{}},o[t](s,s.exports,e),s.loaded=!0,s.exports)}return(()=>{e.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),t={},(()=>{"use strict";if(n=t,Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AnnotationLayer",{enumerable:!0,get:function(){return r.AnnotationLayer}}),Object.defineProperty(n,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(n,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(n,"GlobalWorkerOptions",{enumerable:!0,get:function(){return c.GlobalWorkerOptions}}),Object.defineProperty(n,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(n,"LoopbackPort",{enumerable:!0,get:function(){return i.LoopbackPort}}),Object.defineProperty(n,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(n,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(n,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(n,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(n,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(n,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(n,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(n,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(n,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(n,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}}),Object.defineProperty(n,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(n,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(n,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(n,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(n,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}}),Object.defineProperty(n,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(n,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(n,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(n,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(n,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(n,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(n,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(n,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(n,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(n,"renderTextLayer",{enumerable:!0,get:function(){return d.renderTextLayer}}),Object.defineProperty(n,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return i.version}}),s=e(1),i=e(155),o=e(158),r=e(173),c=e(166),l=e(3),d=e(176),u=e(177),f=e(175),j="2.14.305",b="eaaa8b4ad",l.isNodeJS){var n,s,o,i,a,r,c,l,d,u,h,m,f,p,b,j,v=e(178),g=v.PDFNodeStream;(0,i.setPDFNetworkStreamFactory)(function(e){return new g(e)})}else a=e(181),m=a.PDFNetworkStream,h=e(182),p=h.PDFFetchStream,(0,i.setPDFNetworkStreamFactory)(function(e){return(0,o.isValidFetchUrl)(e.url)?new p(e):new m(e)})})(),t})())}}),c=h(b()),y="https://phelipetls.github.io/js/pdf.worker.min.js";c.GlobalWorkerOptions.workerSrc=y,n=document.querySelector("[data-resume]"),i=n.dataset.resume,t=document.querySelector("[data-resume-canvas]"),l=document.querySelector("[data-resume-loading]"),c.getDocument(i).promise.then(function(e){e.getPage(1).then(function(e){const i=n.clientWidth/e.getViewport({scale:1}).width,s=e.getViewport({scale:i}),o=window.devicePixelRatio||1,a=t.getContext("2d");t.width=Math.floor(s.width*o),t.height=Math.floor(s.height*o),t.style.width=Math.floor(s.width)+"px",t.style.height=Math.floor(s.height)+"px";const r=o!==1?[o,0,0,o,0,0]:null,c={canvasContext:a,transform:r,viewport:s},l=e.render(c);return l.promise})}).catch(function(){n.classList.add("hidden")}).then(function(){t.classList.remove("hidden"),l.classList.add("hidden")})})()