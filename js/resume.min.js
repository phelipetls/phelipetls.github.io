(()=>{var C=Object.create,a,n,t,x,u,s=Object.defineProperty,O=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,w=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty,y=e=>s(e,"__esModule",{value:!0}),c=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),e=(t,e)=>function(){return e||(0,t[i(t)[0]])((e={exports:{}}).exports,e),e.exports},j=(t,e,o,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of i(e))!_.call(t,a)&&(o||a!=="default")&&s(t,a,{get:()=>e[a],enumerable:!(n=O(e,a))||n.enumerable});return t},d=(e,t)=>j(y(s(e!=null?C(w(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),m=e({"node_modules/pdfobject/pdfobject.js"(t,e){(function(n,t){typeof define=="function"&&define.amd?define([],t):typeof e=="object"&&e.exports?e.exports=t():n.PDFObject=t()})(t,function(){"use strict";if(typeof window=="undefined"||window.navigator===void 0||window.navigator.userAgent===void 0||window.navigator.mimeTypes===void 0)return!1;let c="2.2.7",e=window.navigator,t=window.navigator.userAgent,v="ActiveXObject"in window,p=window.Promise!==void 0,f=e.mimeTypes["application/pdf"]!==void 0,h=e.platform!==void 0&&e.platform==="MacIntel"&&e.maxTouchPoints!==void 0&&e.maxTouchPoints>1,n=h||/Mobi|Tablet|Android|iPad|iPhone/.test(t),d=!n&&e.vendor!==void 0&&/Apple/.test(e.vendor)&&/Safari/.test(t),l=!!(!n&&/irefox/.test(t)&&t.split("rv:").length>1)&&parseInt(t.split("rv:")[1].split(".")[0],10)>18,o=function(t){var e;try{e=new ActiveXObject(t)}catch(t){e=null}return e},u=function(){return!!(o("AcroPDF.PDF")||o("PDF.PdfCtrl"))},r=!n&&(p||l||f||v&&u()),m=function(t){let e="",n;if(t){for(n in t)t.hasOwnProperty(n)&&(e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&");e&&(e="#"+e,e=e.slice(0,e.length-1))}return e},s=function(e,t){return t||console.log("[PDFObject] "+e),!1},a=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},g=function(e){let t=document.body;return typeof e=="string"?t=document.querySelector(e):window.jQuery!==void 0&&e instanceof jQuery&&e.length?t=e.get(0):e.nodeType!==void 0&&e.nodeType===1&&(t=e),t},i=function(t,o,l,d,s,i,r){a(t);let c=d+"?file="+encodeURIComponent(o)+l,n=document.createElement("div"),e=document.createElement("iframe");return e.src=c,e.className="pdfobject",e.type="application/pdf",e.frameborder="0",e.allow="fullscreen",e.title=i,s&&(e.id=s),r||(n.style.cssText="position: absolute; top: 0; right: 0; bottom: 0; left: 0;",e.style.cssText="border: none; width: 100%; height: 100%;",t.style.position="relative",t.style.overflow="auto"),n.appendChild(e),t.appendChild(n),t.classList.add("pdfobject-container"),t.getElementsByTagName("iframe")[0]},b=function(t,n,s,i,u,r,c,o,l,d){a(n);let e=document.createElement(t);if(e.src=i+u,e.className="pdfobject",e.type="application/pdf",e.title=l,o&&(e.id=o),t==="iframe"&&(e.allow="fullscreen"),!d){let n=t==="embed"?"overflow: auto;":"border: none;";s&&s!==document.body?n+="width: "+r+"; height: "+c+";":n+="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",e.style.cssText=n}return n.classList.add("pdfobject-container"),n.appendChild(e),n.getElementsByTagName(t)[0]},j=function(t,j,k){let E=j||!1,e=k||{},l=typeof e.id=="string"?e.id:"",_=e.page||!1,v=e.pdfOpenParams||{},f=e.fallbackLink||!0,S=e.width||"100%",w=e.height||"100%",p=e.title||"Embedded PDF",A=typeof e.assumptionMode!="boolean"||e.assumptionMode,x=typeof e.forcePDFJS=="boolean"&&e.forcePDFJS,O=typeof e.supportRedirect=="boolean"&&e.supportRedirect,h=typeof e.omitInlineStyles=="boolean"&&e.omitInlineStyles,u=typeof e.suppressConsole=="boolean"&&e.suppressConsole,C=typeof e.forceIframe=="boolean"&&e.forceIframe,c=e.PDFJS_URL||!1,o=g(E),y="",a="",M="<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>";if(typeof t!="string")return s("URL is not valid",u);if(!o)return s("Target element cannot be determined",u);if(_&&(v.page=_),a=m(v),x&&c)return i(o,t,a,c,l,p,h);if(r||A&&!n){let e=C||O||d?"iframe":"embed";return b(e,o,j,t,a,S,w,l,p,h)}return c?i(o,t,a,c,l,p,h):(f&&(y=typeof f=="string"?f:M,o.innerHTML=y.replace(/\[url\]/g,t)),s("This browser does not support embedded PDFs",u))};return{embed:function(e,t,n){return j(e,t,n)},pdfobjectversion:function(){return c}(),supportsPDFs:function(){return r}()}})}}),o=e({"(disabled):fs"(){}}),h=e({"(disabled):node_modules/canvas/browser.js"(){}}),f=e({"(disabled):zlib"(){}}),p=e({"(disabled):http"(){}}),g=e({"(disabled):https"(){}}),v=e({"(disabled):url"(){}}),b=e({"node_modules/pdfjs-dist/legacy/build/pdf.js"(e,t){(function(s,n){typeof e=="object"&&typeof t=="object"?t.exports=n():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],n):typeof e=="object"?e["pdfjs-dist/build/pdf"]=n():s["pdfjs-dist/build/pdf"]=s.pdfjsLib=n()})(e,function(){return(()=>{var s=[,(K,e,u)=>{"use strict";function r(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(e){return typeof e}:r=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.LinkTarget=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.addLinkAttributes=N,e.deprecated=$,e.getFilenameFromUrl=P,e.getPdfFilenameFromUrl=H,e.getXfaPageViewport=L,e.isDataScheme=w,e.isPdfFile=R,e.isValidFetchUrl=f,e.loadScript=V;var g=W(u(2)),A,x,C,E,S,M,F,b,z,o,I,m,U,t=u(4),c=u(135);function W(e){return e&&e.__esModule?e:{default:e}}function p(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=B(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function B(e,n){if(!e)return;if(typeof e=="string")return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,n)}function _(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function v(n,r,c,s,o,i,a){try{var e=n[i](a),t=e.value}catch(e){c(e);return}e.done?r(t):Promise.resolve(t).then(s,o)}function T(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){v(a,o,i,s,r,"next",e)}function r(e){v(a,o,i,s,r,"throw",e)}s(void 0)})}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function s(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function i(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function a(e){var t=O();return function(){var s=l(e),n,o;return t?(o=l(this).constructor,n=Reflect.construct(s,arguments,o)):n=s.apply(this,arguments),k(this,n)}}function k(t,e){if(e&&(r(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(t)}function D(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}A="noopener noreferrer nofollow",x="http://www.w3.org/2000/svg",C={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,t.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}},e.PixelsPerInch=C,E=function(t){i(e,t);var o=a(e);function e(){var t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=i.ownerDocument,a=s===void 0?globalThis.document:s;return n(this,e),t=o.call(this),t._document=a,t}return s(e,[{key:"_createCanvas",value:function(t,n){var e=this._document.createElement("canvas");return e.width=t,e.height=n,e}}]),e}(c.BaseCanvasFactory),e.DOMCanvasFactory=E;function j(){return h.apply(this,arguments)}function h(){return h=T(g.default.mark(function i(s){var e,n,o=arguments;return g.default.wrap(function(i){for(;1;)switch(i.prev=i.next){case 0:if(e=!!(o.length>1&&o[1]!==void 0)&&o[1],!f(s,document.baseURI)){i.next=21;break}return i.next=4,fetch(s);case 4:if(n=i.sent,n.ok){i.next=7;break}throw new Error(n.statusText);case 7:if(!e){i.next=15;break}return i.t1=Uint8Array,i.next=11,n.arrayBuffer();case 11:i.t2=i.sent,i.t0=new i.t1(i.t2),i.next=20;break;case 15:return i.t3=t.stringToBytes,i.next=18,n.text();case 18:i.t4=i.sent,i.t0=(0,i.t3)(i.t4);case 20:return i.abrupt("return",i.t0);case 21:return i.abrupt("return",new Promise(function(o,i){var n=new XMLHttpRequest;n.open("GET",s,!0),e&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState!==XMLHttpRequest.DONE)return;if(n.status===200||n.status===0){var s;if(e&&n.response?s=new Uint8Array(n.response):!e&&n.responseText&&(s=(0,t.stringToBytes)(n.responseText)),s){o(s);return}}i(new Error(n.statusText))},n.send(null)}));case 22:case"end":return i.stop()}},i)})),h.apply(this,arguments)}S=function(t){i(e,t);var o=a(e);function e(){return n(this,e),o.apply(this,arguments)}return s(e,[{key:"_fetchData",value:function(e,t){return j(e,this.isCompressed).then(function(e){return{cMapData:e,compressionType:t}})}}]),e}(c.BaseCMapReaderFactory),e.DOMCMapReaderFactory=S,M=function(t){i(e,t);var o=a(e);function e(){return n(this,e),o.apply(this,arguments)}return s(e,[{key:"_fetchData",value:function(e){return j(e,!0)}}]),e}(c.BaseStandardFontDataFactory),e.DOMStandardFontDataFactory=M,F=function(t){i(e,t);var o=a(e);function e(){return n(this,e),o.apply(this,arguments)}return s(e,[{key:"_createSVG",value:function(e){return document.createElementNS(x,e)}}]),e}(c.BaseSVGFactory),e.DOMSVGFactory=F,b=function(){function e(r){var t=r.viewBox,s=r.scale,l=r.rotation,b=r.offsetX,g=b===void 0?0:b,y=r.offsetY,f=y===void 0?0:y,j=r.dontFlip,_=j!==void 0&&j,u,d,a,c,i,o,h,m,v,p;switch(n(this,e),this.viewBox=t,this.scale=s,this.rotation=l,this.offsetX=g,this.offsetY=f,u=(t[2]+t[0])/2,d=(t[3]+t[1])/2,l%=360,l<0&&(l+=360),l){case 180:a=-1,c=0,i=0,o=1;break;case 90:a=0,c=1,i=1,o=0;break;case 270:a=0,c=-1,i=-1,o=0;break;case 0:a=1,c=0,i=0,o=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}_&&(i=-i,o=-o),a===0?(h=Math.abs(d-t[1])*s+g,m=Math.abs(u-t[0])*s+f,v=Math.abs(t[3]-t[1])*s,p=Math.abs(t[2]-t[0])*s):(h=Math.abs(u-t[0])*s+g,m=Math.abs(d-t[1])*s+f,v=Math.abs(t[2]-t[0])*s,p=Math.abs(t[3]-t[1])*s),this.transform=[a*s,c*s,i*s,o*s,h-a*s*u-i*s*d,m-c*s*u-o*s*d],this.width=v,this.height=p}return s(e,[{key:"clone",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.scale,r=s===void 0?this.scale:s,o=t.rotation,c=o===void 0?this.rotation:o,n=t.offsetX,l=n===void 0?this.offsetX:n,i=t.offsetY,d=i===void 0?this.offsetY:i,a=t.dontFlip,u=a!==void 0&&a;return new e({viewBox:this.viewBox.slice(),scale:r,rotation:c,offsetX:l,offsetY:d,dontFlip:u})}},{key:"convertToViewportPoint",value:function(e,n){return t.Util.applyTransform([e,n],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var n=t.Util.applyTransform([e[0],e[1]],this.transform),s=t.Util.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],s[0],s[1]]}},{key:"convertToPdfPoint",value:function(e,n){return t.Util.applyInverseTransform([e,n],this.transform)}}]),e}(),e.PageViewport=b,z=function(t){i(e,t);var s=a(e);function e(o,i){var t;return n(this,e),t=s.call(this,o,"RenderingCancelledException"),t.type=i,t}return e}(t.BaseException),e.RenderingCancelledException=z,o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},e.LinkTarget=o;function N(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.url,l=s.target,a=s.rel,r=s.enabled,d=r===void 0||r,c,n;switch((0,t.assert)(i&&typeof i=="string",'addLinkAttributes: A valid "url" parameter must provided.'),c=(0,t.removeNullCharacters)(i),d?e.href=e.title=c:(e.href="",e.title="Disabled: ".concat(c),e.onclick=function(){return!1}),n="",l){case o.NONE:break;case o.SELF:n="_self";break;case o.BLANK:n="_blank";break;case o.PARENT:n="_parent";break;case o.TOP:n="_top";break}e.target=n,e.rel=typeof a=="string"?a:A}function w(t){for(var n=t.length,e=0;e<n&&t[e].trim()==="";)e++;return t.substring(e,e+5).toLowerCase()==="data:"}function R(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function P(e){var t=e.indexOf("#"),n=e.indexOf("?"),s=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",s)+1,s)}function H(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf",a,n,i,e;if(typeof s!="string")return o;if(w(s))return(0,t.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),o;if(a=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=a.exec(s),e=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]),e)if(e=e[0],e.includes("%"))try{e=n.exec(decodeURIComponent(e))[0]}catch(e){}return e||o}I=function(){function e(){n(this,e),this.started=Object.create(null),this.times=[]}return s(e,[{key:"time",value:function(e){e in this.started&&(0,t.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,t.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var a=[],i,c,o,e,r,s,l,n=0,t=p(this.times);try{for(t.s();!(i=t.n()).done;)c=i.value,o=c.name,o.length>n&&(n=o.length)}catch(e){t.e(e)}finally{t.f()}e=p(this.times);try{for(e.s();!(r=e.n()).done;)s=r.value,l=s.end-s.start,a.push("".concat(s.name.padEnd(n)," ").concat(l,"ms\n"))}catch(t){e.e(t)}finally{e.f()}return a.join("")}}]),e}(),e.StatTimer=I;function f(e,t){try{var s=t?new URL(e,t):new URL(e),n=s.protocol;return n==="http:"||n==="https:"}catch(e){return!1}}function V(e){var t=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1];return new Promise(function(s,o){var n=document.createElement("script");n.src=e,n.onload=function(e){t&&n.remove(),s(e)},n.onerror=function(){o(new Error("Cannot load script at: ".concat(n.src)))},(document.head||document.documentElement).appendChild(n)})}function $(e){console.log("Deprecated API usage: "+e)}U=function(){function e(){n(this,e)}return s(e,null,[{key:"toDateObject",value:function(l){if(!l||!(0,t.isString)(l))return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var e=m.exec(l),u,r,c,n,s,a,d,o,i;return e?(u=parseInt(e[1],10),r=parseInt(e[2],10),r=r>=1&&r<=12?r-1:0,c=parseInt(e[3],10),c=c>=1&&c<=31?c:1,n=parseInt(e[4],10),n=n>=0&&n<=23?n:0,s=parseInt(e[5],10),s=s>=0&&s<=59?s:0,a=parseInt(e[6],10),a=a>=0&&a<=59?a:0,d=e[7]||"Z",o=parseInt(e[8],10),o=o>=0&&o<=23?o:0,i=parseInt(e[9],10)||0,i=i>=0&&i<=59?i:0,d==="-"?(n+=o,s+=i):d==="+"&&(n-=o,s-=i),new Date(Date.UTC(u,r,c,n,s,a))):null}}]),e}(),e.PDFDateString=U;function L(a,t){var n=t.scale,o=n===void 0?1:n,s=t.rotation,i=s===void 0?0:s,e=a.attributes.style,r=e.width,c=e.height,l=[0,0,parseInt(r),parseInt(c)];return new b({viewBox:l,scale:o,rotation:i})}},(e,n,t)=>{"use strict";e.exports=t(3)},(t,o,s)=>{"use strict";t=s.nmd(t);function e(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(e){return typeof e}:e=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var n=function(s){"use strict";var A=Object.prototype,o,C,M,w,d,n,y,m,u,r,a=A.hasOwnProperty,b=typeof Symbol=="function"?Symbol:{},l=b.iterator||"@@iterator",F=b.asyncIterator||"@@asyncIterator",g=b.toStringTag||"@@toStringTag";function t(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{t({},"")}catch(e){t=function(e,t,n){return e[t]=n}}function O(n,e,s,o){var i=e&&e.prototype instanceof _?e:_,t=Object.create(i.prototype),a=new v(o||[]);return t._invoke=T(n,s,a),t}s.wrap=O;function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}C="suspendedStart",M="suspendedYield",w="executing",d="completed",n={};function _(){}function c(){}function i(){}y={},t(y,l,function(){return this}),m=Object.getPrototypeOf,u=m&&m(m(j([]))),u&&u!==A&&a.call(u,l)&&(y=u),r=i.prototype=_.prototype=Object.create(y),c.prototype=i,t(r,"constructor",i),t(i,"constructor",c),c.displayName=t(i,g,"GeneratorFunction");function x(e){["next","throw","return"].forEach(function(n){t(e,n,function(e){return this._invoke(n,e)})})}s.isGeneratorFunction=function(t){var e=typeof t=="function"&&t.constructor;return!!e&&(e===c||(e.displayName||e.name)==="GeneratorFunction")},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,t(e,g,"GeneratorFunction")),e.prototype=Object.create(r),e},s.awrap=function(e){return{__await:e}};function h(o,n){function t(u,d,i,r){var c=f(o[u],o,d),l,s;if(c.type==="throw")r(c.arg);else return l=c.arg,s=l.value,s&&e(s)==="object"&&a.call(s,"__await")?n.resolve(s.__await).then(function(e){t("next",e,i,r)},function(e){t("throw",e,i,r)}):n.resolve(s).then(function(e){l.value=e,i(l)},function(e){return t("throw",e,i,r)})}var s;function i(o,i){function e(){return new n(function(e,n){t(o,i,e,n)})}return s=s?s.then(e,e):e()}this._invoke=i}x(h.prototype),t(h.prototype,F,function(){return this}),s.AsyncIterator=h,s.async=function(o,n,i,a,e){e===void 0&&(e=Promise);var t=new h(O(o,n,i,a),e);return s.isGeneratorFunction(n)?t:t.next().then(function(e){return e.done?e.value:t.next()})};function T(s,o,e){var t=C;return function(r,c){if(t===w)throw new Error("Generator is already running");if(t===d){if(r==="throw")throw c;return E()}for(e.method=r,e.arg=c;!0;){var l=e.delegate,a,i;if(l)if(a=k(l,e),a){if(a===n)continue;return a}if(e.method==="next")e.sent=e._sent=e.arg;else if(e.method==="throw"){if(t===C)throw t=d,e.arg;e.dispatchException(e.arg)}else e.method==="return"&&e.abrupt("return",e.arg);if(t=w,i=f(s,o,e),i.type==="normal"){if(t=e.done?d:M,i.arg===n)continue;return{value:i.arg,done:e.done}}i.type==="throw"&&(t=d,e.method="throw",e.arg=i.arg)}}}function k(t,e){var a=t.iterator[e.method],i,s;if(a===o){if(e.delegate=null,e.method==="throw"){if(t.iterator.return)if(e.method="return",e.arg=o,k(t,e),e.method==="throw")return n;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return n}if(i=f(a,t.iterator,e.arg),i.type==="throw")return e.method="throw",e.arg=i.arg,e.delegate=null,n;if(s=i.arg,!s)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,n;if(s.done)e[t.resultName]=s.value,e.next=t.nextLoc,e.method!=="return"&&(e.method="next",e.arg=o);else return s;return e.delegate=null,n}x(r),t(r,g,"Generator"),t(r,l,function(){return this}),t(r,"toString",function(){return"[object Generator]"});function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function v(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}s.keys=function(t){var e=[],n;for(n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var s=e.pop();if(s in t)return n.value=s,n.done=!1,n}return n.done=!0,n}};function j(e){if(e){if(n=e[l],n)return n.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var n,t=-1,s=function n(){for(;++t<e.length;)if(a.call(e,t))return n.value=e[t],n.done=!1,n;return n.value=o,n.done=!0,n};return s.next=s}}return{next:E}}s.values=j;function E(){return{value:o,done:!0}}return v.prototype={constructor:v,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(p),!t)for(var e in this)e.charAt(0)==="t"&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=o)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this,s,e,i,c,l;function t(t,e){return i.type="throw",i.arg=r,n.next=t,e&&(n.method="next",n.arg=o),!!e}for(s=this.tryEntries.length-1;s>=0;--s){if(e=this.tryEntries[s],i=e.completion,e.tryLoc==="root")return t("end");if(e.tryLoc<=this.prev)if(c=a.call(e,"catchLoc"),l=a.call(e,"finallyLoc"),c&&l){{if(this.prev<e.catchLoc)return t(e.catchLoc,!0);if(this.prev<e.finallyLoc)return t(e.finallyLoc)}}else if(c){if(this.prev<e.catchLoc)return t(e.catchLoc,!0)}else if(l){if(this.prev<e.finallyLoc)return t(e.finallyLoc)}else throw new Error("try statement without catch or finally")}},abrupt:function(o,i){for(var r=this.tryEntries.length-1,t,e,s;r>=0;--r)if(t=this.tryEntries[r],t.tryLoc<=this.prev&&a.call(t,"finallyLoc")&&this.prev<t.finallyLoc){e=t;break}return e&&(o==="break"||o==="continue")&&e.tryLoc<=i&&i<=e.finallyLoc&&(e=null),s=e?e.completion:{},s.type=o,s.arg=i,e?(this.method="next",this.next=e.finallyLoc,n):this.complete(s)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),n},finish:function(s){for(var t=this.tryEntries.length-1,e;t>=0;--t)if(e=this.tryEntries[t],e.finallyLoc===s)return this.complete(e.completion,e.afterLoc),p(e),n},catch:function(s){for(var e=this.tryEntries.length-1,t,n,o;e>=0;--e)if(t=this.tryEntries[e],t.tryLoc===s)return n=t.completion,n.type==="throw"&&(o=n.arg,p(t)),o;throw new Error("illegal catch attempt")},delegateYield:function(e,t,s){return this.delegate={iterator:j(e),resultName:t,nextLoc:s},this.method==="next"&&(this.arg=o),n}},s}((e(t))==="object"?t.exports:{});try{regeneratorRuntime=n}catch(t){(typeof globalThis=="undefined"?"undefined":e(globalThis))==="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},(eN,e,eE)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.IsLittleEndianCached=e.IsEvalSupportedCached=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=b,e.arraysToBytes=e6,e.assert=r,e.bytesToString=em,e.createObjectURL=eD,e.createPromiseCapability=x,e.createValidAbsoluteUrl=ei,e.escapeString=eO,e.getModificationDate=ez,e.getVerbosityLevel=Z,e.info=J,e.isArrayBuffer=eF,e.isArrayEqual=eT,e.isAscii=ex,e.isBool=eA,e.isNum=eS,e.isSameOrigin=es,e.isString=eM,e.objectFromMap=e5,e.objectSize=eg,e.removeNullCharacters=eh,e.setVerbosityLevel=Q,e.shadow=u,e.string32=ep,e.stringToBytes=v,e.stringToPDFString=ew,e.stringToUTF16BEString=eC,e.stringToUTF8String=_,e.unreachable=g,e.utf8StringToString=ek,e.warn=y,eE(5);function j(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function ej(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function a(e){return er(e)||e8(e)||m(e)||ef()}function ef(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e8(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function er(e){if(Array.isArray(e))return f(e)}function ea(e,t){return w(e)||et(e,t)||m(e,t)||en()}function en(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function et(t,o){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"],n,s,i,a,r;if(e==null)return;n=[],s=!0,i=!1;try{for(e=e.call(t);!(s=(a=e.next()).done);s=!0)if(n.push(a.value),o&&n.length===o)break}catch(e){i=!0,r=e}finally{try{!s&&e.return!=null&&e.return()}finally{if(i)throw r}}return n}function w(e){if(Array.isArray(e))return e}function ee(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=m(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function m(e,n){if(!e)return;if(typeof e=="string")return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}function f(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function i(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(e){return typeof e}:i=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function o(e){var t=O();return function(){var s=c(e),n,o;return t?(o=c(this).constructor,n=Reflect.construct(s,arguments,o)):n=s.apply(this,arguments),U(this,n)}}function U(t,e){if(e&&(i(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(t)}function P(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var C=[1,0,0,1,0,0],E,k,A,S,M,F,T,z,D,N,L,R,X,H,I,B,V,$,W,d,K,q,Y,G,l,t,ec,el,ed,eu,e1,e4,e0,e2,e3,ev,eb,p,ey,e_;e.IDENTITY_MATRIX=C,E=[.001,0,0,.001,0,0],e.FONT_IDENTITY_MATRIX=E,k={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},e.RenderingIntentFlag=k,A={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e.AnnotationMode=A,S={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.PermissionFlag=S,M={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.TextRenderingMode=M,F={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.ImageKind=F,T={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationType=T,z={MARKED:"Marked",REVIEW:"Review"},e.AnnotationStateModelType=z,D={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationMarkedState=D,N={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReviewState=N,L={GROUP:"Group",REPLY:"R"},e.AnnotationReplyType=L,R={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFlag=R,X={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationFieldFlag=X,H={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationBorderStyleType=H,I={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.AnnotationActionEventType=I,B={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.DocumentActionEventType=B,V={O:"PageOpen",C:"PageClose"},e.PageActionEventType=V,$={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.StreamType=$,W={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"},e.FontType=W,d={ERRORS:0,WARNINGS:1,INFOS:5},e.VerbosityLevel=d,K={NONE:0,BINARY:1,STREAM:2},e.CMapCompressionType=K,q={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.OPS=q,Y={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},e.UNSUPPORTED_FEATURES=Y,G={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},e.PasswordResponses=G,l=d.WARNINGS;function Q(e){Number.isInteger(e)&&(l=e)}function Z(){return l}function J(e){l>=d.INFOS&&console.log("Info: ".concat(e))}function y(e){l>=d.WARNINGS&&console.log("Warning: ".concat(e))}function g(e){throw new Error(e)}function r(e,t){e||g(t)}function es(t,n){try{if(e=new URL(t),!e.origin||e.origin==="null")return!1}catch(e){return!1}var e,s=new URL(n,e);return e.origin===s.origin}function eo(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ei(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s,o,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e)return null;try{if(t&&typeof e=="string")if(t.addDefaultProtocol&&e.startsWith("www.")&&(s=e.match(/\./g),s&&s.length>=2&&(e="http://".concat(e))),t.tryConvertEncoding)try{e=_(e)}catch(e){}if(o=n?new URL(e,n):new URL(e),eo(o))return o}catch(e){}return null}function u(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!1}),e}t=function(){function e(t,n){this.constructor===e&&g("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}(),e.BaseException=t,ec=function(t){s(e,t);var i=o(e);function e(s,o){var t;return n(this,e),t=i.call(this,s,"PasswordException"),t.code=o,t}return e}(t),e.PasswordException=ec,el=function(t){s(e,t);var i=o(e);function e(s,o){var t;return n(this,e),t=i.call(this,s,"UnknownErrorException"),t.details=o,t}return e}(t),e.UnknownErrorException=el,ed=function(t){s(e,t);var i=o(e);function e(t){return n(this,e),i.call(this,t,"InvalidPDFException")}return e}(t),e.InvalidPDFException=ed,eu=function(t){s(e,t);var i=o(e);function e(t){return n(this,e),i.call(this,t,"MissingPDFException")}return e}(t),e.MissingPDFException=eu,e1=function(t){s(e,t);var i=o(e);function e(s,o){var t;return n(this,e),t=i.call(this,s,"UnexpectedResponseException"),t.status=o,t}return e}(t),e.UnexpectedResponseException=e1,e4=function(t){s(e,t);var i=o(e);function e(t){return n(this,e),i.call(this,t,"FormatError")}return e}(t),e.FormatError=e4,e0=function(t){s(e,t);var i=o(e);function e(t){return n(this,e),i.call(this,t,"AbortException")}return e}(t),e.AbortException=e0,e2=/\x00+/g,e3=/[\x01-\x1F]/g;function eh(e){var t=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1];return typeof e!="string"?(y("The argument for removeNullCharacters must be a string."),e):(t&&(e=e.replace(e3," ")),e.replace(e2,""))}function em(e){r(e!==null&&i(e)==="object"&&e.length!==void 0,"Invalid argument for bytesToString");var n=e.length,o,t,a,c,s=8192;if(n<s)return String.fromCharCode.apply(null,e);o=[];for(t=0;t<n;t+=s)a=Math.min(t+s,n),c=e.subarray(t,a),o.push(String.fromCharCode.apply(null,c));return o.join("")}function v(t){r(typeof t=="string","Invalid argument for stringToBytes");for(var n=t.length,s=new Uint8Array(n),e=0;e<n;++e)s[e]=t.charCodeAt(e)&255;return s}function b(e){return e.length!==void 0?e.length:(r(e.byteLength!==void 0,"arrayByteLength - invalid argument."),e.byteLength)}function e6(t){var o=t.length,i,n,a,r,s,e,c;if(o===1&&t[0]instanceof Uint8Array)return t[0];i=0;for(n=0;n<o;n++)i+=b(t[n]);a=0,r=new Uint8Array(i);for(s=0;s<o;s++)e=t[s],e instanceof Uint8Array||(typeof e=="string"?e=v(e):e=new Uint8Array(e)),c=e.byteLength,r.set(e,a),a+=c;return r}function ep(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function eg(e){return Object.keys(e).length}function e5(o){t=Object.create(null),e=ee(o);try{for(e.s();!(n=e.n()).done;){var t,e,n,s=ea(n.value,2),i=s[0],a=s[1];t[i]=a}}catch(t){e.e(t)}finally{e.f()}return t}function e7(){var e=new Uint8Array(4),t;return e[0]=1,t=new Uint32Array(e.buffer,0,1),t[0]===1}ev={get value(){return u(this,"value",e7())}},e.IsLittleEndianCached=ev;function e9(){try{return new Function(""),!0}catch(e){return!1}}eb={get value(){return u(this,"value",e9())}},e.IsEvalSupportedCached=eb,p=a(Array(256).keys()).map(function(e){return e.toString(16).padStart(2,"0")}),ey=function(){function e(){n(this,e)}return ej(e,null,[{key:"makeHexColor",value:function(e,t,n){return"#".concat(p[e]).concat(p[t]).concat(p[n])}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(t,e){var n=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[n,s]}},{key:"applyInverseTransform",value:function(t,e){var n=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[s,o]}},{key:"getAxialAlignedBoundingBox",value:function(t,s){var o=e.applyTransform(t,s),i=e.applyTransform(t.slice(2,4),s),a=e.applyTransform([t[0],t[3]],s),n=e.applyTransform([t[2],t[1]],s);return[Math.min(o[0],i[0],a[0],n[0]),Math.min(o[1],i[1],a[1],n[1]),Math.max(o[0],i[0],a[0],n[0]),Math.max(o[1],i[1],a[1],n[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],s=e[0]*t[0]+e[1]*t[2],a=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],n=e[2]*t[1]+e[3]*t[3],o=(s+n)/2,i=Math.sqrt(Math.pow(s+n,2)-4*(s*n-r*a))/2,c=o+i||1,l=o-i||1;return[Math.sqrt(c),Math.sqrt(l)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,n){function a(e,t){return e-t}var s=[t[0],t[2],n[0],n[2]].sort(a),o=[t[1],t[3],n[1],n[3]].sort(a),i=[];if(t=e.normalizeRect(t),n=e.normalizeRect(n),s[0]===t[0]&&s[1]===n[0]||s[0]===n[0]&&s[1]===t[0])i[0]=s[1],i[2]=s[2];else return null;if(o[0]===t[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===t[1])i[1]=o[1],i[3]=o[2];else return null;return i}},{key:"bezierBoundingBox",value:function(c,l,h,m,v,_,w,g){for(var r=[],n=[[],[]],o,s,f,e,u,p,b,j,i,t,d,y=0;y<2;++y){if(y===0?(s=6*c-12*h+6*v,o=-3*c+9*h-9*v+3*w,f=3*h-3*c):(s=6*l-12*m+6*_,o=-3*l+9*m-9*_+3*g,f=3*m-3*l),Math.abs(o)<1e-12){if(Math.abs(s)<1e-12)continue;e=-f/s,0<e&&e<1&&r.push(e);continue}if(b=s*s-4*f*o,j=Math.sqrt(b),b<0)continue;u=(-s+j)/(2*o),0<u&&u<1&&r.push(u),p=(-s-j)/(2*o),0<p&&p<1&&r.push(p)}for(i=r.length,d=i;i--;)e=r[i],t=1-e,n[0][i]=t*t*t*c+3*t*t*e*h+3*t*e*e*v+e*e*e*w,n[1][i]=t*t*t*l+3*t*t*e*m+3*t*e*e*_+e*e*e*g;return n[0][d]=c,n[1][d]=l,n[0][d+1]=w,n[1][d+1]=g,n[0].length=n[1].length=d+2,[Math.min.apply(Math,a(n[0])),Math.min.apply(Math,a(n[1])),Math.max.apply(Math,a(n[0])),Math.max.apply(Math,a(n[1]))]}}]),e}(),e.Util=ey,e_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ew(e){var i=e.length,t=[],n,s,o,a;if(e[0]==="\xFE"&&e[1]==="\xFF")for(n=2;n<i;n+=2)t.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)));else if(e[0]==="\xFF"&&e[1]==="\xFE")for(s=2;s<i;s+=2)t.push(String.fromCharCode(e.charCodeAt(s+1)<<8|e.charCodeAt(s)));else for(o=0;o<i;++o)a=e_[e.charCodeAt(o)],t.push(a?String.fromCharCode(a):e.charAt(o));return t.join("")}function eO(e){return e.replace(/([()\\\n\r])/g,function(e){return e==="\n"?"\\n":e==="\r"?"\\r":"\\".concat(e)})}function ex(e){return/^[\x00-\x7F]*$/.test(e)}function eC(t){n=["\xFE\xFF"];for(var n,e=0,o=t.length,s;e<o;e++)s=t.charCodeAt(e),n.push(String.fromCharCode(s>>8&255),String.fromCharCode(s&255));return n.join("")}function _(e){return decodeURIComponent(escape(e))}function ek(e){return unescape(encodeURIComponent(e))}function eA(e){return typeof e=="boolean"}function eS(e){return typeof e=="number"}function eM(e){return typeof e=="string"}function eF(e){return i(e)==="object"&&e!==null&&e.byteLength!==void 0}function eT(t,n){if(t.length!==n.length)return!1;for(var e=0,s=t.length;e<s;e++)if(t[e]!==n[e])return!1;return!0}function ez(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date,t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")}function x(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise(function(n,s){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,s(e)}}),e}function eD(t){if(r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=!!(arguments.length>2&&arguments[2]!==void 0)&&arguments[2],URL.createObjectURL&&typeof Blob!="undefined"&&!l)return URL.createObjectURL(new Blob([t],{type:r}));n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="data:".concat(r,";base64,");for(var r,l,n,i,e=0,s=t.length,c,a,o,d,u,h,m;e<s;e+=3)c=t[e]&255,a=t[e+1]&255,o=t[e+2]&255,d=c>>2,u=(c&3)<<4|a>>4,h=e+1<s?(a&15)<<2|o>>6:64,m=e+2<s?o&63:64,i+=n[d]+n[u]+n[h]+n[m];return i}},(n,s,e)=>{"use strict";var t=e(6);(typeof globalThis=="undefined"||!globalThis._pdfjsCompatibilityChecked)&&((typeof globalThis=="undefined"||globalThis.Math!==Math)&&(globalThis=e(7)),globalThis._pdfjsCompatibilityChecked=!0,function(){if(globalThis.btoa||!t.isNodeJS)return;globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}}(),function(){if(globalThis.atob||!t.isNodeJS)return;globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}}(),function(){if(globalThis.DOMMatrix||!t.isNodeJS)return;globalThis.DOMMatrix=e(69)}(),function(){if(Object.fromEntries)return;e(70)}(),function(){if(globalThis.Promise.allSettled)return;globalThis.Promise=e(97)}(),function(){if(globalThis.ReadableStream||!t.isNodeJS)return;globalThis.ReadableStream=e(134).ReadableStream}())},(s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;function e(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(e){return typeof e}:e=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var n=(typeof process=="undefined"?"undefined":e(process))==="object"&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=n},(t,n,e)=>{e(8),t.exports=e(10)},(s,o,e)=>{var t=e(9),n=e(10);t({global:!0},{globalThis:n})},(n,l,e)=>{var t=e(10),o=e(11).f,i=e(47),a=e(50),s=e(41),r=e(57),c=e(68);n.exports=function(e,p){var h=e.target,f,d,n,l,u,m,g=e.global,v=e.stat;if(g?d=t:v?d=t[h]||s(h,{}):d=(t[h]||{}).prototype,d)for(n in p){if(u=p[n],e.noTargetGet?(m=o(d,n),l=m&&m.value):l=d[n],f=c(g?n:h+(v?".":"#")+n,e.forced),!f&&l!==void 0){if(typeof u==typeof l)continue;r(u,l)}(e.sham||l&&l.sham)&&i(u,"sham",!0),a(d,n,u,e)}}},t=>{var e=function(e){return e&&e.Math==Math&&e};t.exports=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof global=="object"&&global)||function(){return this}()||Function("return this")()},(u,s,e)=>{var o=e(12),i=e(14),d=e(15),n=e(16),a=e(17),r=e(22),c=e(42),l=e(45),t=Object.getOwnPropertyDescriptor;s.f=o?t:function(e,s){if(e=a(e),s=r(s),l)try{return t(e,s)}catch(e){}if(c(e,s))return n(!i(d.f,e,s),e[s])}},(e,s,t)=>{var n=t(13);e.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},t=>{var e=Function.prototype.call;t.exports=e.bind?e.bind(e):function(){return e.apply(e,arguments)}},(o,n)=>{"use strict";var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,s=t&&!e.call({1:2},1);n.f=s?function(n){var e=t(this,n);return!!e&&e.enumerable}:e},e=>{e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},(t,o,e)=>{var n=e(18),s=e(21);t.exports=function(e){return n(s(e))}},(n,c,e)=>{var s=e(10),o=e(19),i=e(13),a=e(20),t=s.Object,r=o("".split);n.exports=i(function(){return!t("z").propertyIsEnumerable(0)})?function(e){return a(e)=="String"?r(e,""):t(e)}:t},s=>{var n=Function.prototype,e=n.bind,t=n.call,o=e&&e.bind(t);s.exports=e?function(e){return e&&o(t,e)}:function(e){return e&&function(){return t.apply(e,arguments)}}},(t,i,n)=>{var e=n(19),s=e({}.toString),o=e("".slice);t.exports=function(e){return o(s(e),8,-1)}},(e,o,t)=>{var n=t(10),s=n.TypeError;e.exports=function(e){if(e==void 0)throw s("Can't call method on "+e);return e}},(t,o,e)=>{var n=e(23),s=e(26);t.exports=function(t){var e=n(t,"string");return s(e)?e:e+""}},(a,u,e)=>{var o=e(10),i=e(14),n=e(24),t=e(26),s=e(33),r=e(36),c=e(37),l=o.TypeError,d=c("toPrimitive");a.exports=function(e,o){if(!n(e)||t(e))return e;var c=s(e,d),a;if(c){if(o===void 0&&(o="default"),a=i(c,e,o),!n(a)||t(a))return a;throw l("Can't convert object to primitive value")}return o===void 0&&(o="number"),r(e,o)}},(e,s,t)=>{var n=t(25);e.exports=function(e){return typeof e=="object"?e!==null:n(e)}},e=>{e.exports=function(e){return typeof e=="function"}},(t,c,e)=>{var s=e(10),o=e(27),i=e(25),a=e(28),n=e(29),r=s.Object;t.exports=n?function(e){return typeof e=="symbol"}:function(t){var e=o("Symbol");return i(e)&&a(e.prototype,r(t))}},(n,i,t)=>{var e=t(10),s=t(25),o=function(e){return s(e)?e:void 0};n.exports=function(t,n){return arguments.length<2?o(e[t]):e[t]&&e[t][n]}},(e,s,t)=>{var n=t(19);e.exports=n({}.isPrototypeOf)},(e,s,t)=>{var n=t(30);e.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(n,o,e)=>{var t=e(31),s=e(13);n.exports=!!Object.getOwnPropertySymbols&&!s(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41})},(l,d,i)=>{var c=i(10),e,t,n=i(32),a=c.process,s=c.Deno,o=a&&a.versions||s&&s.version,r=o&&o.v8;r&&(e=r.split("."),t=e[0]>0&&e[0]<4?1:+(e[0]+e[1])),!t&&n&&(e=n.match(/Edge\/(\d+)/),(!e||e[1]>=74)&&(e=n.match(/Chrome\/(\d+)/),e&&(t=+e[1]))),l.exports=t},(e,s,t)=>{var n=t(27);e.exports=n("navigator","userAgent")||""},(e,s,t)=>{var n=t(34);e.exports=function(t,s){var e=t[s];return e==null?void 0:n(e)}},(t,a,e)=>{var n=e(10),s=e(25),o=e(35),i=n.TypeError;t.exports=function(e){if(s(e))return e;throw i(o(e)+" is not a function")}},(e,o,t)=>{var n=t(10),s=n.String;e.exports=function(e){try{return s(e)}catch(e){return"Object"}}},(a,r,e)=>{var i=e(10),n=e(14),s=e(25),t=e(24),o=i.TypeError;a.exports=function(e,r){var i,a;if(r==="string"&&s(i=e.toString)&&!t(a=n(i,e)))return a;if(s(i=e.valueOf)&&!t(a=n(i,e)))return a;if(r!=="string"&&s(i=e.toString)&&!t(a=n(i,e)))return a;throw o("Can't convert object to primitive value")}},(r,h,t)=>{var d=t(10),l=t(38),i=t(42),c=t(44),s=t(30),a=t(29),n=l("wks"),e=d.Symbol,o=e&&e.for,u=a?e:e&&e.withoutSetter||c;r.exports=function(t){if(!i(n,t)||!(s||typeof n[t]=="string")){var r="Symbol."+t;s&&i(e,t)?n[t]=e[t]:a&&o?n[t]=o(r):n[t]=u(r)}return n[t]}},(n,o,e)=>{var s=e(39),t=e(40);(n.exports=function(e,n){return t[e]||(t[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},e=>{e.exports=!1},(n,a,e)=>{var s=e(10),o=e(41),t="__core-js_shared__",i=s[t]||o(t,{});n.exports=i},(t,o,n)=>{var e=n(10),s=Object.defineProperty;t.exports=function(n,t){try{s(e,n,{value:t,configurable:!0,writable:!0})}catch(s){e[n]=t}return t}},(t,i,e)=>{var n=e(19),s=e(43),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(e,t){return o(s(e),t)}},(t,i,e)=>{var n=e(10),s=e(21),o=n.Object;t.exports=function(e){return o(s(e))}},(e,a,t)=>{var n=t(19),s=0,o=Math.random(),i=n(1..toString);e.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+i(++s+o,36)}},(t,i,e)=>{var n=e(12),s=e(13),o=e(46);t.exports=!n&&!s(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!=7})},(s,a,t)=>{var o=t(10),n=t(24),e=o.document,i=n(e)&&n(e.createElement);s.exports=function(t){return i?e.createElement(t):{}}},(t,i,e)=>{var n=e(12),s=e(48),o=e(16);t.exports=n?function(e,t,n){return s.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},(l,s,e)=>{var c=e(10),o=e(12),i=e(45),t=e(49),a=e(22),r=c.TypeError,n=Object.defineProperty;s.f=o?n:function(s,o,e){if(t(s),o=a(o),t(e),i)try{return n(s,o,e)}catch(e){}if("get"in e||"set"in e)throw r("Accessors not supported");return"value"in e&&(s[o]=e.value),s}},(n,a,e)=>{var t=e(10),s=e(24),o=t.String,i=t.TypeError;n.exports=function(e){if(s(e))return e;throw i(o(e)+" is not an object")}},(o,m,e)=>{var a=e(10),t=e(25),i=e(42),s=e(47),r=e(41),c=e(51),n=e(52),d=e(56).CONFIGURABLE,u=n.get,l=n.enforce,h=String(String).split("String");(o.exports=function(u,o,e,n){var p=!!n&&!!n.unsafe,f,m=!!n&&!!n.enumerable,g=!!n&&!!n.noTargetGet,c=n&&n.name!==void 0?n.name:o;if(t(e)&&(String(c).slice(0,7)==="Symbol("&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(e,"name")||d&&e.name!==c)&&s(e,"name",c),f=l(e),f.source||(f.source=h.join(typeof c=="string"?c:""))),u===a){m?u[o]=e:r(o,e);return}p?!g&&u[o]&&(m=!0):delete u[o],m?u[o]=e:s(u,o,e)})(Function.prototype,"toString",function(){return t(this)&&u(this).source||c(this)})},(n,a,e)=>{var s=e(19),o=e(25),t=e(40),i=s(Function.toString);o(t.inspectSource)||(t.inspectSource=function(e){return i(e)}),n.exports=t.inspectSource},(O,x,e)=>{var y=e(53),o,s,i,t,_,d,w,n,u=e(10),a=e(19),v=e(24),g=e(47),r=e(42),c=e(40),p=e(54),m=e(55),h="Object already initialized",l=u.TypeError,f=u.WeakMap,b=function(e){return i(e)?s(e):o(e,{})},j=function(e){return function(t){var n;if(!v(t)||(n=s(t)).type!==e)throw l("Incompatible receiver, "+e+" required");return n}};y||c.state?(t=c.state||(c.state=new f),_=a(t.get),d=a(t.has),w=a(t.set),o=function(e,n){if(d(t,e))throw new l(h);return n.facade=e,w(t,e,n),n},s=function(e){return _(t,e)||{}},i=function(e){return d(t,e)}):(n=p("state"),m[n]=!0,o=function(e,t){if(r(e,n))throw new l(h);return t.facade=e,g(e,n,t),t},s=function(e){return r(e,n)?e[n]:{}},i=function(e){return r(e,n)}),O.exports={set:o,get:s,has:i,enforce:b,getterFor:j}},(i,a,e)=>{var n=e(10),s=e(25),o=e(51),t=n.WeakMap;i.exports=s(t)&&/native code/.test(o(t))},(n,i,e)=>{var s=e(38),o=e(44),t=s("keys");n.exports=function(e){return t[e]||(t[e]=o(e))}},e=>{e.exports={}},(o,l,n)=>{var t=n(12),i=n(42),s=Function.prototype,a=t&&Object.getOwnPropertyDescriptor,e=i(s,"name"),r=e&&function(){}.name==="something",c=e&&(!t||t&&a(s,"name").configurable);o.exports={EXISTS:e,PROPER:r,CONFIGURABLE:c}},(t,a,e)=>{var n=e(42),s=e(58),o=e(11),i=e(48);t.exports=function(c,a){for(var r=s(a),e,l=i.f,d=o.f,t=0;t<r.length;t++)e=r[t],n(c,e)||l(c,e,d(a,e))}},(t,c,e)=>{var s=e(27),o=e(19),i=e(59),a=e(67),n=e(49),r=o([].concat);t.exports=s("Reflect","ownKeys")||function(e){var t=i.f(n(e)),s=a.f;return s?r(t,s(e)):t}},(i,t,e)=>{var n=e(60),s=e(66),o=s.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},(s,c,e)=>{var i=e(19),t=e(42),a=e(17),r=e(61).indexOf,o=e(55),n=i([].push);s.exports=function(d,c){var i=a(d),e,l=0,s=[];for(e in i)!t(o,e)&&t(i,e)&&n(s,e);for(;c.length>l;)t(i,e=c[l++])&&(~r(s,e)||n(s,e));return s}},(i,a,e)=>{var n=e(17),s=e(62),o=e(64),t=function(e){return function(d,r,l){var i=n(d),a,c=o(i),t=s(l,c);if(e&&r!=r){for(;c>t;)if(a=i[t++],a!=a)return!0}else for(;c>t;t++)if((e||t in i)&&i[t]===r)return e||t||0;return!e&&-1}};i.exports={includes:t(!0),indexOf:t(!1)}},(e,i,t)=>{var n=t(63),s=Math.max,o=Math.min;e.exports=function(i,t){var e=n(i);return e<0?s(e+t,0):o(e,t)}},e=>{var t=Math.ceil,n=Math.floor;e.exports=function(s){var e=+s;return e!==e||e===0?0:(e>0?n:t)(e)}},(e,s,t)=>{var n=t(65);e.exports=function(e){return n(e.length)}},(e,o,t)=>{var n=t(63),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,e)=>{e.f=Object.getOwnPropertySymbols},(a,d,t)=>{var s=t(13),o=t(25),i=/#|\.prototype\./,e=function(i,e){var t=r[n(i)];return t==l||(t!=c&&(o(e)?s(e):!!e))},n=e.normalize=function(e){return String(e).replace(i,".").toLowerCase()},r=e.data={},c=e.NATIVE="N",l=e.POLYFILL="P";a.exports=e},(n,s,i)=>{"use strict";var t,o;function e(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(e){return typeof e}:e=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}(function(r,a){(e(s))==="object"&&!0?n.exports=a():!(t=a,o=typeof t=="function"?t.call(s,i,s,n):t,o!==void 0&&(n.exports=o))})(void 0,function(){"use strict";function s(m){var e=new t,o,i,x,O,c,l,w,_,y,C,v,g,s,f,b,j,h,u,d,r,a,p,n=Array.from(m);if(!n.every(function(e){return!Number.isNaN(e)}))throw TypeError('CSSMatrix: "'+m+'" must only have numbers.');if(n.length===16)o=n[0],i=n[1],x=n[2],O=n[3],c=n[4],l=n[5],w=n[6],_=n[7],y=n[8],C=n[9],v=n[10],g=n[11],s=n[12],f=n[13],b=n[14],j=n[15],e.m11=o,e.a=o,e.m21=c,e.c=c,e.m31=y,e.m41=s,e.e=s,e.m12=i,e.b=i,e.m22=l,e.d=l,e.m32=C,e.m42=f,e.f=f,e.m13=x,e.m23=w,e.m33=v,e.m43=b,e.m14=O,e.m24=_,e.m34=g,e.m44=j;else if(n.length===6)h=n[0],u=n[1],d=n[2],r=n[3],a=n[4],p=n[5],e.m11=h,e.a=h,e.m12=u,e.b=u,e.m21=d,e.c=d,e.m22=r,e.d=r,e.m41=a,e.e=a,e.m42=p,e.f=p;else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return e}function h(n){var o=Object.keys(new t);if(e(n)==="object"&&o.every(function(e){return e in n}))return s([n.m11,n.m12,n.m13,n.m14,n.m21,n.m22,n.m23,n.m24,n.m31,n.m32,n.m33,n.m34,n.m41,n.m42,n.m43,n.m44]);throw TypeError('CSSMatrix: "'+n+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function u(n){if(typeof n!="string")throw TypeError('CSSMatrix: "'+n+'" is not a string.');var i=String(n).replace(/\s/g,""),e=new t,o='CSSMatrix: invalid transform string "'+n+'"';return i.split(")").filter(function(e){return e}).forEach(function(f){var h=f.split("("),r,t,i,a,l,c,j,v,p,g,u,b,d,y,n=h[0],m=h[1];if(!m)throw TypeError(o);if(r=m.split(",").map(function(e){return e.includes("rad")?parseFloat(e)*(180/Math.PI):parseFloat(e)}),t=r[0],i=r[1],a=r[2],l=r[3],c=[t,i,a],j=[t,i,a,l],n==="perspective"&&t&&[i,a].every(function(e){return e===void 0}))e.m34=-1/t;else if(n.includes("matrix")&&[6,16].includes(r.length)&&r.every(function(e){return!Number.isNaN(+e)}))v=r.map(function(e){return Math.abs(e)<1e-6?0:e}),e=e.multiply(s(v));else if(n==="translate3d"&&c.every(function(e){return!Number.isNaN(+e)}))e=e.translate(t,i,a);else if(n==="translate"&&t&&a===void 0)e=e.translate(t,i||0,0);else if(n==="rotate3d"&&j.every(function(e){return!Number.isNaN(+e)})&&l)e=e.rotateAxisAngle(t,i,a,l);else if(n==="rotate"&&t&&[i,a].every(function(e){return e===void 0}))e=e.rotate(0,0,t);else if(n==="scale3d"&&c.every(function(e){return!Number.isNaN(+e)})&&c.some(function(e){return e!==1}))e=e.scale(t,i,a);else if(n==="scale"&&!Number.isNaN(t)&&t!==1&&a===void 0)p=Number.isNaN(+i),g=p?t:i,e=e.scale(t,g,1);else if(n==="skew"&&t&&a===void 0)e=e.skewX(t),e=i?e.skewY(i):e;else if(/[XYZ]/.test(n)&&t&&[i,a].every(function(e){return e===void 0})&&["translate","rotate","scale","skew"].some(function(e){return n.includes(e)}))["skewX","skewY"].includes(n)?e=e[n](t):(u=n.replace(/[XYZ]/,""),b=n.replace(u,""),d=["X","Y","Z"].indexOf(b),y=[d===0?t:0,d===1?t:0,d===2?t:0],e=e[u].apply(e,y));else throw TypeError(o)}),e}function i(n,s,o){var e=new t;return e.m41=n,e.e=n,e.m42=s,e.f=s,e.m43=o,e}function d(b,v,g){var e=new t,f,l,c=Math.PI/180,h=b*c,u=v*c,d=g*c,n=Math.cos(h),a=-Math.sin(h),r=Math.cos(u),i=-Math.sin(u),o=Math.cos(d),s=-Math.sin(d),p=r*o,m=-r*s;return e.m11=p,e.a=p,e.m12=m,e.b=m,e.m13=i,f=a*i*o+n*s,e.m21=f,e.c=f,l=n*o-a*i*s,e.m22=l,e.d=l,e.m23=-a*r,e.m31=a*s-n*i*o,e.m32=a*o+n*i*s,e.m33=n*r,e}function c(u,l,d,y){var e=new t,f,p,g,v,b,m,j,h=y*(Math.PI/360),a=Math.sin(h),r=Math.cos(h),i=a*a,c=Math.sqrt(u*u+l*l+d*d),n=u,o=l,s=d;return c===0?(n=0,o=0,s=1):(n/=c,o/=c,s/=c),f=n*n,p=o*o,g=s*s,v=1-2*(p+g)*i,e.m11=v,e.a=v,b=2*(n*o*i+s*a*r),e.m12=b,e.b=b,e.m13=2*(n*s*i-o*a*r),m=2*(o*n*i-s*a*r),e.m21=m,e.c=m,j=1-2*(g+f)*i,e.m22=j,e.d=j,e.m23=2*(o*s*i+n*a*r),e.m31=2*(s*n*i+o*a*r),e.m32=2*(s*o*i-n*a*r),e.m33=1-2*(f+p)*i,e}function r(n,s,o){var e=new t;return e.m11=n,e.a=n,e.m22=s,e.d=s,e.m33=o,e}function a(s){var e=new t,o=s*Math.PI/180,n=Math.tan(o);return e.m21=n,e.c=n,e}function l(s){var e=new t,o=s*Math.PI/180,n=Math.tan(o);return e.m12=n,e.b=n,e}function n(e,t){var d=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,o=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,i=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43,a=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44,r=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,c=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,l=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43,n=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44,u=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,h=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,m=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43,f=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44,p=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,g=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,v=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43,b=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return s([d,o,i,a,r,c,l,n,u,h,m,f,p,g,v,b])}var t=function(){for(var t=[],n=arguments.length,e,s;n--;)t[n]=arguments[n];return e=this,e.a=1,e.b=0,e.c=0,e.d=1,e.e=0,e.f=0,e.m11=1,e.m12=0,e.m13=0,e.m14=0,e.m21=0,e.m22=1,e.m23=0,e.m24=0,e.m31=0,e.m32=0,e.m33=1,e.m34=0,e.m41=0,e.m42=0,e.m43=0,e.m44=1,t&&t.length?(s=[16,6].some(function(e){return e===t.length})?t:t[0],e.setMatrixValue(s)):e},m,f,o={isIdentity:{configurable:!0},is2D:{configurable:!0}};return o.isIdentity.set=function(e){this.isIdentity=e},o.isIdentity.get=function(){var e=this;return e.m11===1&&e.m12===0&&e.m13===0&&e.m14===0&&e.m21===0&&e.m22===1&&e.m23===0&&e.m24===0&&e.m31===0&&e.m32===0&&e.m33===1&&e.m34===0&&e.m41===0&&e.m42===0&&e.m43===0&&e.m44===1},o.is2D.get=function(){var e=this;return e.m31===0&&e.m32===0&&e.m33===1&&e.m34===0&&e.m43===0&&e.m44===1},o.is2D.set=function(e){this.is2D=e},t.prototype.setMatrixValue=function(t){var n=this;return[Array,Float64Array,Float32Array].some(function(e){return t instanceof e})?s(t):typeof t=="string"&&t.length&&t!=="none"?u(t):e(t)==="object"?h(t):n},t.prototype.toArray=function(){var e=this,t,n=Math.pow(10,6);return e.is2D?t=[e.a,e.b,e.c,e.d,e.e,e.f]:t=[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44],t.map(function(e){return Math.abs(e)<1e-6?0:(e*n>>0)/n})},t.prototype.toString=function(){var e=this,t=e.toArray(),n=e.is2D?"matrix":"matrix3d";return n+"("+t+")"},t.prototype.toJSON=function(){var e=this,t=e.is2D,n=e.isIdentity;return Object.assign({},e,{is2D:t,isIdentity:n})},t.prototype.multiply=function(e){return n(this,e)},t.prototype.translate=function(s,o,a){var r=s,t=o,e=a;return e===void 0&&(e=0),t===void 0&&(t=0),n(this,i(r,t,e))},t.prototype.scale=function(s,o,i){var a=s,t=o,e=i;return t===void 0&&(t=s),e===void 0&&(e=1),n(this,r(a,t,e))},t.prototype.rotate=function(o,i,a){var t=o,s=i,e=a;return s===void 0&&(s=0),e===void 0&&(e=t,t=0),n(this,d(t,s,e))},t.prototype.rotateAxisAngle=function(e,t,s,o){if([e,t,s,o].some(function(e){return Number.isNaN(e)}))throw new TypeError("CSSMatrix: expecting 4 values");return n(this,c(e,t,s,o))},t.prototype.skewX=function(e){return n(this,a(e))},t.prototype.skewY=function(e){return n(this,l(e))},t.prototype.transformPoint=function(t){var n=this,e=i(t.x,t.y,t.z);return e.m44=t.w||1,e=n.multiply(e),{x:e.m41,y:e.m42,z:e.m43,w:e.m44}},t.prototype.transform=function(e){var t=this,s=t.m11*e.x+t.m12*e.y+t.m13*e.z+t.m14*e.w,o=t.m21*e.x+t.m22*e.y+t.m23*e.z+t.m24*e.w,i=t.m31*e.x+t.m32*e.y+t.m33*e.z+t.m34*e.w,n=t.m41*e.x+t.m42*e.y+t.m43*e.z+t.m44*e.w;return{x:s/n,y:o/n,z:i/n,w:n}},Object.defineProperties(t.prototype,o),Object.assign(t,{Translate:i,Rotate:d,RotateAxisAngle:c,Scale:r,SkewX:a,SkewY:l,Multiply:n,fromArray:s,fromMatrix:h,fromString:u}),m="0.0.24",f=m,Object.assign(t,{Version:f}),t})},(t,s,e)=>{e(71),e(86);var n=e(96);t.exports=n.Object.fromEntries},(r,d,e)=>{"use strict";var a=e(17),t=e(72),s=e(77),n=e(52),i=e(78),o="Array Iterator",c=n.set,l=n.getterFor(o);r.exports=i(Array,"Array",function(e,t){c(this,{type:o,target:a(e),index:0,kind:t})},function(){var t=l(this),n=t.target,s=t.kind,e=t.index++;return!n||e>=n.length?(t.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:e,done:!1}:s=="values"?{value:n[e],done:!1}:{value:[e,n[e]],done:!1}},"values"),s.Arguments=s.Array,t("keys"),t("values"),t("entries")},(a,r,n)=>{var s=n(37),o=n(73),i=n(48),e=s("unscopables"),t=Array.prototype;t[e]==void 0&&i.f(t,e,{configurable:!0,value:o(null)}),a.exports=function(n){t[e][n]=!0}},(j,y,e)=>{var v=e(49),t,g=e(74),a=e(66),p=e(55),f=e(76),m=e(46),h=e(54),u=">",r="<",o="prototype",i="script",c=h("IE_PROTO"),s=function(){},d=function(e){return r+i+u+e+r+"/"+i+u},l=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var t=m("iframe"),e,n="java"+i+":";return t.style.display="none",f.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(d("document.F=Object")),e.close(),e.F},n=function(){try{t=new ActiveXObject("htmlfile")}catch(e){}n=typeof document!="undefined"?document.domain&&t?l(t):b():l(t);for(var e=a.length;e--;)delete n[o][a[e]];return n()};p[c]=!0,j.exports=Object.create||function(t,i){var e;return t!==null?(s[o]=v(t),e=new s,s[o]=null,e[c]=t):e=n(),i===void 0?e:g(e,i)}},(t,r,e)=>{var s=e(12),o=e(48),i=e(49),a=e(17),n=e(75);t.exports=s?Object.defineProperties:function(e,s){i(e);for(var l=a(s),c,r=n(s),d=r.length,t=0;d>t;)o.f(e,c=r[t++],l[c]);return e}},(t,o,e)=>{var n=e(60),s=e(66);t.exports=Object.keys||function(e){return n(e,s)}},(e,s,t)=>{var n=t(27);e.exports=n("document","documentElement")},e=>{e.exports={}},(x,C,e)=>{"use strict";var O=e(9),w=e(14),s=e(39),a=e(56),_=e(25),y=e(79),l=e(81),d=e(84),j=e(83),g=e(47),i=e(50),p=e(37),m=e(77),h=e(80),v=a.PROPER,b=a.CONFIGURABLE,u=h.IteratorPrototype,o=h.BUGGY_SAFARI_ITERATORS,n=p("iterator"),r="keys",t="values",c="entries",f=function(){return this};x.exports=function(D,C,E,L,p,N,T){y(E,C,L);var A=function(n){if(n===p&&h)return h;if(!o&&n in e)return e[n];switch(n){case r:return function(){return new E(this,n)};case t:return function(){return new E(this,n)};case c:return function(){return new E(this,n)}}return function(){return new E(this)}},a,k,S,F=C+" Iterator",M=!1,e=D.prototype,x=e[n]||e["@@iterator"]||p&&e[p],h=!o&&x||A(p),z=C=="Array"?e.entries||x:x;if(z&&(a=l(z.call(new D)),a!==Object.prototype&&a.next&&(!s&&l(a)!==u&&(d?d(a,u):_(a[n])||i(a,n,f)),j(a,F,!0,!0),s&&(m[F]=f))),v&&p==t&&x&&x.name!==t&&(!s&&b?g(e,"name",t):(M=!0,h=function(){return w(x,this)})),p)if(k={values:A(t),keys:N?h:A(r),entries:A(c)},T){for(S in k)(o||M||!(S in e))&&i(e,S,k[S])}else O({target:C,proto:!0,forced:o||M},k);return(!s||T)&&e[n]!==h&&i(e,n,h,{name:p}),m[C]=h,k}},(t,c,e)=>{"use strict";var s=e(80).IteratorPrototype,o=e(73),i=e(16),a=e(83),n=e(77),r=function(){return this};t.exports=function(e,c,l,d){var t=c+" Iterator";return e.prototype=o(s,{next:i(+!d,l)}),a(e,t,!1,!0),n[t]=r,e}},(r,p,t)=>{"use strict";var m=t(13),e,o,s,f,h=t(25),u=t(73),a=t(81),d=t(50),c=t(37),l=t(39),n=c("iterator"),i=!1;[].keys&&(s=[].keys(),"next"in s?(o=a(a(s)),o!==Object.prototype&&(e=o)):i=!0),f=e==void 0||m(function(){var t={};return e[n].call(t)!==t}),f?e={}:l&&(e=u(e)),h(e[n])||d(e,n,function(){return this}),r.exports={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:i}},(s,u,e)=>{var c=e(10),l=e(42),i=e(25),a=e(43),o=e(54),r=e(82),n=o("IE_PROTO"),t=c.Object,d=t.prototype;s.exports=r?t.getPrototypeOf:function(o){var e=a(o),s;return l(e,n)?e[n]:(s=e.constructor,i(s)&&e instanceof s)?s.prototype:e instanceof t?d:null}},(e,s,t)=>{var n=t(13);e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},(i,a,e)=>{var n=e(48).f,s=e(42),o=e(37),t=o("toStringTag");i.exports=function(e,o,i){e&&!s(e=i?e:e.prototype,t)&&n(e,t,{configurable:!0,value:o})}},(t,i,e)=>{var n=e(19),s=e(49),o=e(85);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e,i={};try{e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(i,[]),t=i instanceof Array}catch(e){}return function(n,i){return s(n),o(i),t?e(n,i):n.__proto__=i,n}}():void 0)},(n,a,e)=>{var t=e(10),s=e(25),o=t.String,i=t.TypeError;n.exports=function(e){if(typeof e=="object"||s(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},(o,i,e)=>{var t=e(9),n=e(87),s=e(95);t({target:"Object",stat:!0},{fromEntries:function(t){var e={};return n(t,function(t,n){s(e,t,n)},{AS_ENTRIES:!0}),e}})},(p,g,e)=>{var m=e(10),d=e(88),c=e(14),a=e(49),r=e(35),i=e(89),l=e(64),o=e(28),u=e(90),h=e(91),s=e(94),f=m.TypeError,t=function(e,t){this.stopped=e,this.result=t},n=t.prototype;p.exports=function(g,E,m){var k=m&&m.that,p,j,b,x,e,C,_,S=!!(m&&m.AS_ENTRIES),A=!!(m&&m.IS_ITERATOR),w=!!(m&&m.INTERRUPTED),v=d(E,k),O=function(e){return p&&s(p,"normal",e),new t(!0,e)},y=function(e){return S?(a(e),w?v(e[0],e[1],O):v(e[0],e[1])):w?v(e,O):v(e)};if(A)p=g;else{if(j=h(g),!j)throw f(r(g)+" is not iterable");if(i(j)){for(b=0,x=l(g);x>b;b++)if(e=y(g[b]),e&&o(n,e))return e;return new t(!1)}p=u(g,j)}for(C=p.next;!(_=c(C,p)).done;){try{e=y(_.value)}catch(e){s(p,"throw",e)}if(typeof e=="object"&&e&&o(n,e))return e}return new t(!1)}},(s,i,e)=>{var t=e(19),o=e(34),n=t(t.bind);s.exports=function(e,t){return o(e),t===void 0?e:n?n(e,t):function(){return e.apply(t,arguments)}}},(t,a,e)=>{var n=e(37),s=e(77),o=n("iterator"),i=Array.prototype;t.exports=function(e){return e!==void 0&&(s.Array===e||i[o]===e)}},(t,l,e)=>{var s=e(10),o=e(14),i=e(34),a=e(49),n=e(35),r=e(91),c=s.TypeError;t.exports=function(e,s){var t=arguments.length<2?r(e):s;if(i(t))return a(o(t,e));throw c(n(e)+" is not iterable")}},(n,r,e)=>{var o=e(92),t=e(33),i=e(77),a=e(37),s=a("iterator");n.exports=function(e){if(e!=void 0)return t(e,s)||t(e,"@@iterator")||i[o(e)]}},(a,u,e)=>{var s=e(10),o=e(93),i=e(25),t=e(20),n=e(37),r=n("toStringTag"),c=s.Object,l=t(function(){return arguments}())=="Arguments",d=function(e,t){try{return e[t]}catch(e){}};a.exports=o?t:function(n){var e,s,o;return n===void 0?"Undefined":n===null?"Null":typeof(s=d(e=c(n),r))=="string"?s:l?t(e):(o=t(e))=="Object"&&i(e.callee)?"Arguments":o}},(t,i,n)=>{var s=n(37),o=s("toStringTag"),e={};e[o]="z",t.exports=String(e)==="[object z]"},(n,i,e)=>{var s=e(14),t=e(49),o=e(33);n.exports=function(i,a,n){var e,r;t(i);try{if(e=o(i,"return"),!e){if(a==="throw")throw n;return n}e=s(e,i)}catch(t){r=!0,e=t}if(a==="throw")throw n;if(r)throw e;return t(e),n}},(t,i,e)=>{"use strict";var n=e(22),s=e(48),o=e(16);t.exports=function(e,a,i){var t=n(a);t in e?s.f(e,t,o(0,i)):e[t]=i}},(e,s,t)=>{var n=t(10);e.exports=n},(t,s,e)=>{e(98),e(71),e(105),e(107),e(129),e(130),e(131),e(132);var n=e(96);t.exports=n.Promise},(w,_,e)=>{"use strict";var j=e(9),a,u=e(10),d=e(28),c=e(81),n=e(84),l=e(57),r=e(73),o=e(47),i=e(16),h=e(99),m=e(101),f=e(87),p=e(102),g=e(37),v=e(104),b=g("toStringTag"),s=u.Error,y=[].push,t=function(l,u){var g=arguments.length>2?arguments[2]:void 0,e,t,i=d(a,this);return n?e=n(new s(void 0),i?c(this):a):(e=i?this:r(a),o(e,b,"Error")),o(e,"message",p(u,"")),v&&o(e,"stack",h(e.stack,1)),m(e,g),t=[],f(l,y,{that:t}),o(e,"errors",t),e};n?n(t,s):l(t,s),a=t.prototype=r(s.prototype,{constructor:i(1,t),message:i(1,""),name:i(1,"AggregateError")}),j({global:!0},{AggregateError:t})},(o,u,n)=>{var t=n(19),a=n(100),r=t("".replace),c=t("".split),i=t([].join),e=function(e){return String(Error(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(e),d=/@[^\n]*\n/.test(e)&&!/zxcasd/.test(e);o.exports=function(e,t){if(typeof e!="string")return e;if(l)for(;t--;)e=r(e,s,"");else if(d)return i(a(c(e,"\n"),t),"\n");return e}},(n,c,e)=>{var o=e(10),t=e(62),i=e(64),a=e(95),s=o.Array,r=Math.max;n.exports=function(u,h,l){for(var c=i(u),e=t(h,c),d=t(l===void 0?c:l,c),n=s(r(d-e,0)),o=0;e<d;e++,o++)a(n,o,u[e]);return n.length=o,n}},(t,o,e)=>{var n=e(24),s=e(47);t.exports=function(t,e){n(e)&&"cause"in e&&s(t,"cause",e.cause)}},(e,s,t)=>{var n=t(103);e.exports=function(e,t){return e===void 0?arguments.length<2?"":t:n(e)}},(t,i,e)=>{var n=e(10),s=e(92),o=n.String;t.exports=function(e){if(s(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},(t,o,e)=>{var n=e(13),s=e(16);t.exports=!n(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",s(1,7)),e.stack!==7)})},(o,i,e)=>{var t=e(93),n=e(50),s=e(106);t||n(Object.prototype,"toString",s,{unsafe:!0})},(t,o,e)=>{"use strict";var n=e(93),s=e(92);t.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},(e3,eh,e)=>{"use strict";var m=e(9),g,S,_,T,p=e(39),o=e(10),e4=e(27),s=e(14),h=e(108),$=e(50),eu=e(109),I=e(84),ed=e(83),el=e(110),b=e(34),u=e(25),ec=e(24),er=e(111),K=e(51),L=e(87),ea=e(112),ei=e(113),F=e(116).set,A=e(121),eo=e(124),es=e(126),k=e(125),j=e(127),E=e(52),en=e(68),et=e(37),ee=e(128),f=e(120),z=e(31),Z=et("species"),n="Promise",N=E.getterFor(n),Q=E.set,G=E.getterFor(n),i=h&&h.prototype,t=h,r=i,V=o.TypeError,C=o.document,y=o.process,l=k.f,Y=l,q=!!(C&&C.createEvent&&o.dispatchEvent),U=u(o.PromiseRejectionEvent),P="unhandledrejection",X="rejectionhandled",R=0,D=1,J=2,w=1,M=2,x=!1,d=en(n,function(){var e=K(t),s,o,i,n=e!==String(t);return!!(!n&&z===66)||(!!(p&&!r.finally)||(!(z>=51&&/native code/.test(e))&&(!!(s=new t(function(e){e(1)}),o=function(e){e(function(){},function(){})},i=s.constructor={},i[Z]=o,x=s.then(function(){})instanceof o,!x)||!n&&ee&&!U)))}),e2=d||!ea(function(e){t.all(e).catch(function(){})}),H=function(e){var t;return!!(ec(e)&&u(t=e.then))&&t},O=function(e,n){if(e.notified)return;e.notified=!0;var t=e.reactions;A(function(){for(var l=e.value,a,c,d,r,o,i,m,f,u=e.state==D,h=0;t.length>h;){a=t[h++],c=u?a.ok:a.fail,d=a.resolve,r=a.reject,o=a.domain;try{c?(u||(e.rejection===M&&e0(e),e.rejection=w),c===!0?i=l:(o&&o.enter(),i=c(l),o&&(o.exit(),f=!0)),i===a.promise?r(V("Promise-chain cycle")):(m=H(i))?s(m,i,d,r):d(i)):r(l)}catch(e){o&&!f&&o.exit(),r(e)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&e1(e)})},B=function(t,s,n){var e,i;q?(e=C.createEvent("Event"),e.promise=s,e.reason=n,e.initEvent(t,!1,!0),o.dispatchEvent(e)):e={promise:s,reason:n},!U&&(i=o["on"+t])?i(e):t===P&&es("Unhandled promise rejection",n)},e1=function(e){s(F,o,function(){var n=e.facade,t,s=e.value,o=W(e);if(o)if(t=j(function(){f?y.emit("unhandledRejection",s,n):B(P,n,s)}),e.rejection=f||W(e)?M:w,t.error)throw t.value})},W=function(e){return e.rejection!==w&&!e.parent},e0=function(e){s(F,o,function(){var t=e.facade;f?y.emit("rejectionHandled",t):B(X,t,e.value)})},a=function(e,t,n){return function(s){e(t,s,n)}},c=function(e,n,t){if(e.done)return;e.done=!0,t&&(e=t),e.value=n,e.state=J,O(e,!0)},v=function(e,t,n){if(e.done)return;e.done=!0,n&&(e=n);try{if(e.facade===t)throw V("Promise can't be resolved itself");var o=H(t);o?A(function(){var n={done:!1};try{s(o,t,a(v,n,e),a(c,n,e))}catch(t){c(n,t,e)}}):(e.value=t,e.state=D,O(e,!1))}catch(t){c({done:!1},t,e)}};if(d)if(t=function(t){er(this,r),b(t),s(g,this);var e=N(this);try{t(a(v,e),a(c,e))}catch(t){c(e,t)}},r=t.prototype,g=function(){Q(this,{type:n,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:R,value:void 0})},g.prototype=eu(r,{then:function(s,o){var n=G(this),i=n.reactions,e=l(ei(this,t));return e.ok=!u(s)||s,e.fail=u(o)&&o,e.domain=f?y.domain:void 0,n.parent=!0,i[i.length]=e,n.state!=R&&O(n,!1),e.promise},catch:function(e){return this.then(void 0,e)}}),S=function(){var e=new g,t=N(e);this.promise=e,this.resolve=a(v,t),this.reject=a(c,t)},k.f=l=function(e){return e===t||e===_?new S(e):Y(e)},!p&&u(h)&&i!==Object.prototype){T=i.then,x||($(i,"then",function(e,n){var o=this;return new t(function(e,t){s(T,o,e,t)}).then(e,n)},{unsafe:!0}),$(i,"catch",r.catch,{unsafe:!0}));try{delete i.constructor}catch(e){}I&&I(i,r)}m({global:!0,wrap:!0,forced:d},{Promise:t}),ed(t,n,!1,!0),el(n),_=e4(n),m({target:n,stat:!0,forced:d},{reject:function(t){var e=l(this);return s(e.reject,void 0,t),e.promise}}),m({target:n,stat:!0,forced:p||d},{resolve:function(e){return eo(p&&this===_?t:this,e)}}),m({target:n,stat:!0,forced:e2},{all:function(a){var e=this,t=l(e),o=t.resolve,i=t.reject,n=j(function(){var r=b(e.resolve),t=[],c=0,n=1;L(a,function(l){var d=c++,a=!1;n++,s(r,e,l).then(function(e){if(a)return;a=!0,t[d]=e,--n||o(t)},i)}),--n||o(t)});return n.error&&i(n.value),t.promise},race:function(i){var e=this,t=l(e),n=t.reject,o=j(function(){var o=b(e.resolve);L(i,function(i){s(o,e,i).then(t.resolve,n)})});return o.error&&n(o.value),t.promise}})},(e,s,t)=>{var n=t(10);e.exports=n.Promise},(e,s,t)=>{var n=t(50);e.exports=function(e,t,o){for(var s in t)n(e,s,t[s],o);return e}},(n,r,e)=>{"use strict";var s=e(27),o=e(48),i=e(37),a=e(12),t=i("species");n.exports=function(n){var e=s(n),i=o.f;a&&e&&!e[t]&&i(e,t,{configurable:!0,get:function(){return this}})}},(t,i,e)=>{var n=e(10),s=e(28),o=n.TypeError;t.exports=function(e,t){if(s(t,e))return e;throw o("Incorrect invocation")}},(s,r,o)=>{var i=o(37),a,e,t=i("iterator"),n=!1;try{a=0,e={next:function(){return{done:!!a++}},return:function(){n=!0}},e[t]=function(){return this},Array.from(e,function(){throw 2})}catch(e){}s.exports=function(o,i){if(!i&&!n)return!1;var e=!1,s;try{s={},s[t]=function(){return{next:function(){return{done:e=!0}}}},o(s)}catch(e){}return e}},(n,a,e)=>{var t=e(49),s=e(114),o=e(37),i=o("species");n.exports=function(o,a){var e=t(o).constructor,n;return e===void 0||(n=t(e)[i])==void 0?a:s(n)}},(t,a,e)=>{var n=e(10),s=e(115),o=e(35),i=n.TypeError;t.exports=function(e){if(s(e))return e;throw i(o(e)+" is not a constructor")}},(a,g,e)=>{var h=e(19),u=e(13),i=e(25),l=e(92),r=e(27),c=e(51),s=function(){},d=[],o=r("Reflect","construct"),n=/^\s*(?:class|function)\b/,m=h(n.exec),f=!n.exec(s),t=function(e){if(!i(e))return!1;try{return o(s,d,e),!0}catch(e){return!1}},p=function(e){if(!i(e))return!1;switch(l(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return f||!!m(n,c(e))};a.exports=!o||u(function(){var e;return t(t.call)||!t(Object)||!t(function(){e=!0})||e})?p:t},(M,F,t)=>{var e=t(10),s,n,c,r,i,d,b,g,S=t(117),A=t(88),v=t(25),k=t(42),E=t(13),p=t(76),C=t(118),f=t(46),x=t(119),O=t(120),u=e.setImmediate,l=e.clearImmediate,y=e.process,a=e.Dispatch,w=e.Function,j=e.MessageChannel,_=e.String,h=0,o={},m="onreadystatechange";try{s=e.location}catch(e){}i=function(e){if(k(o,e)){var t=o[e];delete o[e],t()}},d=function(e){return function(){i(e)}},b=function(e){i(e.data)},g=function(t){e.postMessage(_(t),s.protocol+"//"+s.host)},(!u||!l)&&(u=function(e){var t=C(arguments,1);return o[++h]=function(){S(v(e)?e:w(e),void 0,t)},n(h),h},l=function(e){delete o[e]},O?n=function(e){y.nextTick(d(e))}:a&&a.now?n=function(e){a.now(d(e))}:j&&!x?(c=new j,r=c.port2,c.port1.onmessage=b,n=A(r.postMessage,r)):e.addEventListener&&v(e.postMessage)&&!e.importScripts&&s&&s.protocol!=="file:"&&!E(g)?(n=g,e.addEventListener("message",b,!1)):m in f("script")?n=function(e){p.appendChild(f("script"))[m]=function(){p.removeChild(this),i(e)}}:n=function(e){setTimeout(d(e),0)}),M.exports={set:u,clear:l}},s=>{var e=Function.prototype,t=e.apply,o=e.bind,n=e.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(o?n.bind(t):function(){return n.apply(t,arguments)})},(e,s,t)=>{var n=t(19);e.exports=n([].slice)},(e,s,t)=>{var n=t(32);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},(t,o,e)=>{var n=e(20),s=e(10);t.exports=n(s.process)=="process"},(O,x,e)=>{var n=e(10),i,t,o,s,l,u,r,b,f=e(88),w=e(11).f,c=e(116).set,_=e(119),y=e(122),j=e(123),d=e(120),v=n.MutationObserver||n.WebKitMutationObserver,h=n.document,m=n.process,a=n.Promise,p=w(n,"queueMicrotask"),g=p&&p.value;g||(i=function(){d&&(e=m.domain)&&e.exit();for(var e,n;t;){n=t.fn,t=t.next;try{n()}catch(e){throw t?s():o=void 0,e}}o=void 0,e&&e.enter()},!_&&!d&&!j&&v&&h?(l=!0,u=h.createTextNode(""),new v(i).observe(u,{characterData:!0}),s=function(){u.data=l=!l}):!y&&a&&a.resolve?(r=a.resolve(void 0),r.constructor=a,b=f(r.then,r),s=function(){b(i)}):d?s=function(){m.nextTick(i)}:(c=f(c,n),s=function(){c(i)})),O.exports=g||function(n){var e={fn:n,next:void 0};o&&(o.next=e),t||(t=e,s()),o=e}},(t,o,e)=>{var n=e(32),s=e(10);t.exports=/ipad|iphone|ipod/i.test(n)&&s.Pebble!==void 0},(e,s,t)=>{var n=t(32);e.exports=/web0s(?!.*chrome)/i.test(n)},(t,i,e)=>{var n=e(49),s=e(24),o=e(125);t.exports=function(t,e){if(n(t),s(e)&&e.constructor===t)return e;var i=o.f(t),a=i.resolve;return a(e),i.promise}},(t,o,n)=>{"use strict";var e=n(34),s=function(s){var t,n;this.promise=new s(function(e,s){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=e,n=s}),this.resolve=e(t),this.reject=e(n)};t.exports.f=function(e){return new s(e)}},(e,s,t)=>{var n=t(10);e.exports=function(t,s){var e=n.console;e&&e.error&&(arguments.length==1?e.error(t):e.error(t,s))}},e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},e=>{e.exports=typeof window=="object"},(r,c,e)=>{"use strict";var s=e(9),o=e(14),i=e(34),t=e(125),n=e(127),a=e(87);s({target:"Promise",stat:!0},{allSettled:function(l){var e=this,s=t.f(e),r=s.resolve,d=s.reject,c=n(function(){var s=i(e.resolve),t=[],c=0,n=1;a(l,function(l){var a=c++,i=!1;n++,o(s,e,l).then(function(e){if(i)return;i=!0,t[a]={status:"fulfilled",value:e},--n||r(t)},function(e){if(i)return;i=!0,t[a]={status:"rejected",reason:e},--n||r(t)})}),--n||r(t)});return c.error&&d(c.value),s.promise}})},(l,d,e)=>{"use strict";var o=e(9),c=e(34),i=e(27),n=e(14),s=e(125),a=e(127),r=e(87),t="No one promise resolved";o({target:"Promise",stat:!0},{any:function(m){var o=this,u=i("AggregateError"),l=s.f(o),h=l.resolve,e=l.reject,d=a(function(){var l=c(o.resolve),s=[],d=0,i=1,a=!1;r(m,function(c){var m=d++,r=!1;i++,n(l,o,c).then(function(e){if(r||a)return;a=!0,h(e)},function(n){if(r||a)return;r=!0,s[m]=n,--i||e(new u(s,t))})}),--i||e(new u(s,t))});return d.error&&e(d.value),l.promise}})},(m,h,e)=>{"use strict";var c=e(9),i,r=e(39),t=e(108),a=e(13),o=e(27),s=e(25),l=e(113),n=e(124),d=e(50),u=!!t&&a(function(){t.prototype.finally.call({then:function(){}},function(){})});c({target:"Promise",proto:!0,real:!0,forced:u},{finally:function(e){var t=l(this,o("Promise")),i=s(e);return this.then(i?function(s){return n(t,e()).then(function(){return s})}:e,i?function(s){return n(t,e()).then(function(){throw s})}:e)}}),!r&&s(t)&&(i=o("Promise").prototype.finally,t.prototype.finally!==i&&d(t.prototype,"finally",i,{unsafe:!0}))},(c,l,e)=>{"use strict";var o=e(133).charAt,i=e(103),n=e(52),s=e(78),t="String Iterator",a=n.set,r=n.getterFor(t);s(String,"String",function(e){a(this,{type:t,string:i(e),index:0})},function(){var e=r(this),t,n=e.string,s=e.index;return s>=n.length?{value:void 0,done:!0}:(t=o(n,s),e.index+=t.length,{value:t,done:!1})})},(o,d,e)=>{var t=e(19),l=e(63),a=e(103),r=e(21),i=t("".charAt),s=t("".charCodeAt),c=t("".slice),n=function(e){return function(m,h){var n=a(r(m)),o,d,t=l(h),u=n.length;return t<0||t>=u?e?"":void 0:(o=s(n,t),o<55296||o>56319||t+1===u||(d=s(n,t+1))<56320||d>57343?e?i(n,t):o:e?c(n,t,t+2):(o-55296<<10)+(d-56320)+65536)}};o.exports={codeAt:n(!1),charAt:n(!0)}},function(t,e){(function(n,t){t(e)})(this,function(o){"use strict";var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(e){return"Symbol("+e+")"},nl,nc,tt,s5,sp,s_,e9,ns,a,tQ,tX,eV,eB,tG,s3,Q,ti,el,tF,tM,tk,P,N,X,nW,B,ee,nd,D,tq,np,R,_,t2,ep,tc,e5,e1,J;function to(){}function sy(){return typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:void 0}nl=sy();function i(e){return typeof e=="object"&&e!==null||typeof e=="function"}nc=to,tt=Promise,s5=Promise.prototype.then,sp=Promise.resolve.bind(tt),s_=Promise.reject.bind(tt);function s(e){return new tt(e)}function n(e){return sp(e)}function e(e){return s_(e)}function h(e,t,n){return s5.call(e,t,n)}function r(e,t,n){h(h(e,t,n),void 0,nc)}function eJ(e,t){r(e,t)}function eZ(e,t){r(e,void 0,t)}function A(e,t,n){return h(e,t,n)}function U(e){h(e,void 0,nc)}e9=function(){var e=nl&&nl.queueMicrotask,t;return typeof e=="function"?e:(t=n(void 0),function(e){return h(t,e)})}();function ev(e,t,n){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function C(t,s,o){try{return n(ev(t,s,o))}catch(t){return e(t)}}ns=16384,a=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(n){var e=this._back,t=e;e._elements.length===ns-1&&(t={_elements:[],_next:void 0}),e._elements.push(n),t!==e&&(this._back=t,e._next=t),++this._size},e.prototype.shift=function(){var e=this._front,t=e,n=this._cursor,s=n+1,o=e._elements,i=o[n];return s===ns&&(t=e._next,s=0),--this._size,this._cursor=s,e!==t&&(this._front=t),o[n]=void 0,i},e.prototype.forEach=function(s){for(var e=this._cursor,t=this._front,n=t._elements;e!==n.length||t._next!==void 0;){if(e===n.length)if(t=t._next,n=t._elements,e=0,n.length===0)break;s(n[e]),++e}},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}();function nn(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?eG(e):t._state==="closed"?sm(e):ne(e,t._storedError)}function eX(e,t){var n=e._ownerReadableStream;return d(n,t)}function m(e){e._ownerReadableStream._state==="readable"?eW(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):sh(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function F(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function eG(e){e._closedPromise=s(function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n})}function ne(e,t){eG(e),eW(e,t)}function sm(e){eG(e),nu(e)}function eW(e,t){if(e._closedPromise_reject===void 0)return;U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function sh(e,t){ne(e,t)}function nu(e){if(e._closedPromise_resolve===void 0)return;e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}tQ=t("[[AbortSteps]]"),tX=t("[[ErrorSteps]]"),eV=t("[[CancelSteps]]"),eB=t("[[PullSteps]]"),tG=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},s3=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function s2(e){return typeof e=="object"||typeof e=="function"}function p(e,t){if(e!==void 0&&!s2(e))throw new TypeError(t+" is not an object.")}function c(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function.")}function s0(e){return typeof e=="object"&&e!==null||typeof e=="function"}function tW(e,t){if(!s0(e))throw new TypeError(t+" is not an object.")}function f(e,t,n){if(e===void 0)throw new TypeError("Parameter "+t+" is required in '"+n+"'.")}function eH(e,t,n){if(e===void 0)throw new TypeError(t+" is required in '"+n+"'.")}function ta(e){return Number(e)}function tB(e){return e===0?0:e}function s4(e){return tB(s3(e))}function tR(o,t){var n=0,s=Number.MAX_SAFE_INTEGER,e=Number(o);if(e=tB(e),!tG(e))throw new TypeError(t+" is not a finite number");if(e=s4(e),e<n||e>s)throw new TypeError(t+" is outside the accepted range of "+n+" to "+s+", inclusive");return!tG(e)||e===0?0:e}function eR(e,t){if(!y(e))throw new TypeError(t+" is not a ReadableStream.")}function z(e){return new Q(e)}function tN(e,t){e._reader._readRequests.push(t)}function eL(t,n,s){var o=t._reader,e=o._readRequests.shift();s?e._closeSteps():e._chunkSteps(n)}function en(e){return e._reader._readRequests.length}function tT(t){var e=t._reader;return e!==void 0&&(!!v(e))}Q=function(){function t(e){if(f(e,1,"ReadableStreamDefaultReader"),eR(e,"First parameter"),b(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");nn(this,e),this._readRequests=new a}return Object.defineProperty(t.prototype,"closed",{get:function(){return v(this)?this._closedPromise:e(er("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return t===void 0&&(t=void 0),!v(this)?e(er("cancel")):this._ownerReadableStream===void 0?e(F("cancel")):eX(this,t)},t.prototype.read=function(){if(!v(this))return e(er("read"));if(this._ownerReadableStream===void 0)return e(F("read from"));var t,n,o=s(function(e,s){t=e,n=s}),i={_chunkSteps:function(e){return t({value:e,done:!1})},_closeSteps:function(){return t({value:void 0,done:!0})},_errorSteps:function(e){return n(e)}};return q(this,i),o},t.prototype.releaseLock=function(){if(!v(this))throw er("releaseLock");if(this._ownerReadableStream===void 0)return;if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");m(this)},t}(),Object.defineProperties(Q.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Q.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function v(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Q)}function q(n,t){var e=n._ownerReadableStream;e._disturbed=!0,e._state==="closed"?t._closeSteps():e._state==="errored"?t._errorSteps(e._storedError):e._readableStreamController[eB](t)}function er(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}typeof t.asyncIterator=="symbol"&&(el=(ti={},ti[t.asyncIterator]=function(){return this},ti),Object.defineProperty(el,t.asyncIterator,{enumerable:!1})),tF=function(){function t(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return t.prototype.next=function(){var t=this,e=function(){return t._nextSteps()};return this._ongoingPromise=this._ongoingPromise?A(this._ongoingPromise,e,e):e(),this._ongoingPromise},t.prototype.return=function(t){var n=this,e=function(){return n._returnSteps(t)};return this._ongoingPromise?A(this._ongoingPromise,e,e):e()},t.prototype._nextSteps=function(){var t=this,n,o,i,a,r;return this._isFinished?Promise.resolve({value:void 0,done:!0}):(n=this._reader,n._ownerReadableStream===void 0)?e(F("iterate")):(a=s(function(e,t){o=e,i=t}),r={_chunkSteps:function(e){t._ongoingPromise=void 0,e9(function(){return o({value:e,done:!1})})},_closeSteps:function(){t._ongoingPromise=void 0,t._isFinished=!0,m(n),o({value:void 0,done:!0})},_errorSteps:function(e){t._ongoingPromise=void 0,t._isFinished=!0,m(n),i(e)}},q(n,r),a)},t.prototype._returnSteps=function(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;var s=this._reader,o;return s._ownerReadableStream===void 0?e(F("finish iterating")):this._preventCancel?(m(s),n({value:t,done:!0})):(o=eX(s,t),m(s),A(o,function(){return{value:t,done:!0}}))},t}(),tM={next:function(){return tS(this)?this._asyncIteratorImpl.next():e(tA("next"))},return:function(t){return tS(this)?this._asyncIteratorImpl.return(t):e(tA("return"))}},el!==void 0&&Object.setPrototypeOf(tM,el);function su(t,n){var s=z(t),o=new tF(s,n),e=Object.create(tM);return e._asyncIteratorImpl=o,e}function tS(e){if(!i(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof tF}catch(e){return!1}}function tA(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}tk=Number.isNaN||function(e){return e!==e};function H(e){return e.slice()}function tE(e,t,n,s,o){new Uint8Array(e).set(new Uint8Array(n,s,o),t)}function W(e){return e}function e8(){return!1}function tC(e,t,n){if(e.slice)return e.slice(t,n);var s=n-t,o=new ArrayBuffer(s);return tE(o,0,e,t,s),o}function sa(e){return typeof e=="number"&&(!tk(e)&&(!(e<0)))}function tO(e){var t=tC(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function eT(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function eF(t,n,e){if(!sa(e)||e===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:n,size:e}),t._queueTotalSize+=e}function si(e){var t=e._queue.peek();return t.value}function j(e){e._queue=new a,e._queueTotalSize=0}P=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!eM(this))throw eY("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!eM(this))throw eY("respond");if(f(e,1,"respond"),e=tR(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");e8(this._view.buffer),ef(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!eM(this))throw eY("respondWithNewView");if(f(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");e8(e.buffer),ex(this._associatedReadableByteStreamController,e)},e}(),Object.defineProperties(P.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(P.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0}),N=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!O(this))throw $("byobRequest");return eD(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!O(this))throw $("desiredSize");return tm(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!O(this))throw $("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");Y(this)},e.prototype.enqueue=function(e){if(!O(this))throw $("enqueue");if(f(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");ea(this,e)},e.prototype.error=function(e){if(e===void 0&&(e=void 0),!O(this))throw $("error");l(this,e)},e.prototype[eV]=function(e){ty(this),j(this);var t=this._cancelAlgorithm(e);return eO(this),t},e.prototype[eB]=function(n){var o=this._controlledReadableByteStream,e,i,t,s,a;if(this._queueTotalSize>0){e=this._queue.shift(),this._queueTotalSize-=e.byteLength,t5(this),i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n._chunkSteps(i);return}if(t=this._autoAllocateChunkSize,t!==void 0){s=void 0;try{s=new ArrayBuffer(t)}catch(e){n._errorSteps(e);return}a={buffer:s,bufferByteLength:t,byteOffset:0,byteLength:t,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"},this._pendingPullIntos.push(a)}tN(o,n),x(this)},e}(),Object.defineProperties(N.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(N.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function O(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof N)}function eM(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof P)}function x(e){var t=st(e),n;if(!t)return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,n=e._pullAlgorithm(),r(n,function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,x(e))},function(t){l(e,t)})}function ty(e){eS(e),e._pendingPullIntos=new a}function eA(e,n){var t=!1,s;e._state==="closed"&&(t=!0),s=tj(n),n.readerType==="default"?eL(e,s,t):nZ(e,s,t)}function tj(e){var t=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/n)}function e7(e,n,s,t){e._queue.push({buffer:n,byteOffset:s,byteLength:t}),e._queueTotalSize+=t}function tb(s,e){var d=e.elementSize,l,n,t,h,u=e.bytesFilled-e.bytesFilled%d,r=Math.min(s._queueTotalSize,e.byteLength-e.bytesFilled),a=e.bytesFilled+r,i=a-a%d,o=r,c=!1;for(i>u&&(o=i-e.bytesFilled,c=!0),l=s._queue;o>0;)n=l.peek(),t=Math.min(o,n.byteLength),h=e.byteOffset+e.bytesFilled,tE(e.buffer,h,n.buffer,n.byteOffset,t),n.byteLength===t?l.shift():(n.byteOffset+=t,n.byteLength-=t),s._queueTotalSize-=t,t9(s,t,e),o-=t;return c}function t9(n,e,t){t.bytesFilled+=e}function t5(e){e._queueTotalSize===0&&e._closeRequested?(eO(e),K(e._controlledReadableByteStream)):x(e)}function eS(e){if(e._byobRequest===null)return;e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null}function tg(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;var t=e._pendingPullIntos.peek();tb(e,t)&&(e4(e),eA(e._controlledReadableByteStream,t))}}function so(e,t,s){var o=e._controlledReadableByteStream,a,r,n,d,u,c,i=1;if(t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT),a=t.constructor,r=W(t.buffer),n={buffer:r,bufferByteLength:r.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:a,readerType:"byob"},e._pendingPullIntos.length>0){e._pendingPullIntos.push(n),t1(o,s);return}if(o._state==="closed"){d=new a(n.buffer,n.byteOffset,0),s._closeSteps(d);return}if(e._queueTotalSize>0){if(tb(e,n)){u=tj(n),t5(e),s._chunkSteps(u);return}if(e._closeRequested){c=new TypeError("Insufficient bytes to fill elements in the given buffer"),l(e,c),s._errorSteps(c);return}}e._pendingPullIntos.push(n),t1(o,s),x(e)}function ss(t){var e=t._controlledReadableByteStream,n;if(te(e))for(;td(e)>0;)n=e4(t),eA(e,n)}function sn(t,i,e){if(t9(t,i,e),e.bytesFilled<e.elementSize)return;e4(t);var n=e.bytesFilled%e.elementSize,s,o;n>0&&(s=e.byteOffset+e.bytesFilled,o=tC(e.buffer,s-n,s),e7(t,o,0,o.byteLength)),e.bytesFilled-=n,eA(t._controlledReadableByteStream,e),tg(t)}function t6(e,t){var n=e._pendingPullIntos.peek(),s;eS(e),s=e._controlledReadableByteStream._state,s==="closed"?ss(e):sn(e,t,n),x(e)}function e4(e){var t=e._pendingPullIntos.shift();return t}function st(t){var e=t._controlledReadableByteStream,n;return e._state==="readable"&&(!t._closeRequested&&(!!t._started&&(!!(tT(e)&&en(e)>0)||(!!(te(e)&&td(e)>0)||(!!(n=tm(t),n>0))))))}function eO(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Y(e){var t=e._controlledReadableByteStream,s,n;if(e._closeRequested||t._state!=="readable")return;if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0)if(s=e._pendingPullIntos.peek(),s.bytesFilled>0)throw n=new TypeError("Insufficient bytes to fill elements in the given buffer"),l(e,n),n;eO(e),K(t)}function ea(e,i){var t=e._controlledReadableByteStream,r,n,s,o,a,c;if(e._closeRequested||t._state!=="readable")return;r=i.buffer,n=i.byteOffset,s=i.byteLength,o=W(r),e._pendingPullIntos.length>0&&(a=e._pendingPullIntos.peek(),e8(a.buffer),a.buffer=W(a.buffer)),eS(e),tT(t)?en(t)===0?e7(e,o,n,s):(e._pendingPullIntos.length>0&&e4(e),c=new Uint8Array(o,n,s),eL(t,c,!1)):te(t)?(e7(e,o,n,s),tg(e)):e7(e,o,n,s),x(e)}function l(e,n){var t=e._controlledReadableByteStream;if(t._state!=="readable")return;ty(e),j(e),eO(e),tl(t,n)}function eD(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek(),s=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(P.prototype);nJ(n,e,s),e._byobRequest=n}return e._byobRequest}function tm(e){var t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function ef(n,e){var t=n._pendingPullIntos.peek(),s=n._controlledReadableByteStream._state;if(s==="closed"){if(e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(e===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(t.bytesFilled+e>t.byteLength)throw new RangeError("bytesWritten out of range")}t.buffer=W(t.buffer),t6(n,e)}function ex(n,e){var t=n._pendingPullIntos.peek(),o,s=n._controlledReadableByteStream._state;if(s==="closed"){if(e.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(e.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(t.byteOffset+t.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(t.bufferByteLength!==e.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(t.bytesFilled+e.byteLength>t.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");o=e.byteLength,t.buffer=W(e.buffer),t6(n,o)}function th(t,e,s,o,i,c,d){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=null,e._queue=e._queueTotalSize=void 0,j(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=c,e._pullAlgorithm=o,e._cancelAlgorithm=i,e._autoAllocateChunkSize=d,e._pendingPullIntos=new a,t._readableStreamController=e;var u=s();r(n(u),function(){e._started=!0,x(e)},function(t){l(e,t)})}function se(c,e,r){var t=Object.create(N.prototype),a,o=function(){},i=function(){return n(void 0)},s=function(){return n(void 0)};if(e.start!==void 0&&(o=function(){return e.start(t)}),e.pull!==void 0&&(i=function(){return e.pull(t)}),e.cancel!==void 0&&(s=function(t){return e.cancel(t)}),a=e.autoAllocateChunkSize,a===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");th(c,t,o,i,s,r,a)}function nJ(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}function eY(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function $(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function t4(e){return new X(e)}function t1(e,t){e._reader._readIntoRequests.push(t)}function nZ(n,e,s){var o=n._reader,t=o._readIntoRequests.shift();s?t._closeSteps(e):t._chunkSteps(e)}function td(e){return e._reader._readIntoRequests.length}function te(t){var e=t._reader;return e!==void 0&&(!!w(e))}X=function(){function t(e){if(f(e,1,"ReadableStreamBYOBReader"),eR(e,"First parameter"),b(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!O(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");nn(this,e),this._readIntoRequests=new a}return Object.defineProperty(t.prototype,"closed",{get:function(){return w(this)?this._closedPromise:e(e_("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return t===void 0&&(t=void 0),!w(this)?e(e_("cancel")):this._ownerReadableStream===void 0?e(F("cancel")):eX(this,t)},t.prototype.read=function(t){if(!w(this))return e(e_("read"));if(!ArrayBuffer.isView(t))return e(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return e(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return e(new TypeError("view's buffer must have non-zero byteLength"));if(e8(t.buffer),this._ownerReadableStream===void 0)return e(F("read from"));var n,o,i=s(function(e,t){n=e,o=t}),a={_chunkSteps:function(e){return n({value:e,done:!1})},_closeSteps:function(e){return n({value:e,done:!0})},_errorSteps:function(e){return o(e)}};return tr(this,t,a),i},t.prototype.releaseLock=function(){if(!w(this))throw e_("releaseLock");if(this._ownerReadableStream===void 0)return;if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");m(this)},t}(),Object.defineProperties(X.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(X.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function w(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof X)}function tr(n,s,t){var e=n._ownerReadableStream;e._disturbed=!0,e._state==="errored"?t._errorSteps(e._storedError):so(e._readableStreamController,s,t)}function e_(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function V(t,n){var e=t.highWaterMark;if(e===void 0)return n;if(tk(e)||e<0)throw new RangeError("Invalid highWaterMark");return e}function ec(t){var e=t.size;return e||function(){return 1}}function ej(e,t){p(e,t);var n=e===null||e===void 0?void 0:e.highWaterMark,s=e===null||e===void 0?void 0:e.size;return{highWaterMark:n===void 0?void 0:ta(n),size:s===void 0?void 0:nQ(s,t+" has member 'size' that")}}function nQ(e,t){return c(e,t),function(t){return ta(e(t))}}function nX(e,t){p(e,t);var n=e===null||e===void 0?void 0:e.abort,s=e===null||e===void 0?void 0:e.close,o=e===null||e===void 0?void 0:e.start,a=e===null||e===void 0?void 0:e.type,i=e===null||e===void 0?void 0:e.write;return{abort:n===void 0?void 0:nG(n,e,t+" has member 'abort' that"),close:s===void 0?void 0:nY(s,e,t+" has member 'close' that"),start:o===void 0?void 0:nq(o,e,t+" has member 'start' that"),write:i===void 0?void 0:nK(i,e,t+" has member 'write' that"),type:a}}function nG(e,t,n){return c(e,n),function(n){return C(e,t,[n])}}function nY(e,t,n){return c(e,n),function(){return C(e,t,[])}}function nq(e,t,n){return c(e,n),function(n){return ev(e,t,[n])}}function nK(e,t,n){return c(e,n),function(n,s){return C(e,t,[n,s])}}function t0(e,t){if(!M(e))throw new TypeError(t+" is not a WritableStream.")}function nU(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch(e){return!1}}nW=typeof AbortController=="function";function n$(){return nW?new AbortController:void 0}B=function(){function t(e,t){e===void 0&&(e={}),t===void 0&&(t={}),e===void 0?e=null:tW(e,"First parameter");var n=ej(t,"Second parameter"),o,i,a,s=nX(e,"First parameter");if(tU(this),o=s.type,o!==void 0)throw new RangeError("Invalid type is specified");i=ec(n),a=V(n,1),n5(this,s,a,i)}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!M(this))throw eg("locked");return L(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return t===void 0&&(t=void 0),!M(this)?e(eg("abort")):L(this)?e(new TypeError("Cannot abort a stream that already has a writer")):eu(this,t)},t.prototype.close=function(){return M(this)?L(this)?e(new TypeError("Cannot close a stream that already has a writer")):u(this)?e(new TypeError("Cannot close an already-closing stream")):t7(this):e(eg("close"))},t.prototype.getWriter=function(){if(!M(this))throw eg("getWriter");return t8(this)},t}(),Object.defineProperties(B.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(B.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});function t8(e){return new ee(e)}function nV(a,s,o,i,t,n){t===void 0&&(t=1),n===void 0&&(n=function(){return 1});var e=Object.create(B.prototype),r;return tU(e),r=Object.create(D.prototype),t$(e,r,a,s,o,i,t,n),e}function tU(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new a,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function M(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof B)}function L(e){return e._writer!==void 0}function eu(e,t){if(e._state==="closed"||e._state==="errored")return n(void 0);e._writableStreamController._abortReason=t,(o=e._writableStreamController._abortController)===null||o===void 0?void 0:o.abort();var o,i=e._state,a,r;return i==="closed"||i==="errored"?n(void 0):e._pendingAbortRequest!==void 0?e._pendingAbortRequest._promise:(a=!1,i==="erroring"&&(a=!0,t=void 0),r=s(function(n,s){e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:s,_reason:t,_wasAlreadyErroring:a}}),e._pendingAbortRequest._promise=r,a||eE(e,t),r)}function t7(t){var n=t._state,i,o;return n==="closed"||n==="errored"?e(new TypeError("The stream (in "+n+" state) is not in the writable state and cannot be closed")):(i=s(function(e,n){var s={_resolve:e,_reject:n};t._closeRequest=s}),o=t._writer,o!==void 0&&t._backpressure&&n==="writable"&&eI(o),ng(t._writableStreamController),i)}function nH(e){var t=s(function(t,n){var s={_resolve:t,_reject:n};e._writeRequests.push(s)});return t}function ek(e,t){var n=e._state;if(n==="writable"){eE(e,t);return}eC(e)}function eE(e,t){var s=e._writableStreamController,n;e._state="erroring",e._storedError=t,n=e._writer,n!==void 0&&tL(n,t),!n_(e)&&s._started&&eC(e)}function eC(e){e._state="errored",e._writableStreamController[tX]();var n=e._storedError,t,s;if(e._writeRequests.forEach(function(e){e._reject(n)}),e._writeRequests=new a,e._pendingAbortRequest===void 0){e0(e);return}if(t=e._pendingAbortRequest,e._pendingAbortRequest=void 0,t._wasAlreadyErroring){t._reject(n),e0(e);return}s=e._writableStreamController[tQ](t._reason),r(s,function(){t._resolve(),e0(e)},function(n){t._reject(n),e0(e)})}function nk(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function nC(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,ek(e,t)}function nx(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var n=e._state,t;n==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed",t=e._writer,t!==void 0&&tV(t)}function nw(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),ek(e,t)}function u(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function n_(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function ny(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function nj(e){e._inFlightWriteRequest=e._writeRequests.shift()}function e0(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;t!==void 0&&ts(t,e._storedError)}function eN(e,t){var n=e._writer;n!==void 0&&t!==e._backpressure&&(t?n3(n):eI(n)),e._backpressure=t}ee=function(){function t(e){if(f(e,1,"WritableStreamDefaultWriter"),t0(e,"First parameter"),L(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state,n;t==="writable"?(!u(e)&&e._backpressure?ei(this):tJ(this),eb(this)):t==="erroring"?(tn(this,e._storedError),eb(this)):t==="closed"?(tJ(this),s6(this)):(n=e._storedError,tn(this,n),nr(this,n))}return Object.defineProperty(t.prototype,"closed",{get:function(){return S(this)?this._closedPromise:e(k("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!S(this))throw k("desiredSize");if(this._ownerWritableStream===void 0)throw G("desiredSize");return n7(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return S(this)?this._readyPromise:e(k("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return t===void 0&&(t=void 0),!S(this)?e(k("abort")):this._ownerWritableStream===void 0?e(G("abort")):nb(this,t)},t.prototype.close=function(){if(!S(this))return e(k("close"));var t=this._ownerWritableStream;return t===void 0?e(G("close")):u(t)?e(new TypeError("Cannot close an already-closing stream")):tz(this)},t.prototype.releaseLock=function(){if(!S(this))throw k("releaseLock");var e=this._ownerWritableStream;if(e===void 0)return;tP(this)},t.prototype.write=function(t){return t===void 0&&(t=void 0),!S(this)?e(k("write")):this._ownerWritableStream===void 0?e(G("write to")):tH(this,t)},t}(),Object.defineProperties(ee.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(ee.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function S(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof ee)}function nb(e,t){var n=e._ownerWritableStream;return eu(n,t)}function tz(e){var t=e._ownerWritableStream;return t7(t)}function n9(s){var t=s._ownerWritableStream,o=t._state;return u(t)||o==="closed"?n(void 0):o==="errored"?e(t._storedError):tz(s)}function nv(e,t){e._closedPromiseState==="pending"?ts(e,t):n4(e,t)}function tL(e,t){e._readyPromiseState==="pending"?tZ(e,t):nh(e,t)}function n7(n){var t=n._ownerWritableStream,e=t._state;return e==="errored"||e==="erroring"?null:e==="closed"?0:tY(t._writableStreamController)}function tP(e){var n=e._ownerWritableStream,t=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");tL(e,t),nv(e,t),n._writer=void 0,e._ownerWritableStream=void 0}function tH(s,o){var t=s._ownerWritableStream,n,r,i=t._writableStreamController,a=n8(i,o);return t!==s._ownerWritableStream?e(G("write to")):(n=t._state,n==="errored")?e(t._storedError):u(t)||n==="closed"?e(new TypeError("The stream is closing or closed and cannot be written to")):n==="erroring"?e(t._storedError):(r=nH(t),nm(i,o,a),r)}nd={},D=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!eP(this))throw eQ("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!eP(this))throw eQ("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(e){if(e===void 0&&(e=void 0),!eP(this))throw eQ("error");var t=this._controlledWritableStream._state;if(t!=="writable")return;nt(this,e)},e.prototype[tQ]=function(e){var t=this._abortAlgorithm(e);return e3(this),t},e.prototype[tX]=function(){j(this)},e}(),Object.defineProperties(D.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(D.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function eP(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof D)}function t$(t,e,s,o,i,a,c,l){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,j(e),e._abortReason=void 0,e._abortController=n$(),e._started=!1,e._strategySizeAlgorithm=l,e._strategyHWM=c,e._writeAlgorithm=o,e._closeAlgorithm=i,e._abortAlgorithm=a;var d=eK(e),u,h;eN(t,d),u=s(),h=n(u),r(h,function(){e._started=!0,em(e)},function(n){e._started=!0,ek(t,n)})}function n5(c,e,l,r){var t=Object.create(D.prototype),i=function(){},s=function(){return n(void 0)},a=function(){return n(void 0)},o=function(){return n(void 0)};e.start!==void 0&&(i=function(){return e.start(t)}),e.write!==void 0&&(s=function(n){return e.write(n,t)}),e.close!==void 0&&(a=function(){return e.close()}),e.abort!==void 0&&(o=function(t){return e.abort(t)}),t$(c,t,i,s,a,o,l,r)}function e3(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ng(e){eF(e,nd,0),em(e)}function n8(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return e$(e,t),1}}function tY(e){return e._strategyHWM-e._queueTotalSize}function nm(e,n,s){try{eF(e,n,s)}catch(t){e$(e,t);return}var t=e._controlledWritableStream,o;!u(t)&&t._state==="writable"&&(o=eK(e),eN(t,o)),em(e)}function em(e){var t=e._controlledWritableStream,s,n;if(!e._started)return;if(t._inFlightWriteRequest!==void 0)return;if(s=t._state,s==="erroring"){eC(t);return}if(e._queue.length===0)return;n=si(e),n===nd?n2(e):n0(e,n)}function e$(e,t){e._controlledWritableStream._state==="writable"&&nt(e,t)}function n2(e){var t=e._controlledWritableStream,n;ny(t),eT(e),n=e._closeAlgorithm(),e3(e),r(n,function(){nx(t)},function(e){nw(t,e)})}function n0(t,n){var e=t._controlledWritableStream,s;nj(e),s=t._writeAlgorithm(n),r(s,function(){nk(e);var n=e._state,s;eT(t),!u(e)&&n==="writable"&&(s=eK(t),eN(e,s)),em(t)},function(n){e._state==="writable"&&e3(t),nC(e,n)})}function eK(e){var t=tY(e);return t<=0}function nt(e,t){var n=e._controlledWritableStream;e3(e),eE(n,t)}function eg(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function eQ(e){return new TypeError("WritableStreamDefaultController.prototype."+e+" can only be used on a WritableStreamDefaultController")}function k(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function G(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function eb(e){e._closedPromise=s(function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function nr(e,t){eb(e),ts(e,t)}function s6(e){eb(e),tV(e)}function ts(e,t){if(e._closedPromise_reject===void 0)return;U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function n4(e,t){nr(e,t)}function tV(e){if(e._closedPromise_resolve===void 0)return;e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function ei(e){e._readyPromise=s(function(t,n){e._readyPromise_resolve=t,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function tn(e,t){ei(e),tZ(e,t)}function tJ(e){ei(e),eI(e)}function tZ(e,t){if(e._readyPromise_reject===void 0)return;U(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function n3(e){ei(e)}function nh(e,t){tn(e,t)}function eI(e){if(e._readyPromise_resolve===void 0)return;e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}tq=typeof DOMException!="undefined"?DOMException:void 0;function nf(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch(e){return!1}}function n6(){var e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}np=nf(tq)?tq:n6();function tK(t,e,g,p,f,i){var l=z(t),o,c,a=t8(e);return t._disturbed=!0,o=!1,c=n(void 0),s(function(x,C){if(i!==void 0){if(b=function(){var s=new np("Aborted","AbortError"),o=[];p||o.push(function(){return e._state==="writable"?eu(e,s):n(void 0)}),f||o.push(function(){return t._state==="readable"?d(t,s):n(void 0)}),v(function(){return Promise.all(o.map(function(e){return e()}))},!0,s)},i.aborted){b();return}i.addEventListener("abort",b)}function k(){return s(function(t,n){function e(s){s?t():h(A(),e,n)}e(!1)})}function A(){return o?n(!0):h(a._readyPromise,function(){return s(function(e,t){q(l,{_chunkSteps:function(t){c=h(tH(a,t),void 0,to),e(!1)},_closeSteps:function(){return e(!0)},_errorSteps:t})})})}if(O(t,l._closedPromise,function(t){p?j(!0,t):v(function(){return eu(e,t)},!0,t)}),O(e,a._closedPromise,function(e){f?j(!0,e):v(function(){return d(t,e)},!0,e)}),E(t,l._closedPromise,function(){g?j():v(function(){return n9(a)})}),u(e)||e._state==="closed"){var b,w=new TypeError("the destination writable stream closed before all data could be piped to it");f?j(!0,w):v(function(){return d(t,w)},!0,w)}U(k());function _(){var e=c;return h(c,function(){return e!==c?_():void 0})}function O(e,n,t){e._state==="errored"?t(e._storedError):eZ(n,t)}function E(t,n,e){t._state==="closed"?e():eJ(n,e)}function v(n,s,i){if(o)return;o=!0,e._state==="writable"&&!u(e)?eJ(_(),t):t();function t(){r(n(),function(){return y(s,i)},function(e){return y(!0,e)})}}function j(t,n){if(o)return;o=!0,e._state==="writable"&&!u(e)?eJ(_(),function(){return y(t,n)}):y(t,n)}function y(e,t){tP(a),m(l),i!==void 0&&i.removeEventListener("abort",b),e?C(t):x(void 0)}})}R=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!eo(this))throw ew("desiredSize");return ez(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!eo(this))throw ew("close");if(!T(this))throw new TypeError("The stream is not in a state that permits close");I(this)},e.prototype.enqueue=function(e){if(e===void 0&&(e=void 0),!eo(this))throw ew("enqueue");if(!T(this))throw new TypeError("The stream is not in a state that permits enqueue");return et(this,e)},e.prototype.error=function(e){if(e===void 0&&(e=void 0),!eo(this))throw ew("error");g(this,e)},e.prototype[eV]=function(e){j(this);var t=this._cancelAlgorithm(e);return es(this),t},e.prototype[eB]=function(e){var t=this._controlledReadableStream,n;this._queue.length>0?(n=eT(this),this._closeRequested&&this._queue.length===0?(es(this),K(t)):Z(this),e._chunkSteps(n)):(tN(t,e),Z(this))},e}(),Object.defineProperties(R.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(R.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function eo(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof R)}function Z(e){var t=tD(e),n;if(!t)return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,n=e._pullAlgorithm(),r(n,function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Z(e))},function(t){g(e,t)})}function tD(e){var t=e._controlledReadableStream,n;return!!T(e)&&(!!e._started&&(!!(b(t)&&en(t)>0)||(!!(n=ez(e),n>0))))}function es(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function I(e){if(!T(e))return;var t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(es(e),K(t))}function et(e,t){if(!T(e))return;var n=e._controlledReadableStream,s;if(b(n)&&en(n)>0)eL(n,t,!1);else{s=void 0;try{s=e._strategySizeAlgorithm(t)}catch(t){throw g(e,t),t}try{eF(e,t,s)}catch(t){throw g(e,t),t}}Z(e)}function g(e,n){var t=e._controlledReadableStream;if(t._state!=="readable")return;j(e),es(e),tl(t,n)}function ez(e){var t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function nO(e){return!tD(e)}function T(e){var t=e._controlledReadableStream._state;return!!(!e._closeRequested&&t==="readable")}function t_(t,e,s,o,i,a,c){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,j(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=c,e._strategyHWM=a,e._pullAlgorithm=o,e._cancelAlgorithm=i,t._readableStreamController=e;var l=s();r(n(l),function(){e._started=!0,Z(e)},function(t){g(e,t)})}function nE(c,e,a,r){var t=Object.create(R.prototype),o=function(){},s=function(){return n(void 0)},i=function(){return n(void 0)};e.start!==void 0&&(o=function(){return e.start(t)}),e.pull!==void 0&&(s=function(){return e.pull(t)}),e.cancel!==void 0&&(i=function(t){return e.cancel(t)}),t_(c,t,o,s,i,a,r)}function ew(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function nA(e){return O(e._readableStreamController)?nM(e):nS(e)}function nS(m){var f=z(m),u,h,r,a,o,i=!1,l=!1,t=!1,e=!1,p=s(function(e){o=e});function c(){if(i)return l=!0,n(void 0);i=!0;var s={_chunkSteps:function(n){e9(function(){l=!1;var s=n,o=n;t||et(r._readableStreamController,s),e||et(a._readableStreamController,o),i=!1,l&&c()})},_closeSteps:function(){i=!1,t||I(r._readableStreamController),e||I(a._readableStreamController),(!t||!e)&&o(void 0)},_errorSteps:function(){i=!1}};return q(f,s),n(void 0)}function b(n){if(t=!0,u=n,e){var s=H([u,h]),i=d(m,s);o(i)}return p}function j(n){if(e=!0,h=n,t){var s=H([u,h]),i=d(m,s);o(i)}return p}function v(){}return r=eU(v,c,b),a=eU(v,c,j),eZ(f._closedPromise,function(n){g(r._readableStreamController,n),g(a._readableStreamController,n),(!t||!e)&&o(void 0)}),[r,a]}function nM(u){var e=z(u),g,y,t,o,c,r=!1,f=!1,h=!1,i=!1,a=!1,x=s(function(e){c=e});function j(n){eZ(n._closedPromise,function(s){if(n!==e)return;l(t._readableStreamController,s),l(o._readableStreamController,s),(!i||!a)&&c(void 0)})}function _(){w(e)&&(m(e),e=z(u),j(e));var n={_chunkSteps:function(e){e9(function(){f=!1,h=!1;var s=e,n=e;if(!i&&!a)try{n=tO(e)}catch(e){l(t._readableStreamController,e),l(o._readableStreamController,e),c(d(u,e));return}i||ea(t._readableStreamController,s),a||ea(o._readableStreamController,n),r=!1,f?p():h&&b()})},_closeSteps:function(){r=!1,i||Y(t._readableStreamController),a||Y(o._readableStreamController),t._readableStreamController._pendingPullIntos.length>0&&ef(t._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&ef(o._readableStreamController,0),(!i||!a)&&c(void 0)},_errorSteps:function(){r=!1}};q(e,n)}function O(y,n){v(e)&&(m(e),e=t4(u),j(e));var s=n?o:t,g=n?t:o,_={_chunkSteps:function(e){e9(function(){f=!1,h=!1;var t=n?a:i,o,m=n?i:a;if(m)t||ex(s._readableStreamController,e);else{o=void 0;try{o=tO(e)}catch(e){l(s._readableStreamController,e),l(g._readableStreamController,e),c(d(u,e));return}t||ex(s._readableStreamController,e),ea(g._readableStreamController,o)}r=!1,f?p():h&&b()})},_closeSteps:function(o){r=!1;var e=n?a:i,t=n?i:a;e||Y(s._readableStreamController),t||Y(g._readableStreamController),o!==void 0&&(e||ex(s._readableStreamController,o),!t&&g._readableStreamController._pendingPullIntos.length>0&&ef(g._readableStreamController,0)),(!e||!t)&&c(void 0)},_errorSteps:function(){r=!1}};tr(e,y,_)}function p(){if(r)return f=!0,n(void 0);r=!0;var e=eD(t._readableStreamController);return e===null?_():O(e._view,!1),n(void 0)}function b(){if(r)return h=!0,n(void 0);r=!0;var e=eD(o._readableStreamController);return e===null?_():O(e._view,!0),n(void 0)}function E(e){if(i=!0,g=e,a){var t=H([g,y]),n=d(u,t);c(n)}return x}function k(e){if(a=!0,y=e,i){var t=H([g,y]),n=d(u,t);c(n)}return x}function C(){}return t=t3(C,p,E),o=t3(C,b,k),j(e),[t,o]}function nF(n,t){p(n,t);var e=n,s=e===null||e===void 0?void 0:e.autoAllocateChunkSize,o=e===null||e===void 0?void 0:e.cancel,i=e===null||e===void 0?void 0:e.pull,a=e===null||e===void 0?void 0:e.start,r=e===null||e===void 0?void 0:e.type;return{autoAllocateChunkSize:s===void 0?void 0:tR(s,t+" has member 'autoAllocateChunkSize' that"),cancel:o===void 0?void 0:nT(o,e,t+" has member 'cancel' that"),pull:i===void 0?void 0:nz(i,e,t+" has member 'pull' that"),start:a===void 0?void 0:nD(a,e,t+" has member 'start' that"),type:r===void 0?void 0:nN(r,t+" has member 'type' that")}}function nT(e,t,n){return c(e,n),function(n){return C(e,t,[n])}}function nz(e,t,n){return c(e,n),function(n){return C(e,t,[n])}}function nD(e,t,n){return c(e,n),function(n){return ev(e,t,[n])}}function nN(e,t){if(e=""+e,e!=="bytes")throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamType");return e}function nL(e,t){p(e,t);var n=e===null||e===void 0?void 0:e.mode;return{mode:n===void 0?void 0:nR(n,t+" has member 'mode' that")}}function nR(e,t){if(e=""+e,e!=="byob")throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamReaderMode");return e}function nP(e,t){p(e,t);var n=e===null||e===void 0?void 0:e.preventCancel;return{preventCancel:Boolean(n)}}function tv(e,n){p(e,n);var s=e===null||e===void 0?void 0:e.preventAbort,o=e===null||e===void 0?void 0:e.preventCancel,i=e===null||e===void 0?void 0:e.preventClose,t=e===null||e===void 0?void 0:e.signal;return t!==void 0&&nI(t,n+" has member 'signal' that"),{preventAbort:Boolean(s),preventCancel:Boolean(o),preventClose:Boolean(i),signal:t}}function nI(e,t){if(!nU(e))throw new TypeError(t+" is not an AbortSignal.")}function nB(e,t){p(e,t);var n=e===null||e===void 0?void 0:e.readable,s;return eH(n,"readable","ReadableWritablePair"),eR(n,t+" has member 'readable' that"),s=e===null||e===void 0?void 0:e.writable,eH(s,"writable","ReadableWritablePair"),t0(s,t+" has member 'writable' that"),{readable:n,writable:s}}_=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n={}),e===void 0?e=null:tW(e,"First parameter");var t=ej(n,"Second parameter"),o,i,s=nF(e,"First parameter");if(eq(this),s.type==="bytes"){if(t.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");o=V(t,0),se(this,s,o)}else i=ec(t),o=V(t,1),nE(this,s,o,i)}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!y(this))throw E("locked");return b(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return t===void 0&&(t=void 0),!y(this)?e(E("cancel")):b(this)?e(new TypeError("Cannot cancel a stream that already has a reader")):d(this,t)},t.prototype.getReader=function(e){if(e===void 0&&(e=void 0),!y(this))throw E("getReader");var t=nL(e,"First parameter");return t.mode===void 0?z(this):t4(this)},t.prototype.pipeThrough=function(s,t){if(t===void 0&&(t={}),!y(this))throw E("pipeThrough");f(s,1,"pipeThrough");var n=nB(s,"First parameter"),o,e=tv(t,"Second parameter");if(b(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(L(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return o=tK(this,n.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal),U(o),n.readable},t.prototype.pipeTo=function(n,s){if(s===void 0&&(s={}),!y(this))return e(E("pipeTo"));if(n===void 0)return e("Parameter 1 is required in 'pipeTo'.");if(!M(n))return e(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var t;try{t=tv(s,"Second parameter")}catch(t){return e(t)}return b(this)?e(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):L(n)?e(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tK(this,n,t.preventClose,t.preventAbort,t.preventCancel,t.signal)},t.prototype.tee=function(){if(!y(this))throw E("tee");var e=nA(this);return H(e)},t.prototype.values=function(e){if(e===void 0&&(e=void 0),!y(this))throw E("values");var t=nP(e,"First parameter");return su(this,t.preventCancel)},t}(),Object.defineProperties(_.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(_.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),typeof t.asyncIterator=="symbol"&&Object.defineProperty(_.prototype,t.asyncIterator,{value:_.prototype.values,writable:!0,configurable:!0});function eU(s,o,i,e,t){e===void 0&&(e=1),t===void 0&&(t=function(){return 1});var n=Object.create(_.prototype),a;return eq(n),a=Object.create(R.prototype),t_(n,a,s,o,i,e,t),n}function t3(t,n,s){var e=Object.create(_.prototype),o;return eq(e),o=Object.create(N.prototype),th(e,o,t,n,s,0,void 0),e}function eq(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function y(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof _)}function b(e){return e._reader!==void 0}function d(t,o){if(t._disturbed=!0,t._state==="closed")return n(void 0);if(t._state==="errored")return e(t._storedError);K(t);var s=t._reader,i;return s!==void 0&&w(s)&&(s._readIntoRequests.forEach(function(e){e._closeSteps(void 0)}),s._readIntoRequests=new a),i=t._readableStreamController[eV](o),A(i,to)}function K(t){t._state="closed";var e=t._reader;if(e===void 0)return;nu(e),v(e)&&(e._readRequests.forEach(function(e){e._closeSteps()}),e._readRequests=new a)}function tl(n,t){n._state="errored",n._storedError=t;var e=n._reader;if(e===void 0)return;eW(e,t),v(e)?(e._readRequests.forEach(function(e){e._errorSteps(t)}),e._readRequests=new a):(e._readIntoRequests.forEach(function(e){e._errorSteps(t)}),e._readIntoRequests=new a)}function E(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function tu(e,n){p(e,n);var t=e===null||e===void 0?void 0:e.highWaterMark;return eH(t,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ta(t)}}t2=function(e){return e.byteLength},Object.defineProperty(t2,"name",{value:"size",configurable:!0}),ep=function(){function e(e){f(e,1,"ByteLengthQueuingStrategy"),e=tu(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!tp(this))throw tf("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!tp(this))throw tf("size");return t2},enumerable:!1,configurable:!0}),e}(),Object.defineProperties(ep.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(ep.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function tf(e){return new TypeError("ByteLengthQueuingStrategy.prototype."+e+" can only be used on a ByteLengthQueuingStrategy")}function tp(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof ep)}tc=function(){return 1},Object.defineProperty(tc,"name",{value:"size",configurable:!0}),e5=function(){function e(e){f(e,1,"CountQueuingStrategy"),e=tu(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!tx(this))throw tw("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!tx(this))throw tw("size");return tc},enumerable:!1,configurable:!0}),e}(),Object.defineProperties(e5.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(e5.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function tw(e){return new TypeError("CountQueuingStrategy.prototype."+e+" can only be used on a CountQueuingStrategy")}function tx(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof e5)}function sr(e,t){p(e,t);var n=e===null||e===void 0?void 0:e.flush,i=e===null||e===void 0?void 0:e.readableType,s=e===null||e===void 0?void 0:e.start,o=e===null||e===void 0?void 0:e.transform,a=e===null||e===void 0?void 0:e.writableType;return{flush:n===void 0?void 0:sc(n,e,t+" has member 'flush' that"),readableType:i,start:s===void 0?void 0:sl(s,e,t+" has member 'start' that"),transform:o===void 0?void 0:sd(o,e,t+" has member 'transform' that"),writableType:a}}function sc(e,t,n){return c(e,n),function(n){return C(e,t,[n])}}function sl(e,t,n){return c(e,n),function(n){return ev(e,t,[n])}}function sd(e,t,n){return c(e,n),function(n,s){return C(e,t,[n,s])}}e1=function(){function e(e,n,o){e===void 0&&(e={}),n===void 0&&(n={}),o===void 0&&(o={}),e===void 0&&(e=null);var a=ej(n,"Second parameter"),c,l,d,u,i,h,r=ej(o,"Third parameter"),t=sr(e,"First parameter");if(t.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(t.writableType!==void 0)throw new RangeError("Invalid writableType specified");c=V(r,0),l=ec(r),d=V(a,1),u=ec(a),h=s(function(e){i=e}),s1(this,h,d,u,c,l),sf(this,t),t.start!==void 0?i(t.start(this._transformStreamController)):i(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!tI(this))throw n1("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!tI(this))throw n1("writable");return this._writable},enumerable:!1,configurable:!0}),e}(),Object.defineProperties(e1.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(e1.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});function s1(e,s,o,i,a,r){function t(){return s}function c(t){return sv(e,t)}function l(t){return s9(e,t)}function d(){return sb(e)}e._writable=nV(t,c,d,l,o,i);function u(){return sj(e)}function h(t){return ed(e,t),n(void 0)}e._readable=eU(t,u,h,a,r),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,e2(e,!0),e._transformStreamController=void 0}function tI(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof e1)}function eh(e,t){g(e._readable._readableStreamController,t),ed(e,t)}function ed(e,t){no(e._transformStreamController),e$(e._writable._writableStreamController,t),e._backpressure&&e2(e,!1)}function e2(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=s(function(t){e._backpressureChangePromise_resolve=t}),e._backpressure=t}J=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!e6(this))throw ey("desiredSize");var e=this._controlledTransformStream._readable._readableStreamController;return ez(e)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(e===void 0&&(e=void 0),!e6(this))throw ey("enqueue");ni(this,e)},e.prototype.error=function(e){if(e===void 0&&(e=void 0),!e6(this))throw ey("error");sg(this,e)},e.prototype.terminate=function(){if(!e6(this))throw ey("terminate");s7(this)},e}(),Object.defineProperties(J.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(J.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function e6(e){return!!i(e)&&(!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof J)}function s8(t,e,n,s){e._controlledTransformStream=t,t._transformStreamController=e,e._transformAlgorithm=n,e._flushAlgorithm=s}function sf(a,t){var s=Object.create(J.prototype),o=function(t){try{return ni(s,t),n(void 0)}catch(t){return e(t)}},i=function(){return n(void 0)};t.transform!==void 0&&(o=function(e){return t.transform(e,s)}),t.flush!==void 0&&(i=function(){return t.flush(s)}),s8(a,s,o,i)}function no(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function ni(n,s){var e=n._controlledTransformStream,o,t=e._readable._readableStreamController;if(!T(t))throw new TypeError("Readable side is not in a state that permits enqueue");try{et(t,s)}catch(t){throw ed(e,t),e._readable._storedError}o=nO(t),o!==e._backpressure&&e2(e,!0)}function sg(e,t){eh(e._controlledTransformStream,t)}function na(e,t){var n=e._transformAlgorithm(t);return A(n,void 0,function(t){throw eh(e._controlledTransformStream,t),t})}function s7(t){var e=t._controlledTransformStream,s,n=e._readable._readableStreamController;I(n),s=new TypeError("TransformStream terminated"),ed(e,s)}function sv(e,t){var n=e._transformStreamController,s;return e._backpressure?(s=e._backpressureChangePromise,A(s,function(){var s=e._writable,o=s._state;if(o==="erroring")throw s._storedError;return na(n,t)})):na(n,t)}function s9(e,t){return eh(e,t),n(void 0)}function sb(t){var e=t._readable,n=t._transformStreamController,s=n._flushAlgorithm();return no(n),A(s,function(){if(e._state==="errored")throw e._storedError;I(e._readableStreamController)},function(n){throw eh(t,n),e._storedError})}function sj(e){return e2(e,!1),e._backpressureChangePromise}function ey(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function n1(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}o.ByteLengthQueuingStrategy=ep,o.CountQueuingStrategy=e5,o.ReadableByteStreamController=N,o.ReadableStream=_,o.ReadableStreamBYOBReader=X,o.ReadableStreamBYOBRequest=P,o.ReadableStreamDefaultController=R,o.ReadableStreamDefaultReader=Q,o.TransformStream=e1,o.TransformStreamDefaultController=J,o.WritableStream=B,o.WritableStreamDefaultController=D,o.WritableStreamDefaultWriter=ee,Object.defineProperty(o,"__esModule",{value:!0})})},(f,t,c)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var s=d(c(2)),u,h,m,l,e=c(4);function d(e){return e&&e.__esModule?e:{default:e}}function a(n,r,c,s,o,i,a){try{var e=n[i](a),t=e.value}catch(e){c(e);return}e.done?r(t):Promise.resolve(t).then(s,o)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function s(e){a(r,o,i,s,c,"next",e)}function c(e){a(r,o,i,s,c,"throw",e)}s(void 0)})}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}u=function(){function t(){n(this,t),this.constructor===t&&(0,e.unreachable)("Cannot initialize BaseCanvasFactory.")}return o(t,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}},{key:"_createCanvas",value:function(){(0,e.unreachable)("Abstract method `_createCanvas` called.")}}]),t}(),t.BaseCanvasFactory=u,h=function(){function t(s){var o=s.baseUrl,a=o===void 0?null:o,i=s.isCompressed,r=i!==void 0&&i;n(this,t),this.constructor===t&&(0,e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=r}return o(t,[{key:"fetch",value:function(){var t=r(s.default.mark(function i(a){var r=this,t,n,o;return s.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:if(t=a.name,this.baseUrl){s.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(t){s.next=5;break}throw new Error("CMap name must be specified.");case 5:return n=this.baseUrl+t+(this.isCompressed?".bcmap":""),o=this.isCompressed?e.CMapCompressionType.BINARY:e.CMapCompressionType.NONE,s.abrupt("return",this._fetchData(n,o).catch(function(){throw new Error("Unable to load ".concat(r.isCompressed?"binary ":"","CMap at: ").concat(n))}));case 8:case"end":return s.stop()}},i,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"_fetchData",value:function(){(0,e.unreachable)("Abstract method `_fetchData` called.")}}]),t}(),t.BaseCMapReaderFactory=h,m=function(){function t(o){var s=o.baseUrl,i=s===void 0?null:s;n(this,t),this.constructor===t&&(0,e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=i}return o(t,[{key:"fetch",value:function(){var e=r(s.default.mark(function n(o){var e,t;return s.default.wrap(function(n){for(;1;)switch(n.prev=n.next){case 0:if(e=o.filename,this.baseUrl){n.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(e){n.next=5;break}throw new Error("Font filename must be specified.");case 5:return t="".concat(this.baseUrl).concat(e),n.abrupt("return",this._fetchData(t).catch(function(){throw new Error("Unable to load font data at: ".concat(t))}));case 7:case"end":return n.stop()}},n,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_fetchData",value:function(){(0,e.unreachable)("Abstract method `_fetchData` called.")}}]),t}(),t.BaseStandardFontDataFactory=m,l=function(){function t(){n(this,t),this.constructor===t&&(0,e.unreachable)("Cannot initialize BaseSVGFactory.")}return o(t,[{key:"create",value:function(t,n){if(t<=0||n<=0)throw new Error("Invalid SVG dimensions");var e=this._createSVG("svg:svg");return e.setAttribute("version","1.1"),e.setAttribute("width","".concat(t,"px")),e.setAttribute("height","".concat(n,"px")),e.setAttribute("preserveAspectRatio","none"),e.setAttribute("viewBox","0 0 ".concat(t," ").concat(n)),e}},{key:"createElement",value:function(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}},{key:"_createSVG",value:function(){(0,e.unreachable)("Abstract method `_createSVG` called.")}}]),t}(),t.BaseSVGFactory=l},(em,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.build=t.RenderTask=t.PDFWorker=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFDocumentLoadingTask=t.PDFDataRangeTransport=t.LoopbackPort=t.DefaultStandardFontDataFactory=t.DefaultCanvasFactory=t.DefaultCMapReaderFactory=void 0,t.getDocument=X,t.setPDFNetworkStreamFactory=G,t.version=void 0;var i=el(o(2)),Z,Y,N,F,I,W,B,R,U,M,z,a,C,w,P,j,O,m,b,v,e4,H,V,e3,ec,ee,e=o(4),n=o(1),$=o(137),E=o(138),e2=o(139),eh=o(140),S=o(142),u=o(6),g=o(143),e0=o(144),e1=o(145),eu=o(146),ed=o(147);function el(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){er(e,t),t.set(e,n)}function er(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _(e,n,t){var s=L(e,n,"set");return ea(e,s,t),t}function ea(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function r(e,t){var n=L(e,t,"get");return ei(e,n)}function L(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function ei(t,e){return e.get?e.get.call(t):e.value}function eo(e){return en(e)||K(e)||A(e)||es()}function es(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function en(e){if(Array.isArray(e))return x(e)}function s(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=A(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function l(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}function D(n,r,c,s,o,i,a){try{var e=n[i](a),t=e.value}catch(e){c(e);return}e.done?r(t):Promise.resolve(t).then(s,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){D(a,o,i,s,r,"next",e)}function r(e){D(a,o,i,s,r,"throw",e)}s(void 0)})}}function p(e,t){return J(e)||et(e,t)||A(e,t)||q()}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,n){if(!e)return;if(typeof e=="string")return x(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x(e,n)}function x(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function et(t,o){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"],n,s,i,a,r;if(e==null)return;n=[],s=!0,i=!1;try{for(e=e.call(t);!(s=(a=e.next()).done);s=!0)if(n.push(a.value),o&&n.length===o)break}catch(e){i=!0,r=e}finally{try{!s&&e.return!=null&&e.return()}finally{if(i)throw r}}return n}function J(e){if(Array.isArray(e))return e}function h(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(e){return typeof e}:h=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}Z=65536,Y=100,N=u.isNodeJS?E.NodeCanvasFactory:n.DOMCanvasFactory,t.DefaultCanvasFactory=N,F=u.isNodeJS?E.NodeCMapReaderFactory:n.DOMCMapReaderFactory,t.DefaultCMapReaderFactory=F,I=u.isNodeJS?E.NodeStandardFontDataFactory:n.DOMStandardFontDataFactory,t.DefaultStandardFontDataFactory=I;function G(e){W=e}function X(o){if(a=new B,typeof o=="string"||o instanceof URL)c={url:o};else if((0,e.isArrayBuffer)(o))c={data:o};else if(o instanceof R)c={range:o};else{if(h(o)!=="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!o.url&&!o.data&&!o.range)throw new Error("Invalid parameter object: need either .data, .range or .url");c=o}var a,c,l=null,r=null,i,s,d,m,t=Object.create(null);for(i in c){switch(s=c[i],i){case"url":if(typeof window!="undefined")try{t[i]=new URL(s,window.location).href;continue}catch(t){(0,e.warn)('Cannot create valid URL: "'.concat(t,'".'))}else if(typeof s=="string"||s instanceof URL){t[i]=s.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":l=s;continue;case"worker":r=s;continue;case"data":if(u.isNodeJS&&typeof Buffer!="undefined"&&s instanceof Buffer)t[i]=new Uint8Array(s);else if(s instanceof Uint8Array)break;else if(typeof s=="string")t[i]=(0,e.stringToBytes)(s);else if(h(s)==="object"&&s!==null&&!isNaN(s.length))t[i]=new Uint8Array(s);else if((0,e.isArrayBuffer)(s))t[i]=new Uint8Array(s);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");continue}t[i]=s}return t.rangeChunkSize=t.rangeChunkSize||Z,t.CMapReaderFactory=t.CMapReaderFactory||F,t.StandardFontDataFactory=t.StandardFontDataFactory||I,t.ignoreErrors=t.stopAtErrors!==!0,t.fontExtraProperties=t.fontExtraProperties===!0,t.pdfBug=t.pdfBug===!0,t.enableXfa=t.enableXfa===!0,(typeof t.docBaseUrl!="string"||(0,n.isDataScheme)(t.docBaseUrl))&&(t.docBaseUrl=null),Number.isInteger(t.maxImageSize)||(t.maxImageSize=-1),typeof t.useWorkerFetch!="boolean"&&(t.useWorkerFetch=t.CMapReaderFactory===n.DOMCMapReaderFactory&&t.StandardFontDataFactory===n.DOMStandardFontDataFactory),typeof t.isEvalSupported!="boolean"&&(t.isEvalSupported=!0),typeof t.disableFontFace!="boolean"&&(t.disableFontFace=u.isNodeJS),typeof t.useSystemFonts!="boolean"&&(t.useSystemFonts=!u.isNodeJS&&!t.disableFontFace),typeof t.ownerDocument=="undefined"&&(t.ownerDocument=globalThis.document),typeof t.disableRange!="boolean"&&(t.disableRange=!1),typeof t.disableStream!="boolean"&&(t.disableStream=!1),typeof t.disableAutoFetch!="boolean"&&(t.disableAutoFetch=!1),(0,e.setVerbosityLevel)(t.verbosity),r||(d={verbosity:t.verbosity,port:S.GlobalWorkerOptions.workerPort},r=d.port?j.fromPort(d):new j(d),a._worker=r),m=a.docId,r.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");var e=Q(r,t,l,m),n=new Promise(function(n){var e;l?e=new eu.PDFDataTransportStream({length:t.length,initialData:t.initialData,progressiveDone:t.progressiveDone,contentDispositionFilename:t.contentDispositionFilename,disableRange:t.disableRange,disableStream:t.disableStream},l):t.data||(e=W({url:t.url,length:t.length,httpHeaders:t.httpHeaders,withCredentials:t.withCredentials,rangeChunkSize:t.rangeChunkSize,disableRange:t.disableRange,disableStream:t.disableStream})),n(e)});return Promise.all([e,n]).then(function(s){var e=p(s,2),o=e[0],i=e[1],n,c;if(a.destroyed)throw new Error("Loading aborted");n=new g.MessageHandler(m,o,r.port),c=new e4(n,a,i,t),a._transport=c,n.send("Ready",null)})}).catch(a._capability.reject),a}function Q(){return k.apply(this,arguments)}function k(){return k=f(i.default.mark(function o(n,e,t,a){var s;return i.default.wrap(function(o){for(;1;)switch(o.prev=o.next){case 0:if(!n.destroyed){o.next=2;break}throw new Error("Worker was destroyed");case 2:return t&&(e.length=t.length,e.initialData=t.initialData,e.progressiveDone=t.progressiveDone,e.contentDispositionFilename=t.contentDispositionFilename),o.next=5,n.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.12.313",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});case 5:if(s=o.sent,!n.destroyed){o.next=8;break}throw new Error("Worker was destroyed");case 8:return o.abrupt("return",s);case 9:case"end":return o.stop()}},o)})),k.apply(this,arguments)}B=function(){function t(){d(this,t),this._capability=(0,e.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(t.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return l(t,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=f(i.default.mark(function t(){var e;return i.default.wrap(function(t){for(;1;)switch(t.prev=t.next){case 0:return this.destroyed=!0,t.next=3,(e=this._transport)===null||e===void 0?void 0:e.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return t.stop()}},t,this)}));function t(){return e.apply(this,arguments)}return t}()}],[{key:"idCounters",get:function(){return(0,e.shadow)(this,"idCounters",{doc:0})}}]),t}(),t.PDFDocumentLoadingTask=B,R=function(){function t(n,s){var o=!!(arguments.length>2&&arguments[2]!==void 0)&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;d(this,t),this.length=n,this.initialData=s,this.progressiveDone=o,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,e.createPromiseCapability)()}return l(t,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(n,o){var e=s(this._rangeListeners),t,i;try{for(e.s();!(t=e.n()).done;)i=t.value,i(n,o)}catch(t){e.e(t)}finally{e.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then(function(){var o=s(n._progressListeners),i,a;try{for(o.s();!(i=o.n()).done;)a=i.value,a(e,t)}catch(e){o.e(e)}finally{o.f()}})}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then(function(){var n=s(t._progressiveReadListeners),o,i;try{for(n.s();!(o=n.n()).done;)i=o.value,i(e)}catch(e){n.e(e)}finally{n.f()}})}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then(function(){var t=s(e._progressiveDoneListeners),n,o;try{for(t.s();!(n=t.n()).done;)o=n.value,o()}catch(e){t.e(e)}finally{t.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(){(0,e.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),t}(),t.PDFDataRangeTransport=R,U=function(){function e(t,s){var o=this;d(this,e),this._pdfInfo=t,this._transport=s,Object.defineProperty(this,"fingerprint",{get:function(){return(0,n.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){var e=f(i.default.mark(function e(){return i.default.wrap(function(e){for(;1;)switch(e.prev=e.next){case 0:return(0,n.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),e.abrupt("return",o.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()})}return l(e,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var e=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,n.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),e}(),t.PDFDocumentProxy=U,M=function(){function t(o,i,e,a){var s=!!(arguments.length>4&&arguments[4]!==void 0)&&arguments[4];d(this,t),this._pageIndex=o,this._pageInfo=i,this._ownerDocument=a,this._transport=e,this._stats=s?new n.StatTimer:null,this._pdfBug=s,this.commonObjs=e.commonObjs,this.objs=new H,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return l(t,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.scale,t=e.rotation,c=t===void 0?this.rotate:t,s=e.offsetX,a=s===void 0?0:s,o=e.offsetY,l=o===void 0?0:o,i=e.dontFlip,d=i!==void 0&&i;return new n.PageViewport({viewBox:this.view,scale:r,rotation:c,offsetX:a,offsetY:l,dontFlip:d})}},{key:"getAnnotations",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.intent,a=o===void 0?"display":o,t=this._transport.getRenderingIntent(a),e=this._annotationPromises.get(t.cacheKey);return e||(e=this._transport.getAnnotations(this._pageIndex,t.renderingIntent),this._annotationPromises.set(t.cacheKey,e),e=e.then(function(t){var e=s(t),o,i;try{i=function(){var e=o.value;e.titleObj!==void 0&&Object.defineProperty(e,"title",{get:function(){return(0,n.deprecated)("`title`-property on annotation, please use `titleObj` instead."),e.titleObj.str}}),e.contentsObj!==void 0&&Object.defineProperty(e,"contents",{get:function(){return(0,n.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),e.contentsObj.str}})};for(e.s();!(o=e.n()).done;)i()}catch(t){e.e(t)}finally{e.f()}return t})),e}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var e=f(i.default.mark(function t(){var e;return i.default.wrap(function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",((e=this._transport._htmlForXfa)===null||e===void 0?void 0:e.children[this._pageIndex])||null);case 1:case"end":return t.stop()}},t,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(s){var d,u,b,T=s.canvasContext,F=s.viewport,g=s.intent,M=g===void 0?"display":g,h=s.annotationMode,a=h===void 0?e.AnnotationMode.ENABLE:h,f=s.transform,A=f===void 0?null:f,v=s.imageLayer,k=v===void 0?null:v,j=s.canvasFactory,C=j===void 0?null:j,_=s.background,x=_===void 0?null:_,w=s.optionalContentConfigPromise,c=w===void 0?null:w,y=s.annotationCanvasMap,E=y===void 0?null:y,r,t,S,m,l,i,O,o=this;return((d=arguments[0])===null||d===void 0?void 0:d.renderInteractiveForms)!==void 0&&((0,n.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&a===e.AnnotationMode.ENABLE&&(a=e.AnnotationMode.ENABLE_FORMS)),((u=arguments[0])===null||u===void 0?void 0:u.includeAnnotationStorage)!==void 0&&((0,n.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&a===e.AnnotationMode.ENABLE&&(a=e.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall"),r=this._transport.getRenderingIntent(M,a),this.pendingCleanup=!1,c||(c=this._transport.getOptionalContentConfig()),t=this._intentStates.get(r.cacheKey),t||(t=Object.create(null),this._intentStates.set(r.cacheKey,t)),t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),S=C||new N({ownerDocument:this._ownerDocument}),m=!!(r.renderingIntent&e.RenderingIntentFlag.PRINT),t.displayReadyCapability||(t.displayReadyCapability=(0,e.createPromiseCapability)(),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),l=function(e){t.renderTasks.delete(i),(o.cleanupAfterRender||m)&&(o.pendingCleanup=!0),o._tryCleanup(),e?(i.capability.reject(e),o._abortOperatorList({intentState:t,reason:e instanceof Error?e:new Error(e)})):i.capability.resolve(),o._stats&&(o._stats.timeEnd("Rendering"),o._stats.timeEnd("Overall"))},i=new e3({callback:l,params:{canvasContext:T,viewport:F,transform:A,imageLayer:k,background:x},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:E,operatorList:t.operatorList,pageIndex:this._pageIndex,canvasFactory:S,useRequestAnimationFrame:!m,pdfBug:this._pdfBug}),((b=t).renderTasks||(b.renderTasks=new Set)).add(i),O=i.task,Promise.all([t.displayReadyCapability.promise,c]).then(function(t){var e=p(t,2),n=e[0],s=e[1];if(o.pendingCleanup){l();return}o._stats&&o._stats.time("Rendering"),i.initializeGraphics({transparency:n,optionalContentConfig:s}),i.operatorListChanged()}).catch(l),O}},{key:"getOperatorList",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=i.intent,d=a===void 0?"display":a,o=i.annotationMode,l=o===void 0?e.AnnotationMode.ENABLE:o,s,t,n,r;function c(){t.operatorList.lastChunk&&(t.opListReadCapability.resolve(t.operatorList),t.renderTasks.delete(n))}return s=this._transport.getRenderingIntent(d,l,!0),t=this._intentStates.get(s.cacheKey),t||(t=Object.create(null),this._intentStates.set(s.cacheKey,t)),t.opListReadCapability||(n=Object.create(null),n.operatorListChanged=c,t.opListReadCapability=(0,e.createPromiseCapability)(),((r=t).renderTasks||(r.renderTasks=new Set)).add(n),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),t.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.normalizeWhitespace,o=n!==void 0&&n,s=e.disableCombineTextItems,i=s!==void 0&&s,t=e.includeMarkedContent,a=t!==void 0&&t,r=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:o===!0,combineTextItems:i!==!0,includeMarkedContent:a===!0},{highWaterMark:r,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t;return this._transport._htmlForXfa?this.getXfa().then(function(e){return ed.XfaText.textContent(e)}):(t=this.streamTextContent(e),new Promise(function(s,o){function n(){i.read().then(function(t){var o,i=t.value,a=t.done;if(a){s(e);return}Object.assign(e.styles,i.styles),(o=e.items).push.apply(o,eo(i.items)),n()},o)}var i=t.getReader(),e={items:[],styles:Object.create(null)};n()}))}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var i=[],a,n,t,o,r,e=s(this._intentStates.values());try{for(e.s();!(a=e.n()).done;){if(n=a.value,this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),n.opListReadCapability)continue;t=s(n.renderTasks);try{for(t.s();!(o=t.n()).done;)r=o.value,i.push(r.completed),r.cancel()}catch(e){t.e(e)}finally{t.f()}}}catch(t){e.e(t)}finally{e.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(i)}},{key:"cleanup",value:function(){var e=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){if(a=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0],!this.pendingCleanup)return!1;e=s(this._intentStates.values());try{for(e.s();!(t=e.n()).done;){var a,e,t,o=t.value,r=o.renderTasks,i=o.operatorList;if(r.size>0||!i.lastChunk)return!1}}catch(t){e.e(t)}finally{e.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new n.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,n){var e=this._intentStates.get(n);if(!e)return;this._stats&&this._stats.timeEnd("Page Request"),e.displayReadyCapability&&e.displayReadyCapability.resolve(t)}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,a=e.length,o,i,r;n<a;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,o=s(t.renderTasks);try{for(o.s();!(i=o.n()).done;)r=i.value,r.operatorListChanged()}catch(e){o.e(e)}finally{o.f()}e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(r){var i=r.renderingIntent,a=r.cacheKey,l,n=this,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:i,cacheKey:a,annotationStorage:i&e.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}),o=c.getReader(),t=this._intentStates.get(a);t.streamReader=o,l=function e(){o.read().then(function(s){var o=s.value,i=s.done;if(i){t.streamReader=null;return}if(n._transport.destroyed)return;n._renderPageChunk(o,t),e()},function(o){if(t.streamReader=null,n._transport.destroyed)return;if(t.operatorList){t.operatorList.lastChunk=!0;var e=s(t.renderTasks),i,a;try{for(e.s();!(i=e.n()).done;)a=i.value,a.operatorListChanged()}catch(t){e.e(t)}finally{e.f()}n._tryCleanup()}if(t.displayReadyCapability)t.displayReadyCapability.reject(o);else if(t.opListReadCapability)t.opListReadCapability.reject(o);else throw o})},l()}},{key:"_abortOperatorList",value:function(a){var t=a.intentState,i=a.reason,c=a.force,d=c!==void 0&&c,o,r,u=this;if(!t.streamReader)return;if(!d){if(t.renderTasks.size>0)return;if(i instanceof n.RenderingCancelledException){t.streamReaderCancelTimeout=setTimeout(function(){u._abortOperatorList({intentState:t,reason:i,force:!0}),t.streamReaderCancelTimeout=null},Y);return}}if(t.streamReader.cancel(new e.AbortException(i.message)).catch(function(){}),t.streamReader=null,this._transport.destroyed)return;o=s(this._intentStates);try{for(o.s();!(r=o.n()).done;){var l=p(r.value,2),h=l[0],m=l[1];if(m===t){this._intentStates.delete(h);break}}}catch(e){o.e(e)}finally{o.f()}this.cleanup()}},{key:"stats",get:function(){return this._stats}}]),t}(),t.PDFPageProxy=M,z=function(){function t(){d(this,t),this._listeners=[],this._deferred=Promise.resolve()}return l(t,[{key:"postMessage",value:function(o,t){var n=this,a;function i(i){if(globalThis.structuredClone)return globalThis.structuredClone(i,t);function o(i){if(typeof i=="function"||h(i)==="symbol"||i instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(i===null||i===void 0?void 0:i.toString()));if(h(i)!=="object"||i===null)return i;if(n.has(i))return n.get(i);if((d=i.buffer)&&(0,e.isArrayBuffer)(d))return t!==null&&t!==void 0&&t.includes(d)?a=new i.constructor(d,i.byteOffset,i.byteLength):a=new i.constructor(i),n.set(i,a),a;if(i instanceof Map){a=new Map,n.set(i,a),c=s(i);try{for(c.s();!(b=c.n()).done;){var d,a,c,b,v=p(b.value,2),y=v[0],_=v[1],r,g,j,m,u,l,f;a.set(y,o(_))}}catch(e){c.e(e)}finally{c.f()}return a}if(i instanceof Set){a=new Set,n.set(i,a),r=s(i);try{for(r.s();!(g=r.n()).done;)j=g.value,a.add(o(j))}catch(e){r.e(e)}finally{r.f()}return a}a=Array.isArray(i)?[]:Object.create(null),n.set(i,a);for(m in i){for(l=void 0,f=i;!(l=Object.getOwnPropertyDescriptor(f,m));)f=Object.getPrototypeOf(f);if(typeof l.value=="undefined")continue;if(typeof l.value=="function"&&!((u=i.hasOwnProperty)!==null&&u!==void 0&&u.call(i,m)))continue;a[m]=o(l.value)}return a}var n=new WeakMap;return o(i)}a={data:i(o)},this._deferred.then(function(){var e=s(n._listeners),t,o;try{for(e.s();!(t=e.n()).done;)o=t.value,o.call(n,a)}catch(t){e.e(t)}finally{e.f()}})}},{key:"addEventListener",value:function(n,e){this._listeners.push(e)}},{key:"removeEventListener",value:function(s,e){var t=this._listeners.indexOf(e);this._listeners.splice(t,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),t}(),t.LoopbackPort=z,a={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0},u.isNodeJS&&typeof c=="function"?(a.isWorkerDisabled=!0,a.fallbackWorkerSrc="./pdf.worker.js"):(typeof document=="undefined"?"undefined":h(document))==="object"&&(P=(C=document)===null||C===void 0?void 0:(w=C.currentScript)===null||w===void 0?void 0:w.src,P&&(a.fallbackWorkerSrc=P.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))),a.createCDNWrapper=function(e){var t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))},j=function(){function t(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=s.name,r=o===void 0?null:o,i=s.port,n=i===void 0?null:i,a=s.verbosity,c=a===void 0?(0,e.getVerbosityLevel)():a;if(d(this,t),n&&t._workerPorts.has(n))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=r,this.destroyed=!1,this.verbosity=c,this._readyCapability=(0,e.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,n){t._workerPorts.set(n,this),this._initializeFromPort(n);return}this._initialize()}return l(t,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new g.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var n=this,r,s,o,c,i,l;if(typeof Worker!="undefined"&&!a.isWorkerDisabled&&!t._mainThreadWorkerMessageHandler){r=t.workerSrc;try{(0,e.isSameOrigin)(window.location.href,r)||(r=a.createCDNWrapper(new URL(r,window.location).href)),s=new Worker(r),o=new g.MessageHandler("main","worker",s),c=function(){s.removeEventListener("error",i),o.destroy(),s.terminate(),n.destroyed?n._readyCapability.reject(new Error("Worker was destroyed")):n._setupFakeWorker()},i=function(){n._webWorker||c()},s.addEventListener("error",i),o.on("test",function(e){if(s.removeEventListener("error",i),n.destroyed){c();return}e?(n._messageHandler=o,n._port=s,n._webWorker=s,n._readyCapability.resolve(),o.send("configure",{verbosity:n.verbosity})):(n._setupFakeWorker(),o.destroy(),s.terminate())}),o.on("ready",function(){if(s.removeEventListener("error",i),n.destroyed){c();return}try{l()}catch(e){n._setupFakeWorker()}}),l=function(){var t=new Uint8Array([255]);try{o.send("test",t,[t.buffer])}catch(n){(0,e.warn)("Cannot use postMessage transfers."),t[0]=0,o.send("test",t)}},l();return}catch(t){(0,e.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var n=this;a.isWorkerDisabled||((0,e.warn)("Setting up fake worker."),a.isWorkerDisabled=!0),t._setupFakeWorkerGlobal.then(function(o){if(n.destroyed){n._readyCapability.reject(new Error("Worker was destroyed"));return}var e=new z,t,i,s;n._port=e,t="fake".concat(a.fakeWorkerId++),i=new g.MessageHandler(t+"_worker",t,e),o.setup(i,e),s=new g.MessageHandler(t,t+"_worker",e),n._messageHandler=s,n._readyCapability.resolve(),s.send("configure",{verbosity:n.verbosity})}).catch(function(e){n._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),t._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,e.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(e){if(!(e!==null&&e!==void 0&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(e.port)?this._workerPorts.get(e.port):new t(e)}},{key:"workerSrc",get:function(){if(S.GlobalWorkerOptions.workerSrc)return S.GlobalWorkerOptions.workerSrc;if(a.fallbackWorkerSrc!==null)return u.isNodeJS||(0,n.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),a.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var e;return((e=globalThis.pdfjsWorker)===null||e===void 0?void 0:e.WorkerMessageHandler)||null}catch(e){return null}}},{key:"_setupFakeWorkerGlobal",get:function(){var t=this,s=function(){var e=f(i.default.mark(function o(){var e,s;return i.default.wrap(function(o){for(;1;)switch(o.prev=o.next){case 0:if(e=t._mainThreadWorkerMessageHandler,!e){o.next=3;break}return o.abrupt("return",e);case 3:if(!(u.isNodeJS&&typeof c=="function")){o.next=6;break}return s=eval("require")(t.workerSrc),o.abrupt("return",s.WorkerMessageHandler);case 6:return o.next=8,(0,n.loadScript)(t.workerSrc);case 8:return o.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return o.stop()}},o)}));return function(){return e.apply(this,arguments)}}();return(0,e.shadow)(this,"_setupFakeWorkerGlobal",s())}}]),t}(),t.PDFWorker=j,j.getWorkerSrc=function(){return(0,n.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc},O=new WeakMap,m=new WeakMap,b=new WeakMap,v=new WeakMap,e4=function(){function t(o,s,i,n){d(this,t),y(this,O,{writable:!0,value:null}),y(this,m,{writable:!0,value:new Map}),y(this,b,{writable:!0,value:new Map}),y(this,v,{writable:!0,value:null}),this.messageHandler=o,this.loadingTask=s,this.commonObjs=new H,this.fontLoader=new $.FontLoader({docId:s.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this._params=n,n.useWorkerFetch||(this.CMapReaderFactory=new n.CMapReaderFactory({baseUrl:n.cMapUrl,isCompressed:n.cMapPacked}),this.StandardFontDataFactory=new n.StandardFontDataFactory({baseUrl:n.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,e.createPromiseCapability)(),this.setupMessageHandler()}return l(t,[{key:"annotationStorage",get:function(){return(0,e.shadow)(this,"annotationStorage",new e2.AnnotationStorage)}},{key:"stats",get:function(){return r(this,O)}},{key:"getRenderingIntent",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.AnnotationMode.ENABLE,i=!!(arguments.length>2&&arguments[2]!==void 0)&&arguments[2],t=e.RenderingIntentFlag.DISPLAY,o="";switch(n){case"any":t=e.RenderingIntentFlag.ANY;break;case"display":break;case"print":t=e.RenderingIntentFlag.PRINT;break;default:(0,e.warn)("getRenderingIntent - invalid intent: ".concat(n))}switch(s){case e.AnnotationMode.DISABLE:t+=e.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case e.AnnotationMode.ENABLE:break;case e.AnnotationMode.ENABLE_FORMS:t+=e.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case e.AnnotationMode.ENABLE_STORAGE:t+=e.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=this.annotationStorage.lastModified;break;default:(0,e.warn)("getRenderingIntent - invalid annotationMode: ".concat(s))}return i&&(t+=e.RenderingIntentFlag.OPLIST),{renderingIntent:t,cacheKey:"".concat(t,"_").concat(o)}}},{key:"destroy",value:function(){var t=this,o,n,i,c,a;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,e.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback")),o=[],n=s(r(this,m).values());try{for(n.s();!(i=n.n()).done;)c=i.value,o.push(c._destroy())}catch(e){n.e(e)}finally{n.f()}return r(this,m).clear(),r(this,b).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified(),a=this.messageHandler.sendWithPromise("Terminate",null),o.push(a),Promise.all(o).then(function(){t.commonObjs.clear(),t.fontLoader.clear(),_(t,v,null),t._getFieldObjectsPromise=null,t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new e.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var n=this.messageHandler,s=this.loadingTask,t=this;n.on("GetReader",function(s,n){(0,e.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){t._fullReader.read().then(function(s){var t=s.value,o=s.done;if(o){n.close();return}(0,e.assert)((0,e.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t])}).catch(function(e){n.error(e)})},n.onCancel=function(e){t._fullReader.cancel(e),n.ready.catch(function(e){if(t.destroyed)return;throw e})}}),n.on("ReaderHeadersReady",function(){var o=(0,e.createPromiseCapability)(),n=t._fullReader;return n.headersReady.then(function(){if(!n.isStreamingSupported||!n.isRangeSupported){if(t._lastProgress){var e;(e=s.onProgress)===null||e===void 0?void 0:e.call(s,t._lastProgress)}n.onProgress=function(t){var e;(e=s.onProgress)===null||e===void 0?void 0:e.call(s,{loaded:t.loaded,total:t.total})}}o.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},o.reject),o.promise}),n.on("GetRangeReader",function(o,n){(0,e.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var s=t._networkStream.getRangeReader(o.begin,o.end);if(!s){n.close();return}n.onPull=function(){s.read().then(function(s){var t=s.value,o=s.done;if(o){n.close();return}(0,e.assert)((0,e.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t])}).catch(function(e){n.error(e)})},n.onCancel=function(e){s.cancel(e),n.ready.catch(function(e){if(t.destroyed)return;throw e})}}),n.on("GetDoc",function(n){var e=n.pdfInfo;t._numPages=e.numPages,t._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,s._capability.resolve(new U(e,t))}),n.on("DocException",function(t){var n;switch(t.name){case"PasswordException":n=new e.PasswordException(t.message,t.code);break;case"InvalidPDFException":n=new e.InvalidPDFException(t.message);break;case"MissingPDFException":n=new e.MissingPDFException(t.message);break;case"UnexpectedResponseException":n=new e.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":n=new e.UnknownErrorException(t.message,t.details);break;default:(0,e.unreachable)("DocException - expected a valid Error.")}s._capability.reject(n)}),n.on("PasswordRequest",function(n){if(t._passwordCapability=(0,e.createPromiseCapability)(),s.onPassword){var o=function(e){t._passwordCapability.resolve({password:e})};try{s.onPassword(o,n.code)}catch(e){t._passwordCapability.reject(e)}}else t._passwordCapability.reject(new e.PasswordException(n.message,n.code));return t._passwordCapability.promise}),n.on("DataLoaded",function(e){var n;(n=s.onProgress)===null||n===void 0?void 0:n.call(s,{loaded:e.length,total:e.length}),t.downloadInfoCapability.resolve(e)}),n.on("StartRenderPage",function(e){if(t.destroyed)return;var n=r(t,m).get(e.pageIndex);n._startRenderPage(e.transparency,e.cacheKey)}),n.on("commonobj",function(h){var r,c=p(h,3),o=c[0],l=c[1],i=c[2],s,d,u,a;if(t.destroyed)return;if(t.commonObjs.has(o))return;switch(l){case"Font":if(s=t._params,"error"in i){d=i.error,(0,e.warn)("Error during font loading: ".concat(d)),t.commonObjs.resolve(o,d);break}u=null,s.pdfBug&&(r=globalThis.FontInspector)!==null&&r!==void 0&&r.enabled&&(u={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}}),a=new $.FontFaceObject(i,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:u}),t.fontLoader.bind(a).catch(function(){return n.sendWithPromise("FontFallback",{id:o})}).finally(function(){!s.fontExtraProperties&&a.data&&(a.data=null),t.commonObjs.resolve(o,a)});break;case"FontPath":case"Image":t.commonObjs.resolve(o,i);break;default:throw new Error("Got unknown common object type ".concat(l))}}),n.on("obj",function(l){var i,s=p(l,4),o=s[0],c=s[1],a=s[2],e=s[3],n,d;if(t.destroyed)return;if(n=r(t,m).get(c),n.objs.has(o))return;switch(a){case"Image":n.objs.resolve(o,e),d=8e6,(e===null||e===void 0?void 0:(i=e.data)===null||i===void 0?void 0:i.length)>d&&(n.cleanupAfterRender=!0);break;case"Pattern":n.objs.resolve(o,e);break;default:throw new Error("Got unknown object type ".concat(a))}}),n.on("DocProgress",function(n){var e;if(t.destroyed)return;(e=s.onProgress)===null||e===void 0?void 0:e.call(s,{loaded:n.loaded,total:n.total})}),n.on("DocStats",function(e){if(t.destroyed)return;_(t,O,Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))}),n.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),n.on("FetchBuiltInCMap",function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),n.on("FetchStandardFontData",function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(n){var e,t,s=n.featureId;if(this.destroyed)return;(e=(t=this.loadingTask).onUnsupportedFeature)===null||e===void 0?void 0:e.call(t,s)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(n){if(e=this,!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request"));var e,t=n-1,s=r(this,b).get(t),o;return s||(o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(function(s){if(e.destroyed)throw new Error("Transport destroyed");var n=new M(t,s,e,e._params.ownerDocument,e._params.pdfBug);return r(e,m).set(t,n),n}),r(this,b).set(t,o),o)}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"saveDocument",value:function(){var e,t,n=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(e=(t=this._fullReader)===null||t===void 0?void 0:t.filename)!==null&&e!==void 0?e:null}).finally(function(){n.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getStructTree",value:function(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(e){return new e1.OptionalContentConfig(e)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return r(this,v)||_(this,v,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(t){var n,s,o,i;return{info:t[0],metadata:t[1]?new e0.Metadata(t[1]):null,contentDispositionFilename:(n=(s=e._fullReader)===null||s===void 0?void 0:s.filename)!==null&&n!==void 0?n:null,contentLength:(o=(i=e._fullReader)===null||i===void 0?void 0:i.contentLength)!==null&&o!==void 0?o:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var e=f(i.default.mark(function l(){var o,e,a,n,c,t=arguments;return i.default.wrap(function(i){for(;1;)switch(i.prev=i.next){case 0:return o=!!(t.length>0&&t[0]!==void 0)&&t[0],i.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){i.next=5;break}return i.abrupt("return");case 5:e=s(r(this,m).values()),i.prev=6,e.s();case 8:if((a=e.n()).done){i.next=15;break}if(n=a.value,c=n.cleanup(),c){i.next=13;break}throw new Error("startCleanup: Page ".concat(n.pageNumber," is currently rendering."));case 13:i.next=8;break;case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(6),e.e(i.t0);case 20:return i.prev=20,e.f(),i.finish(20);case 23:this.commonObjs.clear(),o||this.fontLoader.clear(),_(this,v,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return i.stop()}},l,this,[[6,17,20,23]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"loadingParams",get:function(){var t=this._params;return(0,e.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]),t}(),H=function(){function t(){d(this,t),this._objs=Object.create(null)}return l(t,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,e.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t;if(n)return this._ensureObj(e).capability.promise.then(n),null;if(t=this._objs[e],!t||!t.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return t.data}},{key:"has",value:function(t){var e=this._objs[t];return(e===null||e===void 0?void 0:e.resolved)||!1}},{key:"resolve",value:function(n,t){var e=this._ensureObj(n);e.resolved=!0,e.data=t,e.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),t}(),V=function(){function e(t){d(this,e),this._internalRenderTask=t,this.onContinue=null}return l(e,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),e}(),t.RenderTask=V,e3=function(){function t(n){var f=n.callback,o=n.params,h=n.objs,c=n.commonObjs,r=n.annotationCanvasMap,a=n.operatorList,l=n.pageIndex,u=n.canvasFactory,i=n.useRequestAnimationFrame,m=i!==void 0&&i,s=n.pdfBug,p=s!==void 0&&s;d(this,t),this.callback=f,this.params=o,this.objs=h,this.commonObjs=c,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=l,this.canvasFactory=u,this._pdfBug=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,e.createPromiseCapability)(),this.task=new V(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}return l(t,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(s){var o=s.transparency,i=o!==void 0&&o,a=s.optionalContentConfig;if(this.cancelled)return;if(this._canvas){if(t.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.canvasInUse.add(this._canvas)}this._pdfBug&&(n=globalThis.StepperManager)!==null&&n!==void 0&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var n,e=this.params,r=e.canvasContext,c=e.viewport,l=e.transform,d=e.imageLayer,u=e.background;this.gfx=new eh.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,d,a,this.annotationCanvasMap),this.gfx.beginDrawing({transform:l,viewport:c,transparency:i,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},{key:"cancel",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t.canvasInUse.delete(this._canvas),this.callback(e||new n.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}if(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running)return;this._continue()}},{key:"_continue",value:function(){if(this.running=!0,this.cancelled)return;this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext()}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){e._nextBound().catch(e._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var e=f(i.default.mark(function e(){return i.default.wrap(function(e){for(;1;)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}return e.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}()}],[{key:"canvasInUse",get:function(){return(0,e.shadow)(this,"canvasInUse",new WeakSet)}}]),t}(),ec="2.12.313",t.version=ec,ee="a2ae56f39",t.build=ee},(x,t,h)=>{"use strict";function o(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(e){return typeof e}:o=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var d=O(h(2)),w,c,f,e=h(4);function O(e){return e&&e.__esModule?e:{default:e}}function _(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function y(e){var t=g();return function(){var o=n(e),s,i;return t?(i=n(this).constructor,s=Reflect.construct(o,arguments,i)):s=o.apply(this,arguments),j(this,s)}}function j(t,e){if(e&&(o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function m(n,r,c,s,o,i,a){try{var e=n[i](a),t=e.value}catch(e){c(e);return}e.done?r(t):Promise.resolve(t).then(s,o)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){m(a,o,i,s,r,"next",e)}function r(e){m(a,o,i,s,r,"throw",e)}s(void 0)})}}function s(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=v(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function v(e,n){if(!e)return;if(typeof e=="string")return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}function u(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function r(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}w=function(){function t(n){var a=n.docId,r=n.onUnsupportedFeature,s=n.ownerDocument,c=s===void 0?globalThis.document:s,o=n.styleElement,l=o===void 0?null:o;i(this,t),this.constructor===t&&(0,e.unreachable)("Cannot initialize BaseFontLoader."),this.docId=a,this._onUnsupportedFeature=r,this._document=c,this.nativeFontFaces=[],this.styleElement=null}return r(t,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(n){var e=this.styleElement,t;e||(e=this.styleElement=this._document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(e)),t=e.sheet,t.insertRule(n,t.cssRules.length)}},{key:"clear",value:function(){var e=s(this.nativeFontFaces),t,n;try{for(e.s();!(t=e.n()).done;)n=t.value,this._document.fonts.delete(n)}catch(t){e.e(t)}finally{e.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var t=p(d.default.mark(function i(t){var o=this,n,s;return d.default.wrap(function(i){for(;1;)switch(i.prev=i.next){case 0:if(!(t.attached||t.missingFile)){i.next=2;break}return i.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){i.next=19;break}if(n=t.createNativeFontFace(),!n){i.next=18;break}return this.addNativeFontFace(n),i.prev=7,i.next=10,n.loaded;case 10:i.next=18;break;case 12:throw i.prev=12,i.t0=i.catch(7),this._onUnsupportedFeature({featureId:e.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,e.warn)("Failed to load font '".concat(n.family,"': '").concat(i.t0,"'.")),t.disableFontFace=!0,i.t0;case 18:return i.abrupt("return");case 19:if(s=t.createFontFaceRule(),!s){i.next=26;break}if(this.insertRule(s),!this.isSyncFontLoadingSupported){i.next=24;break}return i.abrupt("return");case 24:return i.next=26,new Promise(function(e){var n=o._queueLoadingCallback(e);o._prepareFontLoadEvent([s],[t],n)});case 26:case"end":return i.stop()}},i,this,[[7,12]])}));function n(){return t.apply(this,arguments)}return n}()},{key:"_queueLoadingCallback",value:function(){(0,e.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var t,n=!!((t=this._document)!==null&&t!==void 0&&t.fonts);return(0,e.shadow)(this,"isFontLoadingAPISupported",n)}},{key:"isSyncFontLoadingSupported",get:function(){(0,e.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,e.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(){(0,e.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),t}(),t.FontLoader=c,t.FontLoader=c=function(n){_(t,n);var o=y(t);function t(n){var e;return i(this,t),e=o.call(this,n),e.loadingContext={requests:[],nextRequestId:0},e.loadTestFontId=0,e}return r(t,[{key:"isSyncFontLoadingSupported",get:function(){var t=!1,n;return typeof navigator=="undefined"?t=!0:(n=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent),(n===null||n===void 0?void 0:n[1])>=14&&(t=!0)),(0,e.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_queueLoadingCallback",value:function(s){function o(){for((0,e.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){var s=t.requests.shift();setTimeout(s.callback,0)}}var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:o,callback:s};return t.requests.push(n),n}},{key:"_loadTestFont",get:function(){var t=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,e.shadow)(this,"_loadTestFont",t())}},{key:"_prepareFontLoadEvent",value:function(S,k,E){function h(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3)&255}function g(e,t,n,s){var o=e.substring(0,t),i=e.substring(t+n);return o+s+i}d=this._document.createElement("canvas"),d.width=1,d.height=1,u=d.getContext("2d"),_=0;function f(n,t){if(_++,_>30){(0,e.warn)("Load test font never loaded."),t();return}u.font="30px "+n,u.fillText(".",0,20);var s=u.getImageData(0,0,1,1);if(s.data[3]>0){t();return}setTimeout(f.bind(null,n,t))}t="lt".concat(Date.now()).concat(this.loadTestFontId++),o=this._loadTestFont,w=976,o=g(o,w,t.length,t),v=16,b=1482184792,a=h(o,v);for(i=0,p=t.length-3;i<p;i+=4)a=a-b+h(t,i)|0;i<t.length&&(a=a-b+h(t+"XXX",i)|0),o=g(o,v,4,(0,e.string32)(a)),x="url(data:font/opentype;base64,".concat(btoa(o),");"),O='@font-face {font-family:"'.concat(t,'";src:').concat(x,"}"),this.insertRule(O),m=[],r=s(k);try{for(r.s();!(y=r.n()).done;)C=y.value,m.push(C.loadedName)}catch(e){r.e(e)}finally{r.f()}m.push(t),n=this._document.createElement("div"),n.style.visibility="hidden",n.style.width=n.style.height="10px",n.style.position="absolute",n.style.top=n.style.left="0px";for(var i,p,d,u,_,t,o,w,v,b,a,x,O,m,r,y,C,n,c=0,j=m,A,l;c<j.length;c++)A=j[c],l=this._document.createElement("span"),l.textContent="Hi",l.style.fontFamily=A,n.appendChild(l);this._document.body.appendChild(n),f(t,function(){n.remove(),E.complete()})}}]),t}(w),f=function(){function t(n,e){var s=e.isEvalSupported,u=s===void 0||s,a=e.disableFontFace,m=a!==void 0&&a,c=e.ignoreErrors,l=c!==void 0&&c,d=e.onUnsupportedFeature,o=e.fontRegistry,h=o===void 0?null:o,r;i(this,t),this.compiledGlyphs=Object.create(null);for(r in n)this[r]=n[r];this.isEvalSupported=u!==!1,this.disableFontFace=m===!0,this.ignoreErrors=l===!0,this._onUnsupportedFeature=d,this.fontRegistry=h}return r(t,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){var e,t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var o=(0,e.bytesToString)(this.data),n,s,t="url(data:".concat(this.mimetype,";base64,").concat(btoa(o),");");return this.cssFontInfo?(s="font-weight: ".concat(this.cssFontInfo.fontWeight,";"),this.cssFontInfo.italicAngle&&(s+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(s,"src:").concat(t,"}")):n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}"),this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}},{key:"getPathGenerator",value:function(c,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];try{i=c.get(this.loadedName+"_path_"+t)}catch(n){if(!this.ignoreErrors)throw n;return this._onUnsupportedFeature({featureId:e.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,e.warn)('getPathGenerator - ignoring character: "'.concat(n,'".')),this.compiledGlyphs[t]=function(){}}if(this.isEvalSupported&&e.IsEvalSupportedCached.value){var i,r=[],a,o,l,n=s(i);try{for(n.s();!(a=n.n()).done;)o=a.value,l=o.args!==void 0?o.args.join(","):"",r.push("c.",o.cmd,"(",l,");\n")}catch(e){n.e(e)}finally{n.f()}return this.compiledGlyphs[t]=new Function("c","size",r.join(""))}return this.compiledGlyphs[t]=function(n,o){var e=s(i),a,t;try{for(e.s();!(a=e.n()).done;)t=a.value,t.cmd==="scale"&&(t.args=[o,-o]),n[t.cmd].apply(n,t.args)}catch(t){e.e(t)}finally{e.f()}}}}]),t}(),t.FontFaceObject=f},(w,e,c)=>{"use strict";function n(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(e){return typeof e}:n=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var i=c(135),p,f,m,v,_=c(6),r=c(4);function g(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function l(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function d(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function a(e){var t=b();return function(){var o=s(e),n,i;return t?(i=s(this).constructor,n=Reflect.construct(o,arguments,i)):n=o.apply(this,arguments),y(this,n)}}function y(t,e){if(e&&(n(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}p=function e(){t(this,e),(0,r.unreachable)("Not implemented: NodeCanvasFactory")},e.NodeCanvasFactory=p,f=function e(){t(this,e),(0,r.unreachable)("Not implemented: NodeCMapReaderFactory")},e.NodeCMapReaderFactory=f,m=function e(){t(this,e),(0,r.unreachable)("Not implemented: NodeStandardFontDataFactory")},e.NodeStandardFontDataFactory=m,_.isNodeJS&&(v=function(e){return new Promise(function(t,n){var s=o();s.readFile(e,function(e,s){if(e||!s){n(new Error(e));return}t(new Uint8Array(s))})})},e.NodeCanvasFactory=p=function(n){d(e,n);var s=a(e);function e(){return t(this,e),s.apply(this,arguments)}return l(e,[{key:"_createCanvas",value:function(e,t){var n=h();return n.createCanvas(e,t)}}]),e}(i.BaseCanvasFactory),e.NodeCMapReaderFactory=f=function(n){d(e,n);var s=a(e);function e(){return t(this,e),s.apply(this,arguments)}return l(e,[{key:"_fetchData",value:function(e,t){return v(e).then(function(e){return{cMapData:e,compressionType:t}})}}]),e}(i.BaseCMapReaderFactory),e.NodeStandardFontDataFactory=m=function(n){d(e,n);var s=a(e);function e(){return t(this,e),s.apply(this,arguments)}return l(e,[{key:"_fetchData",value:function(e){return v(e)}}]),e}(i.BaseStandardFontDataFactory))},(m,e,u)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationStorage=void 0;var r=u(4),s;function o(e,t){return l(e)||c(e,t)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,s){if(!e)return;if(typeof e=="string")return t(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,s)}function t(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function c(t,o){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"],n,s,i,a,r;if(e==null)return;n=[],s=!0,i=!1;try{for(e=e.call(t);!(s=(a=e.next()).done);s=!0)if(n.push(a.value),o&&n.length===o)break}catch(e){i=!0,r=e}finally{try{!s&&e.return!=null&&e.return()}finally{if(i)throw r}}return n}function l(e){if(Array.isArray(e))return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function h(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}s=function(){function e(){d(this,e),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}return h(e,[{key:"getValue",value:function(n,e){var t=this._storage.get(n);return t===void 0?e:Object.assign(e,t)}},{key:"setValue",value:function(i,a){if(e=this._storage.get(i),t=!1,e!==void 0){for(n=0,s=Object.entries(a);n<s.length;n++){var e,t,n,s,r=o(s[n],2),c=r[0],l=r[1];e[c]!==l&&(t=!0,e[c]=l)}}else t=!0,this._storage.set(i,a);t&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}]),e}(),e.AnnotationStorage=s},(K,r,d)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CanvasGraphics=void 0;var e=d(4),v,b,s,z,_,T,O,t,F,A,E,U,V,$,x,o,h,n=d(141),k=d(1);function a(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(e){return typeof e}:a=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function W(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=p(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function u(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function i(e,t){return D(e)||I(e,t)||p(e,t)||B()}function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,n){if(!e)return;if(typeof e=="string")return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}function j(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function I(t,o){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"],n,s,i,a,r;if(e==null)return;n=[],s=!0,i=!1;try{for(e=e.call(t);!(s=(a=e.next()).done);s=!0)if(n.push(a.value),o&&n.length===o)break}catch(e){i=!0,r=e}finally{try{!s&&e.return!=null&&e.return()}finally{if(i)throw r}}return n}function D(e){if(Array.isArray(e))return e}v=16,b=100,s=4096,z=15,_=10,T=!0,O=1e3,t=16,F=1.000001;function M(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=function(){e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(n,s,o,i,a,e){t.transform(n,s,o,i,a,e),this.__originalTransform(n,s,o,i,a,e)},e.setTransform=function(n,s,o,i,a,e){t.setTransform(n,s,o,i,a,e),this.__originalSetTransform(n,s,o,i,a,e)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,s,o,i,a){t.bezierCurveTo(e,n,s,o,i,a),this.__originalBezierCurveTo(e,n,s,o,i,a)},e.rect=function(e,n,s,o){t.rect(e,n,s,o),this.__originalRect(e,n,s,o)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}function m(e){if(e.mozCurrentTransform)return;e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._originalResetTransform=e.resetTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[];try{var t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"lineWidth");e._setLineWidth=t.set,e._getLineWidth=t.get,Object.defineProperty(e,"lineWidth",{set:function(e){this._setLineWidth(e*F)},get:function(){return this._getLineWidth()}})}catch(e){}Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=i(this._transformMatrix,6),t=e[0],n=e[1],s=e[2],o=e[3],c=e[4],l=e[5],a=t*o-n*s,r=n*s-t*o;return[o/a,n/r,s/r,t/a,(o*c-s*l)/r,(n*c-t*l)/a]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(t,n){var e=this._transformMatrix;e[4]=e[0]*t+e[2]*n+e[4],e[5]=e[1]*t+e[3]*n+e[5],this._originalTranslate(t,n)},e.scale=function(t,n){var e=this._transformMatrix;e[0]*=t,e[1]*=t,e[2]*=n,e[3]*=n,this._originalScale(t,n)},e.transform=function(r,s,o,i,a,n){var t=this._transformMatrix;this._transformMatrix=[t[0]*r+t[2]*s,t[1]*r+t[3]*s,t[0]*o+t[2]*i,t[1]*o+t[3]*i,t[0]*a+t[2]*n+t[4],t[1]*a+t[3]*n+t[5]],e._originalTransform(r,s,o,i,a,n)},e.setTransform=function(n,s,o,i,a,t){this._transformMatrix=[n,s,o,i,a,t],e._originalSetTransform(n,s,o,i,a,t)},e.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],e._originalResetTransform()},e.rotate=function(s){var t=Math.cos(s),n=Math.sin(s),e=this._transformMatrix;this._transformMatrix=[e[0]*t+e[2]*n,e[1]*t+e[3]*n,e[0]*-n+e[2]*t,e[1]*-n+e[3]*t,e[4],e[5]],this._originalRotate(s)}}A=function(){function e(t){c(this,e),this.canvasFactory=t,this.cache=Object.create(null)}return u(e,[{key:"getCanvas",value:function(t,n,s,o){var e;return this.cache[t]!==void 0?(e=this.cache[t],this.canvasFactory.reset(e,n,s),e.context.setTransform(1,0,0,1,0,0)):(e=this.canvasFactory.create(n,s),this.cache[t]=e),o&&m(e.context),e}},{key:"clear",value:function(){for(e in this.cache){var e,t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}]),e}();function S(v){O=1e3,b=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]);var O,b,d=v.width,l=v.height,r=d+1,s,y,i,c,x,g,a,f,E,p,n,_,w,C,h,k,m,A,o=new Uint8Array(r*(l+1)),u=d+7&~7,j=v.data,t=new Uint8Array(u*l),e=0;for(s=0,y=j.length;s<y;s++)for(x=j[s],g=128;g>0;)t[e++]=x&g?0:255,g>>=1;a=0,e=0,t[e]!==0&&(o[0]=1,++a);for(i=1;i<d;i++)t[e]!==t[e+1]&&(o[i]=t[e]?2:1,++a),e++;t[e]!==0&&(o[i]=2,++a);for(s=1;s<l;s++){e=s*u,c=s*r,t[e-u]!==t[e]&&(o[c]=t[e]?1:8,++a),f=(t[e]?4:0)+(t[e-u]?8:0);for(i=1;i<d;i++)f=(f>>2)+(t[e+1]?4:0)+(t[e-u+1]?8:0),b[f]&&(o[c+i]=b[f],++a),e++;if(t[e-u]!==t[e]&&(o[c+i]=t[e]?2:4,++a),a>O)return null}e=u*(l-1),c=s*r,t[e]!==0&&(o[c]=8,++a);for(i=1;i<d;i++)t[e]!==t[e+1]&&(o[c+i]=t[e]?4:8,++a),e++;if(t[e]!==0&&(o[c+i]=4,++a),a>O)return null;E=new Int32Array([0,r,-1,0,-r,0,0,0,1]),p=[];for(s=0;a&&s<=l;s++){for(n=s*r,_=n+d;n<_&&!o[n];)n++;if(n===_)continue;w=[n%r,s],C=n,h=o[n];do{k=E[h];do n+=k;while(!o[n])m=o[n],m!==5&&m!==10?(h=m,o[n]=0):(h=m&51*h>>4,o[n]&=h>>2|h<<2),w.push(n%r,n/r|0),o[n]||--a}while(C!==n)p.push(w),--s}return A=function(e){e.save(),e.scale(1/d,-1/l),e.translate(0,-l),e.beginPath();for(var s=0,i=p.length,t,n,o;s<i;s++){t=p[s],e.moveTo(t[0],t[1]);for(n=2,o=t.length;n<o;n+=2)e.lineTo(t[n],t[n+1])}e.fill(),e.beginPath(),e.restore()},A}E=function(){function t(n,s){c(this,t),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,n,s])}return u(t,[{key:"clone",value:function(){var e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}},{key:"updatePathMinMax",value:function(o,t,n){var a=e.Util.applyTransform([t,n],o),s=i(a,2);t=s[0],n=s[1],this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}},{key:"updateCurvePathMinMax",value:function(n,o,i,d,a,s,r,c,l){var t=e.Util.bezierBoundingBox(o,i,d,a,s,r,c,l);this.updatePathMinMax(n,t[0],t[1]),this.updatePathMinMax(n,t[2],t[3])}},{key:"getPathBoundingBox",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.PathType.FILL,i,a,s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=[this.minX,this.minY,this.maxX,this.maxY];return r===n.PathType.STROKE&&(o||(0,e.unreachable)("Stroke bounding box must include transform."),i=e.Util.singularValueDecompose2dScale(o),a=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2,t[0]-=a,t[1]-=s,t[2]+=a,t[3]+=s),t}},{key:"updateClipFromPath",value:function(){var t=e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.PathType.FILL,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return e.Util.intersect(this.clipBox,this.getPathBoundingBox(t,s))}}]),t}();function C(O,g){if(u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,typeof ImageData!="undefined"&&g instanceof ImageData){O.putImageData(g,0,0);return}var u,D=g.height,_=g.width,s,o,p,w,d,f,m,h,C,L,a,H,P,i,l,T,F,S,N,R,A,c,z,b,j,I,y,E=D%t,k=(D-E)/t,M=E===0?k:k+1,x=O.createImageData(_,t),r=0,v=g.data,n=x.data;if(u)switch(u.length){case 1:f=u[0],m=u[0],h=u[0],C=u[0];break;case 4:f=u[0],m=u[1],h=u[2],C=u[3];break}if(g.kind===e.ImageKind.GRAYSCALE_1BPP){L=v.byteLength,a=new Uint32Array(n.buffer,0,n.byteLength>>2),H=a.length,P=_+7>>3,i=4294967295,l=e.IsLittleEndianCached.value?4278190080:255,C&&C[0]===255&&C[255]===0&&(T=[l,i],i=T[0],l=T[1]);for(o=0;o<M;o++){w=o<k?t:E,s=0;for(p=0;p<w;p++){for(F=L-r,S=0,N=F>P?_:F*8-7,R=N&~7,A=0,c=0;S<R;S+=8)c=v[r++],a[s++]=c&128?i:l,a[s++]=c&64?i:l,a[s++]=c&32?i:l,a[s++]=c&16?i:l,a[s++]=c&8?i:l,a[s++]=c&4?i:l,a[s++]=c&2?i:l,a[s++]=c&1?i:l;for(;S<N;S++)A===0&&(c=v[r++],A=128),a[s++]=c&A?i:l,A>>=1}for(;s<H;)a[s++]=0;O.putImageData(x,0,o*t)}}else if(g.kind===e.ImageKind.RGBA_32BPP){{z=!!(f||m||h),p=0,d=_*t*4;for(o=0;o<k;o++){if(n.set(v.subarray(r,r+d)),r+=d,z)for(b=0;b<d;b+=4)f&&(n[b+0]=f[n[b+0]]),m&&(n[b+1]=m[n[b+1]]),h&&(n[b+2]=h[n[b+2]]);O.putImageData(x,0,p),p+=t}if(o<M){if(d=_*E*4,n.set(v.subarray(r,r+d)),z)for(j=0;j<d;j+=4)f&&(n[j+0]=f[n[j+0]]),m&&(n[j+1]=m[n[j+1]]),h&&(n[j+2]=h[n[j+2]]);O.putImageData(x,0,p)}}}else if(g.kind===e.ImageKind.RGB_24BPP){I=!!(f||m||h),w=t,d=_*w;for(o=0;o<M;o++){o>=k&&(w=E,d=_*w),s=0;for(p=d;p--;)n[s++]=v[r++],n[s++]=v[r++],n[s++]=v[r++],n[s++]=255;if(I)for(y=0;y<s;y+=4)f&&(n[y+0]=f[n[y+0]]),m&&(n[y+1]=m[n[y+1]]),h&&(n[y+2]=h[n[y+2]]);O.putImageData(x,0,o*t)}}else throw new Error("bad image kind: ".concat(g.kind))}function w(u,s){for(var a=s.height,r=s.width,f,c,h,d,e,m,o=a%t,i=(a-o)/t,v=o===0?i:i+1,l=u.createImageData(r,t),g=0,b=s.data,p=l.data,n=0;n<v;n++){f=n<i?t:o,c=3;for(h=0;h<f;h++){d=void 0,e=0;for(m=0;m<r;m++)e||(d=b[g++],e=128),p[c]=d&e?0:255,c+=4,e>>=1}u.putImageData(l,0,n*t)}}function l(e,t){o=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(var o,n=0,i=o.length,s;n<i;n++)s=o[n],e[s]!==void 0&&(t[s]=e[s]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function f(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0)}function N(t,a,o,i){for(var r=t.length,n,s,e=3;e<r;e+=4)n=t[e],n===0?(t[e-3]=a,t[e-2]=o,t[e-1]=i):n<255&&(s=255-n,t[e-3]=t[e-3]*n+a*s>>8,t[e-2]=t[e-2]*n+o*s>>8,t[e-1]=t[e-1]*n+i*s>>8)}function L(t,n,s){for(var o=t.length,a,i=1/255,e=3;e<o;e+=4)a=s?s[t[e]]:t[e],n[e]=n[e]*a*i|0}function R(t,n,s){for(var i=t.length,o,e=3;e<i;e+=4)o=t[e-3]*77+t[e-2]*152+t[e-1]*28,n[e]=s?n[e]*s[o>>8]>>8:n[e]*o>>16}function P(_,d,i,r,y,t,j,o,a,b,v){var n=!!t,s,g,u,e,l,c,h,p=n?t[0]:0,m=n?t[1]:0,f=n?t[2]:0;y==="Luminosity"?s=R:s=L,g=1048576,u=Math.min(r,Math.ceil(g/i));for(e=0;e<r;e+=u)l=Math.min(u,r-e),c=_.getImageData(o-b,e+(a-v),i,l),h=d.getImageData(o,e+a,i,l),n&&N(c.data,p,m,f),s(c.data,h.data,j),d.putImageData(h,o,e+a)}function H(e,t,s,n){var o=n[0],i=n[1],a=n[2]-o,r=n[3]-i;if(a===0||r===0)return;P(t.context,s,a,r,t.subtype,t.backdrop,t.transferMap,o,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore()}function g(o,n){var t=e.Util.singularValueDecompose2dScale(o),s;return t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]),s=Math.fround((globalThis.devicePixelRatio||1)*k.PixelsPerInch.PDF_TO_CSS_UNITS),n!==void 0?n:!!(t[0]<=s||t[1]<=s)}U=["butt","round","square"],V=["miter","round","bevel"],$={},x={},o=function(){function t(e,n,s,o,i,a,r){c(this,t),this.ctx=e,this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=s,this.canvasFactory=o,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=a,this.cachedCanvases=new A(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=r,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,e&&m(e),this._cachedGetSinglePixelWidth=null}return u(t,[{key:"beginDrawing",value:function(e){var t=e.transform,s=e.viewport,o=e.transparency,c=o!==void 0&&o,n=e.background,l=n===void 0?null:n,r,i=this.ctx.canvas.width,a=this.ctx.canvas.height;this.ctx.save(),this.ctx.fillStyle=l||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,i,a),this.ctx.restore(),c&&(r=this.cachedCanvases.getCanvas("transparent",i,a,!0),this.compositeCtx=this.ctx,this.transparentCanvas=r.canvas,this.ctx=r.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)),this.ctx.save(),f(this.ctx),t&&(this.ctx.transform.apply(this.ctx,t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform.apply(this.ctx,s.transform),this.viewportScale=s.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(d,b,n,c){var a=d.argsArray,u,g,h,p,f,o,s,l,i,m,v=d.fnArray,t=b||0,r=a.length;if(r===t)return t;for(u=r-t>_&&typeof n=="function",g=u?Date.now()+z:0,h=0,p=this.commonObjs,f=this.objs;!0;){if(c!==void 0&&t===c.nextBreakPoint)return c.breakIt(t,n),t;if(o=v[t],o!==e.OPS.dependency)this[o].apply(this,a[t]);else{s=W(a[t]);try{for(s.s();!(l=s.n()).done;)if(i=l.value,m=i.startsWith("g_")?p:f,!m.has(i))return m.get(i,n),t}catch(e){s.e(e)}finally{s.f()}}if(t++,t===r)return t;if(u&&++h>_){if(Date.now()>g)return n(),t;h=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.current.activeSMask!==null;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(o,i){u=o.width,h=o.height,r=Math.max(Math.hypot(i[0],i[1]),1),d=Math.max(Math.hypot(i[2],i[3]),1);for(var u,h,r,d,e=u,t=h,a,l,n,s,c="prescale1";r>2&&e>1||d>2&&t>1;)n=e,s=t,r>2&&e>1&&(n=Math.ceil(e/2),r/=e/n),d>2&&t>1&&(s=Math.ceil(t/2),d/=t/s),a=this.cachedCanvases.getCanvas(c,n,s),l=a.context,l.clearRect(0,0,n,s),l.drawImage(o,0,0,e,t,0,0,n,s),o=a.canvas,e=n,t=s,c=c==="prescale1"?"prescale2":"prescale1";return{img:o,paintWidth:e,paintHeight:t}}},{key:"_createMaskCanvas",value:function(l){var o=l.width,s=l.height,_,i,a,c,r,y,j,v,t,h,u,d,b,p=this.ctx,f=this.current.fillColor,x=this.current.patternFill,m=this.cachedCanvases.getCanvas("maskCanvas",o,s),O=m.context;return w(O,l),_=p.mozCurrentTransform,i=e.Util.transform(_,[1/o,0,0,-1/s,0,0]),i=e.Util.transform(i,[1,0,0,1,0,-s]),a=e.Util.applyTransform([0,0],i),c=e.Util.applyTransform([o,s],i),r=e.Util.normalizeRect([a[0],a[1],c[0],c[1]]),y=Math.ceil(r[2]-r[0]),j=Math.ceil(r[3]-r[1]),v=this.cachedCanvases.getCanvas("fillCanvas",y,j,!0),t=v.context,h=Math.min(a[0],c[0]),u=Math.min(a[1],c[1]),t.translate(-h,-u),t.transform.apply(t,i),d=this._scaleImage(m.canvas,t.mozCurrentTransformInverse),t.imageSmoothingEnabled=g(t.mozCurrentTransform,l.interpolate),t.drawImage(d.img,0,0,d.img.width,d.img.height,0,0,o,s),t.globalCompositeOperation="source-in",b=e.Util.transform(t.mozCurrentTransformInverse,[1,0,0,1,-h,-u]),t.fillStyle=x?f.getPattern(p,this,b,n.PathType.FILL):f,t.fillRect(0,0,o,s),{canvas:v.canvas,offsetX:Math.round(h),offsetY:Math.round(u)}}},{key:"setLineWidth",value:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e}},{key:"setLineCap",value:function(e){this.ctx.lineCap=U[e]}},{key:"setLineJoin",value:function(e){this.ctx.lineJoin=V[e]}},{key:"setMiterLimit",value:function(e){this.ctx.miterLimit=e}},{key:"setDash",value:function(t,n){var e=this.ctx;e.setLineDash!==void 0&&(e.setLineDash(t),e.lineDashOffset=n)}},{key:"setRenderingIntent",value:function(){}},{key:"setFlatness",value:function(){}},{key:"setGState",value:function(s){for(var n=0,o=s.length,t,i,e;n<o;n++)switch(t=s[n],i=t[0],e=t[1],i){case"LW":this.setLineWidth(e);break;case"LC":this.setLineCap(e);break;case"LJ":this.setLineJoin(e);break;case"ML":this.setMiterLimit(e);break;case"D":this.setDash(e[0],e[1]);break;case"RI":this.setRenderingIntent(e);break;case"FL":this.setFlatness(e);break;case"Font":this.setFont(e[0],e[1]);break;case"CA":this.current.strokeAlpha=t[1];break;case"ca":this.current.fillAlpha=t[1],this.ctx.globalAlpha=t[1];break;case"BM":this.ctx.globalCompositeOperation=e;break;case"SMask":this.current.activeSMask=e?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=e}}},{key:"checkSMaskState",value:function(){var e=!!this.suspendedCtx;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.suspendedCtx)throw new Error("beginSMaskMode called while already in smask mode");var t=this.ctx.canvas.width,e,n=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(s,t,n,!0);this.suspendedCtx=this.ctx,this.ctx=o.context,e=this.ctx,e.setTransform.apply(e,this.suspendedCtx.mozCurrentTransform),l(this.suspendedCtx,e),M(e,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.suspendedCtx)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),l(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.current.activeSMask=null,this.suspendedCtx=null}},{key:"compose",value:function(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var t=this.current.activeSMask,n=this.suspendedCtx;H(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}},{key:"save",value:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.stateStack.length===0&&this.current.activeSMask&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(t,n,s,o,i,e){this.ctx.transform(t,n,s,o,i,e),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(f,n){i=this.ctx,a=this.current,s=a.x,o=a.y;for(var i,a,s,o,r,c,u=0,t=0,p=f.length,h,m,l,d;u<p;u++)switch(f[u]|0){case e.OPS.rectangle:s=n[t++],o=n[t++],h=n[t++],m=n[t++],l=s+h,d=o+m,i.moveTo(s,o),h===0||m===0?i.lineTo(l,d):(i.lineTo(l,o),i.lineTo(l,d),i.lineTo(s,d)),a.updatePathMinMax(i.mozCurrentTransform,s,o),a.updatePathMinMax(i.mozCurrentTransform,l,d),i.closePath();break;case e.OPS.moveTo:s=n[t++],o=n[t++],i.moveTo(s,o),a.updatePathMinMax(i.mozCurrentTransform,s,o);break;case e.OPS.lineTo:s=n[t++],o=n[t++],i.lineTo(s,o),a.updatePathMinMax(i.mozCurrentTransform,s,o);break;case e.OPS.curveTo:r=s,c=o,s=n[t+4],o=n[t+5],i.bezierCurveTo(n[t],n[t+1],n[t+2],n[t+3],s,o),a.updateCurvePathMinMax(i.mozCurrentTransform,r,c,n[t],n[t+1],n[t+2],n[t+3],s,o),t+=6;break;case e.OPS.curveTo2:r=s,c=o,i.bezierCurveTo(s,o,n[t],n[t+1],n[t+2],n[t+3]),a.updateCurvePathMinMax(i.mozCurrentTransform,r,c,s,o,n[t],n[t+1],n[t+2],n[t+3]),s=n[t+2],o=n[t+3],t+=4;break;case e.OPS.curveTo3:r=s,c=o,s=n[t+2],o=n[t+3],i.bezierCurveTo(n[t],n[t+1],s,o,s,o),a.updateCurvePathMinMax(i.mozCurrentTransform,r,c,n[t],n[t+1],s,o,s,o),t+=4;break;case e.OPS.closePath:i.closePath();break}a.setCurrentPoint(s,o)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(s){s=typeof s=="undefined"||s;var e=this.ctx,i,o,t=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(a(t)==="object"&&t!==null&&t!==void 0&&t.getPattern?(i=this.getSinglePixelWidth(),e.save(),e.strokeStyle=t.getPattern(e,this,e.mozCurrentTransformInverse,n.PathType.STROKE),e.lineWidth=Math.max(i,this.current.lineWidth),e.stroke(),e.restore()):(o=this.getSinglePixelWidth(),o<0&&-o>=this.current.lineWidth?(e.save(),e.resetTransform(),e.lineWidth=Math.round(this._combinedScaleFactor),e.stroke(),e.restore()):(e.lineWidth=Math.max(o,this.current.lineWidth),e.stroke()))),s&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(t){t=typeof t=="undefined"||t;var e=this.ctx,s,i=this.current.fillColor,a=this.current.patternFill,o=!1;a&&(e.save(),e.fillStyle=i.getPattern(e,this,e.mozCurrentTransformInverse,n.PathType.FILL),o=!0),s=this.current.getClippedPathBoundingBox(),this.contentVisible&&s!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(s)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=$}},{key:"eoClip",value:function(){this.pendingClip=x}},{key:"beginText",value:function(){this.current.textMatrix=e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var n=this.pendingTextPaths,s,t,e=this.ctx;if(n===void 0){e.beginPath();return}e.save(),e.beginPath();for(s=0;s<n.length;s++)t=n[s],e.setTransform.apply(e,t.transform),e.translate(t.x,t.y),t.addToPath(e,t.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setFont",value:function(a,n){var t=this.commonObjs.get(a),r,i,c,l,o,s=this.current;if(!t)throw new Error("Can't find font for ".concat(a));if(s.fontMatrix=t.fontMatrix||e.FONT_IDENTITY_MATRIX,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&(0,e.warn)("Invalid font matrix for font "+a),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=t,this.current.fontSize=n,t.isType3Font)return;r=t.loadedName||"sans-serif",i="normal",t.black?i="900":t.bold&&(i="bold"),c=t.italic?"italic":"normal",l='"'.concat(r,'", ').concat(t.fallbackName),o=n,n<v?o=v:n>b&&(o=b),this.current.fontSizeScale=n/o,this.ctx.font="".concat(c," ").concat(i," ").concat(o,"px ").concat(l)}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"moveText",value:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"setTextMatrix",value:function(e,t,s,o,i,n){this.current.textMatrix=[e,t,s,o,i,n],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(a,s,o,h,l){var t=this.ctx,c,p,i=this.current,r=i.font,d=i.textRenderingMode,u=i.fontSize/i.fontSizeScale,n=d&e.TextRenderingMode.FILL_STROKE_MASK,m=!!(d&e.TextRenderingMode.ADD_TO_PATH_FLAG),f=i.patternFill&&!r.missingFile;(r.disableFontFace||m||f)&&(c=r.getPathGenerator(this.commonObjs,a)),r.disableFontFace||f?(t.save(),t.translate(s,o),t.beginPath(),c(t,u),h&&t.setTransform.apply(t,h),(n===e.TextRenderingMode.FILL||n===e.TextRenderingMode.FILL_STROKE)&&t.fill(),(n===e.TextRenderingMode.STROKE||n===e.TextRenderingMode.FILL_STROKE)&&(l&&(t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor)),t.stroke()),t.restore()):((n===e.TextRenderingMode.FILL||n===e.TextRenderingMode.FILL_STROKE)&&t.fillText(a,s,o),(n===e.TextRenderingMode.STROKE||n===e.TextRenderingMode.FILL_STROKE)&&(l?(t.save(),t.moveTo(s,o),t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor),t.strokeText(a,0,0),t.restore()):t.strokeText(a,s,o))),m&&(p=this.pendingTextPaths||(this.pendingTextPaths=[]),p.push({transform:t.mozCurrentTransform,x:s,y:o,fontSize:u,addToPath:c}))}},{key:"isFontSubpixelAAEnabled",get:function(){var i=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),n=i.context,s,o,t;n.scale(1.5,1),n.fillText("I",0,10),s=n.getImageData(0,0,10,10).data,o=!1;for(t=3;t<s.length;t+=4)if(s[t]>0&&s[t]<255){o=!0;break}return(0,e.shadow)(this,"isFontSubpixelAAEnabled",o)}},{key:"showText",value:function(O){if(t=this.current,l=t.font,l.isType3Font)return this.showType3Text(O);if(r=t.fontSize,r===0)return void 0;s=this.ctx,o=t.fontSizeScale,P=t.charSpacing,R=t.wordSpacing,p=t.fontDirection,x=t.textHScale*p,B=O.length,g=l.vertical,z=g?1:-1,F=l.defaultVMetrics,b=r*t.fontMatrix[0],D=t.textRenderingMode===e.TextRenderingMode.FILL&&!l.disableFontFace&&!t.patternFill,s.save(),s.transform.apply(s,t.textMatrix),s.translate(t.x,t.y+t.textRise),p>0?s.scale(x,-1):s.scale(x,1),t.patternFill&&(s.save(),H=t.fillColor.getPattern(s,this,s.mozCurrentTransformInverse,n.PathType.FILL),_=s.mozCurrentTransform,s.restore(),s.fillStyle=H),d=t.lineWidth,w=!1,E=t.textMatrixScale,E===0||d===0?(M=t.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK,(M===e.TextRenderingMode.STROKE||M===e.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,d=this.getSinglePixelWidth(),w=d<0)):d/=E,o!==1&&(s.scale(o,o),d/=o),s.lineWidth=d,u=0;for(j=0;j<B;++j){if(a=O[j],(0,e.isNum)(a)){u+=z*a*r/1e3;continue}A=!1,S=(a.isSpace?R:0)+P,y=a.fontChar,m=a.accent;var t,l,r,s,o,P,R,p,x,B,g,z,F,b,D,_,H,d,w,E,M,u,j,a,A,S,y,m,c=void 0,h=void 0,f,L,T,v,k,I,N,C,i=a.width;g?(f=a.vmetric||F,L=-(a.vmetric?f[1]:i*.5)*b,T=f[2]*b,i=f?-f[0]:i,c=L/o,h=(u+T)/o):(c=u/o,h=0),l.remeasure&&i>0&&(v=s.measureText(y).width*1e3/r*o,i<v&&this.isFontSubpixelAAEnabled?(k=i/v,A=!0,s.save(),s.scale(k,1),c/=k):i!==v&&(c+=(i-v)/2e3*r/o)),this.contentVisible&&(a.isInFont||l.missingFile)&&(D&&!m?s.fillText(y,c,h):(this.paintChar(y,c,h,_,w),m&&(I=c+r*m.offset.x/o,N=h-r*m.offset.y/o,this.paintChar(m.fontChar,I,N,_,w)))),C=void 0,g?C=i*b-S*p:C=i*b+S*p,u+=C,A&&s.restore()}return g?t.y-=u:t.x+=u*x,s.restore(),this.compose()}},{key:"showType3Text",value:function(d){var n=this.ctx,i,s,r,a,j,u,f,t=this.current,l=t.font,o=t.fontSize,m=t.fontDirection,y=l.vertical?1:-1,b=t.charSpacing,v=t.wordSpacing,c=t.textHScale*m,h=t.fontMatrix||e.FONT_IDENTITY_MATRIX,g=d.length,p=t.textRenderingMode===e.TextRenderingMode.INVISIBLE;if(p||o===0)return;this._cachedGetSinglePixelWidth=null,n.save(),n.transform.apply(n,t.textMatrix),n.translate(t.x,t.y),n.scale(c,m);for(i=0;i<g;++i){if(s=d[i],(0,e.isNum)(s)){a=y*s*o/1e3,this.ctx.translate(a,0),t.x+=a*c;continue}if(j=(s.isSpace?v:0)+b,u=l.charProcOperatorList[s.operatorListId],!u){(0,e.warn)('Type3 character "'.concat(s.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=s,this.save(),n.scale(o,o),n.transform.apply(n,h),this.executeOperatorList(u),this.restore()),f=e.Util.applyTransform([s.width,0],h),r=f[0]*o+j,n.translate(r,0),t.x+=r*c}n.restore(),this.processingType3=null}},{key:"setCharWidth",value:function(){}},{key:"setCharWidthAndBounds",value:function(o,i,e,t,s,n){this.ctx.rect(e,t,s-e,n-t),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(e){var s=this,o,a,r,i;return e[0]==="TilingPattern"?(a=e[1],r=this.baseTransform||this.ctx.mozCurrentTransform.slice(),i={createCanvasGraphics:function(e){return new t(e,s.commonObjs,s.objs,s.canvasFactory)}},o=new n.TilingPattern(e,a,this.ctx,i,r)):o=this._getPattern(e[1],e[2]),o}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(n,s,o){var t=e.Util.makeHexColor(n,s,o);this.ctx.strokeStyle=t,this.current.strokeColor=t}},{key:"setFillRGBColor",value:function(n,s,o){var t=e.Util.makeHexColor(n,s,o);this.ctx.fillStyle=t,this.current.fillColor=t,this.current.patternFill=!1}},{key:"_getPattern",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=(0,n.getShadingPattern)(this.objs.get(t)),this.cachedPatterns.set(t,e)),s&&(e.matrix=s),e}},{key:"shadingFill",value:function(p){if(!this.contentVisible)return;var t=this.ctx,f,s,l,d,u,a,i,r,o,h,c,g,m;this.save(),f=this._getPattern(p),t.fillStyle=f.getPattern(t,this,t.mozCurrentTransformInverse,n.PathType.SHADING),s=t.mozCurrentTransformInverse,s?(l=t.canvas,d=l.width,u=l.height,a=e.Util.applyTransform([0,0],s),i=e.Util.applyTransform([0,u],s),r=e.Util.applyTransform([d,0],s),o=e.Util.applyTransform([d,u],s),h=Math.min(a[0],i[0],r[0],o[0]),c=Math.min(a[1],i[1],r[1],o[1]),g=Math.max(a[0],i[0],r[0],o[0]),m=Math.max(a[1],i[1],r[1],o[1]),this.ctx.fillRect(h,c,g-h,m-c)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.compose(this.current.getClippedPathBoundingBox()),this.restore()}},{key:"beginInlineImage",value:function(){(0,e.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,e.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(t,e){if(!this.contentVisible)return;if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&t.length===6&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e){var n=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],n,s),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,e[0],e[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,e[2],e[3]),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){if(!this.contentVisible)return;this.restore(),this.baseTransform=this.baseTransformStack.pop()}},{key:"beginGroup",value:function(n){if(!this.contentVisible)return;if(this.save(),v=this.suspendedCtx,this.current.activeSMask&&(this.suspendedCtx=null,this.current.activeSMask=null),t=this.ctx,n.isolated||(0,e.info)("TODO: Support non-isolated groups."),n.knockout&&(0,e.warn)("Knockout groups not supported."),g=t.mozCurrentTransform,n.matrix&&t.transform.apply(t,n.matrix),!n.bbox)throw new Error("Bounding box is required.");i=e.Util.getAxialAlignedBoundingBox(n.bbox,t.mozCurrentTransform),p=[0,0,t.canvas.width,t.canvas.height],i=e.Util.intersect(i,p)||[0,0,0,0],d=Math.floor(i[0]),h=Math.floor(i[1]),a=Math.max(Math.ceil(i[2])-d,1),r=Math.max(Math.ceil(i[3])-h,1);var v,t,g,i,p,d,h,a,r,c=1,u=1,m,f,o;a>s&&(c=a/s,a=s),r>s&&(u=r/s,r=s),this.current.startNewPathAndClipBox([0,0,a,r]),m="groupAt"+this.groupLevel,n.smask&&(m+="_smask_"+this.smaskCounter++%2),f=this.cachedCanvases.getCanvas(m,a,r,!0),o=f.context,o.scale(1/c,1/u),o.translate(-d,-h),o.transform.apply(o,g),n.smask?this.smaskStack.push({canvas:f.canvas,context:o,offsetX:d,offsetY:h,scaleX:c,scaleY:u,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(d,h),t.scale(c,u),t.save()),l(t,o),this.ctx=o,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push({ctx:t,suspendedCtx:v}),this.groupLevel++}},{key:"endGroup",value:function(i){if(!this.contentVisible)return;this.groupLevel--,t=this.ctx;var t,s=this.groupStack.pop(),a=s.ctx,o=s.suspendedCtx,n,r;this.ctx=a,this.ctx.imageSmoothingEnabled=!1,o&&(this.suspendedCtx=o),i.smask?(this.tempSMask=this.smaskStack.pop(),this.restore()):(this.ctx.restore(),n=this.ctx.mozCurrentTransform,this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,n),r=e.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],n),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r))}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(y,t,s,j,g){if(this.save(),Array.isArray(t)&&t.length===4)if(o=t[2]-t[0],n=t[3]-t[1],g&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=n;var o,n,p=e.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),l=i(p,2),h=l[0],d=l[1],c=this.viewportScale,v=Math.ceil(o*this.outputScaleX*c),b=Math.ceil(n*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(v,b);var r=this.annotationCanvas,a=r.canvas,u=r.context;a.style.width="calc(".concat(o,"px * var(--viewport-scale-factor))"),a.style.height="calc(".concat(n,"px * var(--viewport-scale-factor))"),this.annotationCanvasMap.set(y,a),this.annotationCanvas.savedCtx=this.ctx,this.ctx=u,this.ctx.setTransform(h,0,0,-d,0,n*d),m(this.ctx),f(this.ctx)}else f(this.ctx),this.ctx.rect(t[0],t[1],o,n),this.clip(),this.endPath();this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,s),this.transform.apply(this,j)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(n){if(!this.contentVisible)return;var o=n.width,i=n.height,s,a,t=this.ctx,e=this.processingType3;if(T&&e&&e.compiled===void 0&&(o<=O&&i<=O?e.compiled=S({data:n.data,width:o,height:i}):e.compiled=null),e!==null&&e!==void 0&&e.compiled){e.compiled(t);return}s=this._createMaskCanvas(n),a=s.canvas,t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(a,s.offsetX,s.offsetY),t.restore(),this.compose()}},{key:"paintImageMaskXObjectRepeat",value:function(g,o){if(a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,!this.contentVisible)return;t=this.ctx,t.save(),h=t.mozCurrentTransform,t.transform(o,a,r,c,0,0),u=this._createMaskCanvas(g),t.setTransform(1,0,0,1,0,0);for(n=0,m=s.length;n<m;n+=2){var a,r,c,s,t,h,u,n,m,p=e.Util.applyTransform([0,0],f),l=i(p,2),v=l[0],d=l[1],f=e.Util.transform(h,[o,a,r,c,s[n],s[n+1]]);t.drawImage(u.canvas,v,d)}t.restore(),this.compose()}},{key:"paintImageMaskXObjectGroup",value:function(c){if(!this.contentVisible)return;e=this.ctx,l=this.current.fillColor,u=this.current.patternFill;for(var e,l,u,a=0,d=c.length,s,i,o,r,t;a<d;a++)s=c[a],i=s.width,o=s.height,r=this.cachedCanvases.getCanvas("maskCanvas",i,o),t=r.context,t.save(),w(t,s),t.globalCompositeOperation="source-in",t.fillStyle=u?l.getPattern(t,this,e.mozCurrentTransformInverse,n.PathType.FILL):l,t.fillRect(0,0,i,o),t.restore(),e.save(),e.transform.apply(e,s.transform),e.scale(1,-1),e.drawImage(r.canvas,0,0,i,o,0,-1,1,1),e.restore();this.compose()}},{key:"paintImageXObject",value:function(t){if(!this.contentVisible)return;var n=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(!n){(0,e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}},{key:"paintImageXObjectRepeat",value:function(s,c,l,o){if(!this.contentVisible)return;if(n=s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s),!n){(0,e.warn)("Dependent image isn't ready yet");return}a=n.width,r=n.height,i=[];for(var n,a,r,i,t=0,d=o.length;t<d;t+=2)i.push({transform:[c,0,0,l,o[t],o[t+1]],x:0,y:0,w:a,h:r});this.paintInlineImageXObjectGroup(n,i)}},{key:"paintInlineImageXObject",value:function(e){if(!this.contentVisible)return;var s=e.width,o,a,c,i,r,n=e.height,t=this.ctx;this.save(),t.scale(1/s,-1/n),typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data?o=e:(a=this.cachedCanvases.getCanvas("inlineImage",s,n),c=a.context,C(c,e,this.current.transferMaps),o=a.canvas),i=this._scaleImage(o,t.mozCurrentTransformInverse),t.imageSmoothingEnabled=g(t.mozCurrentTransform,e.interpolate),t.drawImage(i.img,0,0,i.paintWidth,i.paintHeight,0,-n,s,n),this.imageLayer&&(r=this.getCanvasPosition(0,-n),this.imageLayer.appendImage({imgData:e,left:r[0],top:r[1],width:s/t.mozCurrentTransformInverse[0],height:n/t.mozCurrentTransformInverse[3]})),this.compose(),this.restore()}},{key:"paintInlineImageXObjectGroup",value:function(n,a){if(!this.contentVisible)return;t=this.ctx,r=n.width,i=n.height,o=this.cachedCanvases.getCanvas("inlineImage",r,i),l=o.context,C(l,n,this.current.transferMaps);for(var t,r,i,o,l,s=0,d=a.length,e,c;s<d;s++)e=a[s],t.save(),t.transform.apply(t,e.transform),t.scale(1,-1),t.drawImage(o.canvas,e.x,e.y,e.w,e.h,0,-1,1,1),this.imageLayer&&(c=this.getCanvasPosition(e.x,e.y),this.imageLayer.appendImage({imgData:n,left:c[0],top:c[1],width:r,height:i})),t.restore();this.compose()}},{key:"paintSolidColorImageMask",value:function(){if(!this.contentVisible)return;this.ctx.fillRect(0,0,1,1),this.compose()}},{key:"markPoint",value:function(){}},{key:"markPointProps",value:function(){}},{key:"beginMarkedContent",value:function(){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(t){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);var e=this.ctx;this.pendingClip&&(this.pendingClip===x?e.clip("evenodd"):e.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(this._cachedGetSinglePixelWidth===null){var e=this.ctx.mozCurrentTransform,n=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.pow(e[0],2)+Math.pow(e[2],2),o=Math.pow(e[1],2)+Math.pow(e[3],2),t=Math.sqrt(Math.max(s,o))/n;s!==o&&this._combinedScaleFactor*t>1?this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*t):n>Number.EPSILON?this._cachedGetSinglePixelWidth=t:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(t,n){var e=this.ctx.mozCurrentTransform;return[e[0]*t+e[2]*n+e[4],e[1]*t+e[3]*n+e[5]]}},{key:"isContentVisible",value:function(){for(var e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}]),t}(),r.CanvasGraphics=o;for(h in e.OPS)o.prototype[h]!==void 0&&(o.prototype[e.OPS[h]]=o.prototype[h])},(A,n,k)=>{"use strict";function i(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(e){return typeof e}:i=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=E;var e=k(4),t,u,_,x,C,p,v;function f(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=w(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function w(e,n){if(!e)return;if(typeof e=="string")return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}function m(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function r(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){var t=b();return function(){var s=a(e),n,o;return t?(o=a(this).constructor,n=Reflect.construct(s,arguments,o)):n=s.apply(this,arguments),y(this,n)}}function y(t,e){if(e&&(i(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function o(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}t={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"},n.PathType=t;function h(n,e){if(!e||typeof Path2D=="undefined")return;var s=e[2]-e[0],o=e[3]-e[1],t=new Path2D;t.rect(e[0],e[1],s,o),n.clip(t)}u=function(){function t(){s(this,t),this.constructor===t&&(0,e.unreachable)("Cannot initialize BaseShadingPattern.")}return o(t,[{key:"getPattern",value:function(){(0,e.unreachable)("Abstract method `getPattern` called.")}}]),t}(),_=function(i){r(n,i);var a=d(n);function n(t){var e;return s(this,n),e=a.call(this),e._type=t[1],e._bbox=t[2],e._colorStops=t[3],e._p0=t[4],e._p1=t[5],e._r0=t[6],e._r1=t[7],e.matrix=null,e}return o(n,[{key:"_createGradient",value:function(n){this._type==="axial"?e=n.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=n.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var e,t=f(this._colorStops),s,o;try{for(t.s();!(s=t.n()).done;)o=s.value,e.addColorStop(o[0],o[1])}catch(e){t.e(e)}finally{t.f()}return e}},{key:"getPattern",value:function(o,a,r,c){if(c===t.STROKE||c===t.FILL){var i,s=a.current.getClippedPathBoundingBox(c,o.mozCurrentTransform)||[0,0,0,0],m,d=Math.ceil(s[2]-s[0])||1,u=Math.ceil(s[3]-s[1])||1,l=a.cachedCanvases.getCanvas("pattern",d,u,!0),n=l.context;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.beginPath(),n.rect(0,0,n.canvas.width,n.canvas.height),n.translate(-s[0],-s[1]),r=e.Util.transform(r,[1,0,0,1,s[0],s[1]]),n.transform.apply(n,a.baseTransform),this.matrix&&n.transform.apply(n,this.matrix),h(n,this._bbox),n.fillStyle=this._createGradient(n),n.fill(),i=o.createPattern(l.canvas,"no-repeat"),m=new DOMMatrix(r);try{i.setTransform(m)}catch(t){(0,e.warn)('RadialAxialShadingPattern.getPattern: "'.concat(t===null||t===void 0?void 0:t.message,'".'))}}else h(o,this._bbox),i=this._createGradient(o);return i}}]),n}(u);function c(H,t,c,o,g,d,a,p){if(n=t.coords,r=t.colors,O=H.data,V=H.width*4,n[c+1]>n[o+1]&&(s=c,c=o,o=s,s=d,d=a,a=s),n[o+1]>n[g+1]&&(s=o,o=g,g=s,s=a,a=p,p=s),n[c+1]>n[o+1]&&(s=c,c=o,o=s,s=d,d=a,a=s),C=(n[c]+t.offsetX)*t.scaleX,l=(n[c+1]+t.offsetY)*t.scaleY,M=(n[o]+t.offsetX)*t.scaleX,v=(n[o+1]+t.offsetY)*t.scaleY,I=(n[g]+t.offsetX)*t.scaleX,u=(n[g+1]+t.offsetY)*t.scaleY,l>=u)return;for(var n,r,O,V,s,C,l,M,v,I,u,j=r[d],y=r[d+1],_=r[d+2],f,b,w,x,k,N,L,R,m,h,e,B,$,E,T,S=r[a],F=r[a+1],A=r[a+2],z=r[p],P=r[p+1],D=r[p+2],W=Math.round(l),U=Math.round(u),i=W;i<=U;i++){i<v?(m=void 0,i<l?m=0:m=(l-i)/(l-v),f=C-(C-M)*m,b=j-(j-S)*m,w=y-(y-F)*m,x=_-(_-A)*m):(h=void 0,i>u?h=1:v===u?h=0:h=(v-i)/(v-u),f=M-(M-I)*h,b=S-(S-z)*h,w=F-(F-P)*h,x=A-(A-D)*h),e=void 0,i<l?e=0:i>u?e=1:e=(l-i)/(l-u),k=C-(C-I)*e,N=j-(j-z)*e,L=y-(y-P)*e,R=_-(_-D)*e,B=Math.round(Math.min(f,k)),$=Math.round(Math.max(f,k)),E=V*i+B*4;for(T=B;T<=$;T++)e=(f-T)/(f-k),e<0?e=0:e>1&&(e=1),O[E++]=b-(b-N)*e|0,O[E++]=w-(w-L)*e|0,O[E++]=x-(x-R)*e|0,O[E++]=255}}function O(a,i,r){var n=i.coords,t,l,s,u,h,e,d,o=i.colors;switch(i.type){case"lattice":s=i.verticesPerRow,u=Math.floor(n.length/s)-1,h=s-1;for(t=0;t<u;t++){e=t*s;for(d=0;d<h;d++,e++)c(a,r,n[e],n[e+1],n[e+s],o[e],o[e+1],o[e+s]),c(a,r,n[e+s+1],n[e+1],n[e+s],o[e+s+1],o[e+1],o[e+s])}break;case"triangles":for(t=0,l=n.length;t<l;t+=3)c(a,r,n[t],n[t+1],n[t+2],o[t],o[t+1],o[t+2]);break;default:throw new Error("illegal figure")}}x=function(i){r(n,i);var a=d(n);function n(t){var e;return s(this,n),e=a.call(this),e._coords=t[2],e._colors=t[3],e._figures=t[4],e._bounds=t[5],e._bbox=t[7],e._background=t[8],e.matrix=null,e}return o(n,[{key:"_createMeshCanvas",value:function(b,s,k){if(g=1.1,p=3e3,e=2,r=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),m=Math.ceil(this._bounds[2])-r,h=Math.ceil(this._bounds[3])-c,u=Math.min(Math.ceil(Math.abs(m*b[0]*g)),p),a=Math.min(Math.ceil(Math.abs(h*b[1]*g)),p),l=m/u,i=h/a,E={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-c,scaleX:1/l,scaleY:1/i},x=u+e*2,w=a+e*2,j=k.getCanvas("mesh",x,w,!1),y=j.context,d=y.createImageData(u,a),s){n=d.data;for(var g,p,e,r,c,m,h,u,a,l,i,E,x,w,j,y,d,n,t=0,C=n.length,o,v,A,_;t<C;t+=4)n[t]=s[0],n[t+1]=s[1],n[t+2]=s[2],n[t+3]=255}o=f(this._figures);try{for(o.s();!(v=o.n()).done;)A=v.value,O(d,A,E)}catch(e){o.e(e)}finally{o.f()}return y.putImageData(d,e,e),_=j.canvas,{canvas:_,offsetX:r-e*l,offsetY:c-e*i,scaleX:l,scaleY:i}}},{key:"getPattern",value:function(n,i,c,a){if(h(n,this._bbox),a===t.SHADING)s=e.Util.singularValueDecompose2dScale(n.mozCurrentTransform);else if(s=e.Util.singularValueDecompose2dScale(i.baseTransform),this.matrix){var s,r=e.Util.singularValueDecompose2dScale(this.matrix),o;s=[s[0]*r[0],s[1]*r[1]]}return o=this._createMeshCanvas(s,a===t.SHADING?null:this._background,i.cachedCanvases),a!==t.SHADING&&(n.setTransform.apply(n,i.baseTransform),this.matrix&&n.transform.apply(n,this.matrix)),n.translate(o.offsetX,o.offsetY),n.scale(o.scaleX,o.scaleY),n.createPattern(o.canvas,"no-repeat")}}]),n}(u),C=function(t){r(e,t);var n=d(e);function e(){return s(this,e),n.apply(this,arguments)}return o(e,[{key:"getPattern",value:function(){return"hotpink"}}]),e}(u);function E(e){switch(e[0]){case"RadialAxial":return new _(e);case"Mesh":return new x(e);case"Dummy":return new C}throw new Error("Unknown IR type: ".concat(e[0]))}p={COLORED:1,UNCOLORED:2},v=function(){function n(e,t,o,i,a){s(this,n),this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=o,this.canvasGraphicsFactory=i,this.baseTransform=a}return o(n,[{key:"createPatternCanvas",value:function(m){C=this.operatorList,s=this.bbox,x=this.xstep,O=this.ystep,w=this.paintType,_=this.tilingType,y=this.color,j=this.canvasGraphicsFactory,(0,e.info)("TilingType: "+_);var C,s,x,O,w,_,y,j,c=s[0],r=s[1],b=s[2],v=s[3],i,o,h,f,p=e.Util.singularValueDecompose2dScale(this.matrix),g=e.Util.singularValueDecompose2dScale(this.baseTransform),l=[p[0]*g[0],p[1]*g[1]],n=this.getSizeAndScale(x,this.ctx.canvas.width,l[0]),a=this.getSizeAndScale(O,this.ctx.canvas.height,l[1]),d=m.cachedCanvases.getCanvas("pattern",n.size,a.size,!0),u=d.context,t=j.createCanvasGraphics(u);return t.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(t,w,y),i=c,o=r,h=b,f=v,c<0&&(i=0,h+=Math.abs(c)),r<0&&(o=0,f+=Math.abs(r)),u.translate(-(n.scale*i),-(a.scale*o)),t.transform(n.scale,0,0,a.scale,0,0),this.clipBbox(t,i,o,h,f),t.baseTransform=t.ctx.mozCurrentTransform.slice(),t.executeOperatorList(C),t.endDrawing(),{canvas:d.canvas,scaleX:n.scale,scaleY:a.scale,offsetX:i,offsetY:o}}},{key:"getSizeAndScale",value:function(e,i,s){e=Math.abs(e);var o=Math.max(n.MAX_PATTERN_SIZE,i),t=Math.ceil(e*s);return t>=o?t=o:s=t/e,{scale:s,size:t}}},{key:"clipBbox",value:function(e,t,n,o,i){var s=o-t,a=i-n;e.ctx.rect(t,n,s,a),e.clip(),e.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(r,a,i){var s=r.ctx,o=r.current,t,n;switch(a){case p.COLORED:t=this.ctx,s.fillStyle=t.fillStyle,s.strokeStyle=t.strokeStyle,o.fillColor=t.fillStyle,o.strokeColor=t.strokeStyle;break;case p.UNCOLORED:n=e.Util.makeHexColor(i[0],i[1],i[2]),s.fillStyle=n,s.strokeStyle=n,o.fillColor=n,o.strokeColor=n;break;default:throw new e.FormatError("Unsupported paint type: ".concat(a))}}},{key:"getPattern",value:function(l,i,r,c){var o=r,n,s,a;c!==t.SHADING&&(o=e.Util.transform(o,i.baseTransform),this.matrix&&(o=e.Util.transform(o,this.matrix))),n=this.createPatternCanvas(i),s=new DOMMatrix(o),s=s.translate(n.offsetX,n.offsetY),s=s.scale(1/n.scaleX,1/n.scaleY),a=l.createPattern(n.canvas,"repeat");try{a.setTransform(s)}catch(t){(0,e.warn)('TilingPattern.getPattern: "'.concat(t===null||t===void 0?void 0:t.message,'".'))}return a}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,e.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),n}(),n.TilingPattern=v},(n,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var e=Object.create(null);t.GlobalWorkerOptions=e,e.workerPort=e.workerPort===void 0?null:e.workerPort,e.workerSrc=e.workerSrc===void 0?"":e.workerSrc},(p,i,c)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var a=f(c(2)),o,e,d,t=c(4);function f(e){return e&&e.__esModule?e:{default:e}}function r(n,r,c,s,o,i,a){try{var e=n[i](a),t=e.value}catch(e){c(e);return}e.done?r(t):Promise.resolve(t).then(s,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)})}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function s(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(e){return typeof e}:s=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}o={UNKNOWN:0,DATA:1,ERROR:2},e={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function n(e){if(!(e instanceof Error||s(e)==="object"&&e!==null))return(0,t.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e;switch(e.name){case"AbortException":return new t.AbortException(e.message);case"MissingPDFException":return new t.MissingPDFException(e.message);case"PasswordException":return new t.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new t.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new t.UnknownErrorException(e.message,e.details);default:return new t.UnknownErrorException(e.message,e.toString())}}d=function(){function s(i,a,t){var e=this;h(this,s),this.sourceName=i,this.targetName=a,this.comObj=t,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(d){var s=d.data,i,a,r,l,c;if(s.targetName!==e.sourceName)return;if(s.stream){e._processStreamMessage(s);return}if(s.callback){if(i=s.callbackId,a=e.callbackCapabilities[i],!a)throw new Error("Cannot resolve callback ".concat(i));if(delete e.callbackCapabilities[i],s.callback===o.DATA)a.resolve(s.data);else if(s.callback===o.ERROR)a.reject(n(s.reason));else throw new Error("Unexpected callback case");return}if(r=e.actionHandler[s.action],!r)throw new Error("Unknown action from worker: ".concat(s.action));if(s.callbackId){l=e.sourceName,c=s.sourceName,new Promise(function(e){e(r(s.data))}).then(function(e){t.postMessage({sourceName:l,targetName:c,callback:o.DATA,callbackId:s.callbackId,data:e})},function(e){t.postMessage({sourceName:l,targetName:c,callback:o.ERROR,callbackId:s.callbackId,reason:n(e)})});return}if(s.streamId){e._createStreamSink(s);return}r(s.data)},t.addEventListener("message",this._onComObjOnMessage)}return u(s,[{key:"on",value:function(e,n){var t=this.actionHandler;if(t[e])throw new Error('There is already an actionName called "'.concat(e,'"'));t[e]=n}},{key:"send",value:function(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(s,o,i){var n=this.callbackId++,e=(0,t.createPromiseCapability)();this.callbackCapabilities[n]=e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,callbackId:n,data:o},i)}catch(t){e.reject(t)}return e.promise}},{key:"sendWithStream",value:function(l,d,u,c){var s=this.streamId++,i=this.sourceName,a=this.targetName,r=this.comObj,o=this;return new ReadableStream({start:function(e){var n=(0,t.createPromiseCapability)();return o.streamControllers[s]={controller:e,startCall:n,pullCall:null,cancelCall:null,isClosed:!1},r.postMessage({sourceName:i,targetName:a,action:l,streamId:s,data:d,desiredSize:e.desiredSize},c),n.promise},pull:function(c){var n=(0,t.createPromiseCapability)();return o.streamControllers[s].pullCall=n,r.postMessage({sourceName:i,targetName:a,stream:e.PULL,streamId:s,desiredSize:c.desiredSize}),n.promise},cancel:function(c){(0,t.assert)(c instanceof Error,"cancel must have a valid reason");var l=(0,t.createPromiseCapability)();return o.streamControllers[s].cancelCall=l,o.streamControllers[s].isClosed=!0,r.postMessage({sourceName:i,targetName:a,stream:e.CANCEL,streamId:s,reason:n(c)}),l.promise}},u)}},{key:"_createStreamSink",value:function(o){var s=o.streamId,i=this.sourceName,a=o.sourceName,r=this.comObj,l=this,d=this.actionHandler[o.action],c={enqueue:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,l,c=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;l=this.desiredSize,this.desiredSize-=o,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,t.createPromiseCapability)(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:a,stream:e.ENQUEUE,streamId:s,chunk:n},c)},close:function(){if(this.isCancelled)return;this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:e.CLOSE,streamId:s}),delete l.streamSinks[s]},error:function(o){if((0,t.assert)(o instanceof Error,"error must have a valid reason"),this.isCancelled)return;this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:e.ERROR,streamId:s,reason:n(o)})},sinkCapability:(0,t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:o.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[s]=c,new Promise(function(e){e(d(o.data,c))}).then(function(){r.postMessage({sourceName:i,targetName:a,stream:e.START_COMPLETE,streamId:s,success:!0})},function(t){r.postMessage({sourceName:i,targetName:a,stream:e.START_COMPLETE,streamId:s,reason:n(t)})})}},{key:"_processStreamMessage",value:function(o){var i=o.streamId,r=this.sourceName,c=o.sourceName,l=this.comObj,s=this.streamControllers[i],a=this.streamSinks[i];switch(o.stream){case e.START_COMPLETE:o.success?s.startCall.resolve():s.startCall.reject(n(o.reason));break;case e.PULL_COMPLETE:o.success?s.pullCall.resolve():s.pullCall.reject(n(o.reason));break;case e.PULL:if(!a){l.postMessage({sourceName:r,targetName:c,stream:e.PULL_COMPLETE,streamId:i,success:!0});break}a.desiredSize<=0&&o.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=o.desiredSize,new Promise(function(e){e(a.onPull&&a.onPull())}).then(function(){l.postMessage({sourceName:r,targetName:c,stream:e.PULL_COMPLETE,streamId:i,success:!0})},function(t){l.postMessage({sourceName:r,targetName:c,stream:e.PULL_COMPLETE,streamId:i,reason:n(t)})});break;case e.ENQUEUE:if((0,t.assert)(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(o.chunk);break;case e.CLOSE:if((0,t.assert)(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this._deleteStreamController(s,i);break;case e.ERROR:(0,t.assert)(s,"error should have stream controller"),s.controller.error(n(o.reason)),this._deleteStreamController(s,i);break;case e.CANCEL_COMPLETE:o.success?s.cancelCall.resolve():s.cancelCall.reject(n(o.reason)),this._deleteStreamController(s,i);break;case e.CANCEL:if(!a)break;new Promise(function(e){e(a.onCancel&&a.onCancel(n(o.reason)))}).then(function(){l.postMessage({sourceName:r,targetName:c,stream:e.CANCEL_COMPLETE,streamId:i,success:!0})},function(t){l.postMessage({sourceName:r,targetName:c,stream:e.CANCEL_COMPLETE,streamId:i,reason:n(t)})}),a.sinkCapability.reject(n(o.reason)),a.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var e=m(a.default.mark(function t(e,n){return a.default.wrap(function(t){for(;1;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]);case 2:delete this.streamControllers[n];case 3:case"end":return t.stop()}},t,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),s}(),i.MessageHandler=d},(g,n,p)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var f=p(4),e,s,c;function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function u(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t,n){l(e,t),t.set(e,n)}function l(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(e,t){var n=o(e,t,"get");return d(e,n)}function d(t,e){return e.get?e.get.call(t):e.value}function a(e,n,t){var s=o(e,n,"set");return m(e,s,t),t}function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function m(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}e=new WeakMap,s=new WeakMap,c=function(){function n(t){var o=t.parsedData,i=t.rawData;h(this,n),r(this,e,{writable:!0,value:void 0}),r(this,s,{writable:!0,value:void 0}),a(this,e,o),a(this,s,i)}return u(n,[{key:"getRaw",value:function(){return t(this,s)}},{key:"get",value:function(s){var n;return(n=t(this,e).get(s))!==null&&n!==void 0?n:null}},{key:"getAll",value:function(){return(0,f.objectFromMap)(t(this,e))}},{key:"has",value:function(n){return t(this,e).has(n)}}]),n}(),n.Metadata=c},(u,n,a)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var e=a(4),l,d;function t(e,c){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=r(e))||c&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function r(e,n){if(!e)return;if(typeof e=="string")return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}function s(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function o(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function c(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}l=function e(t,n){i(this,e),this.visible=!0,this.name=t,this.intent=n},d=function(){function n(e){if(i(this,n),this.name=null,this.creator=null,this._order=null,this._groups=new Map,e===null)return;this.name=e.name,this.creator=e.creator,this._order=e.order;var s=t(e.groups),d,c,o,u,f,r,h,p,a,m,g;try{for(s.s();!(d=s.n()).done;)c=d.value,this._groups.set(c.id,new l(c.name,c.intent))}catch(e){s.e(e)}finally{s.f()}if(e.baseState==="OFF"){o=t(this._groups);try{for(o.s();!(u=o.n()).done;)f=u.value,f.visible=!1}catch(e){o.e(e)}finally{o.f()}}r=t(e.on);try{for(r.s();!(h=r.n()).done;)p=h.value,this._groups.get(p).visible=!0}catch(e){r.e(e)}finally{r.f()}a=t(e.off);try{for(a.s();!(m=a.n()).done;)g=m.value,this._groups.get(g).visible=!1}catch(e){a.e(e)}finally{a.f()}}return c(n,[{key:"_evaluateVisibilityExpression",value:function(s){var i=s.length,a,o,n,t;if(i<2)return!0;a=s[0];for(o=1;o<i;o++){if(n=s[o],t=void 0,Array.isArray(n))t=this._evaluateVisibilityExpression(n);else if(this._groups.has(n))t=this._groups.get(n).visible;else return(0,e.warn)("Optional content group not found: ".concat(n)),!0;switch(a){case"And":if(!t)return!1;break;case"Or":if(t)return!0;break;case"Not":return!t;default:return!0}}return a==="And"}},{key:"isVisible",value:function(n){if(this._groups.size===0)return!0;if(!n)return(0,e.warn)("Optional content group not defined."),!0;if(n.type==="OCG")return this._groups.has(n.id)?this._groups.get(n.id).visible:((0,e.warn)("Optional content group not found: ".concat(n.id)),!0);if(n.type==="OCMD"){if(n.expression)return this._evaluateVisibilityExpression(n.expression);if(!n.policy||n.policy==="AnyOn"){var o=t(n.ids),m,r,a,h,l,s,u,c,i,f,d;try{for(o.s();!(m=o.n()).done;){if(r=m.value,!this._groups.has(r))return(0,e.warn)("Optional content group not found: ".concat(r)),!0;if(this._groups.get(r).visible)return!0}}catch(e){o.e(e)}finally{o.f()}return!1}if(n.policy==="AllOn"){a=t(n.ids);try{for(a.s();!(h=a.n()).done;){if(l=h.value,!this._groups.has(l))return(0,e.warn)("Optional content group not found: ".concat(l)),!0;if(!this._groups.get(l).visible)return!1}}catch(e){a.e(e)}finally{a.f()}return!0}if(n.policy==="AnyOff"){s=t(n.ids);try{for(s.s();!(u=s.n()).done;){if(c=u.value,!this._groups.has(c))return(0,e.warn)("Optional content group not found: ".concat(c)),!0;if(!this._groups.get(c).visible)return!0}}catch(e){s.e(e)}finally{s.f()}return!1}if(n.policy==="AllOff"){i=t(n.ids);try{for(i.s();!(f=i.n()).done;){if(d=f.value,!this._groups.has(d))return(0,e.warn)("Optional content group not found: ".concat(d)),!0;if(this._groups.get(d).visible)return!1}}catch(e){i.e(e)}finally{i.f()}return!0}return(0,e.warn)("Unknown optional content policy ".concat(n.policy,".")),!0}return(0,e.warn)("Unknown group type ".concat(n.type,".")),!0}},{key:"setVisibility",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!this._groups.has(t)){(0,e.warn)("Optional content group not found: ".concat(t));return}this._groups.get(t).visible=!!n}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,e.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(e){return this._groups.get(e)||null}}]),n}(),n.OptionalContentConfig=d},(v,s,o)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var n=m(o(2)),p,g,u,t=o(4),f=o(1);function m(e){return e&&e.__esModule?e:{default:e}}function l(n,r,c,s,o,i,a){try{var e=n[i](a),t=e.value}catch(e){c(e);return}e.done?r(t):Promise.resolve(t).then(s,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){l(a,o,i,s,r,"next",e)}function r(e){l(a,o,i,s,r,"throw",e)}s(void 0)})}}function e(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=h(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function h(e,n){if(!e)return;if(typeof e=="string")return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,n)}function r(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function i(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}p=function(){function n(e,i){var s=this,o,r;a(this,n),(0,t.assert)(i,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null,o=e.initialData,(o===null||o===void 0?void 0:o.length)>0&&(r=new Uint8Array(o).buffer,this._queuedChunks.push(r)),this._pdfDataRangeTransport=i,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){s._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e,t){s._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){s._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){s._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return i(n,[{key:"_onReceiveData",value:function(e){var n=new Uint8Array(e.chunk).buffer,s;e.begin===void 0?this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n):(s=this._rangeReaders.some(function(t){return t._begin===e.begin&&(t._enqueue(n),!0)}),(0,t.assert)(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."))}},{key:"_progressiveDataLength",get:function(){var e,t;return(e=(t=this._fullRequestReader)===null||t===void 0?void 0:t._loaded)!==null&&e!==void 0?e:0}},{key:"_onProgress",value:function(e){if(e.total===void 0){var t=this._rangeReaders[0],n;t!==null&&t!==void 0&&t.onProgress&&t.onProgress({loaded:e.loaded})}else n=this._fullRequestReader,n!==null&&n!==void 0&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(t){var e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}},{key:"getFullReader",value:function(){(0,t.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new g(this,e,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new u(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(n){this._fullRequestReader&&this._fullRequestReader.cancel(n);var t=e(this._rangeReaders.slice(0)),s,o;try{for(t.s();!(s=t.n()).done;)o=s.value,o.cancel(n)}catch(e){t.e(e)}finally{t.f()}this._pdfDataRangeTransport.abort()}}]),n}(),s.PDFDataTransportStream=p,g=function(){function s(n,r){var c=!!(arguments.length>2&&arguments[2]!==void 0)&&arguments[2],t,i,l,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;a(this,s),this._stream=n,this._done=c||!1,this._filename=(0,f.isPdfFile)(o)?o:null,this._queuedChunks=r||[],this._loaded=0,t=e(this._queuedChunks);try{for(t.s();!(i=t.n()).done;)l=i.value,this._loaded+=l.byteLength}catch(e){t.e(e)}finally{t.f()}this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}return i(s,[{key:"_enqueue",value:function(e){if(this._done)return;if(this._requests.length>0){var t=this._requests.shift();t.resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var e=d(n.default.mark(function o(){var s,e;return n.default.wrap(function(n){for(;1;)switch(n.prev=n.next){case 0:if(!(this._queuedChunks.length>0)){n.next=3;break}return s=this._queuedChunks.shift(),n.abrupt("return",{value:s,done:!1});case 3:if(!this._done){n.next=5;break}return n.abrupt("return",{value:void 0,done:!0});case 5:return e=(0,t.createPromiseCapability)(),this._requests.push(e),n.abrupt("return",e.promise);case 8:case"end":return n.stop()}},o,this)}));function s(){return e.apply(this,arguments)}return s}()},{key:"cancel",value:function(){this._done=!0;var t=e(this._requests),n,s;try{for(t.s();!(n=t.n()).done;)s=n.value,s.resolve({value:void 0,done:!0})}catch(e){t.e(e)}finally{t.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){if(this._done)return;this._done=!0}}]),s}(),u=function(){function s(e,t,n){a(this,s),this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return i(s,[{key:"_enqueue",value:function(n){if(this._done)return;if(this._requests.length===0)this._queuedChunk=n;else{var o=this._requests.shift(),t,s,i;o.resolve({value:n,done:!1}),t=e(this._requests);try{for(t.s();!(s=t.n()).done;)i=s.value,i.resolve({value:void 0,done:!0})}catch(e){t.e(e)}finally{t.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=d(n.default.mark(function o(){var s,e;return n.default.wrap(function(n){for(;1;)switch(n.prev=n.next){case 0:if(!this._queuedChunk){n.next=4;break}return s=this._queuedChunk,this._queuedChunk=null,n.abrupt("return",{value:s,done:!1});case 4:if(!this._done){n.next=6;break}return n.abrupt("return",{value:void 0,done:!0});case 6:return e=(0,t.createPromiseCapability)(),this._requests.push(e),n.abrupt("return",e.promise);case 9:case"end":return n.stop()}},o,this)}));function s(){return e.apply(this,arguments)}return s}()},{key:"cancel",value:function(){this._done=!0;var t=e(this._requests),n,s;try{for(t.s();!(n=t.n()).done;)s=n.value,s.resolve({value:void 0,done:!0})}catch(e){t.e(e)}finally{t.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),s}()},(c,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;function s(e,c){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=o(e))||c&&e&&typeof e.length=="number")return t&&(e=t),s=0,i=function(){},{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,i,a=!0,r=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){r=!0,n=e},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(r)throw n}}}}function o(e,s){if(!e)return;if(typeof e=="string")return n(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,s)}function n(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function a(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}var r=function(){function e(){i(this,e)}return a(e,null,[{key:"textContent",value:function(o){var t=[],i={items:t,styles:Object.create(null)};function n(o){if(!o)return;var r,i=null,a,l,d,c=o.name;if(c==="#text")i=o.value;else if(e.shouldBuildText(c))o!==null&&o!==void 0&&(r=o.attributes)!==null&&r!==void 0&&r.textContent?i=o.attributes.textContent:o.value&&(i=o.value);else return;if(i!==null&&t.push({str:i}),!o.children)return;a=s(o.children);try{for(a.s();!(l=a.n()).done;)d=l.value,n(d)}catch(e){a.e(e)}finally{a.f()}}return n(o),i}},{key:"shouldBuildText",value:function(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}]),e}();e.XfaText=r},(ed,g,l)=>{"use strict";function f(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(e){return typeof e}:f=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayer=void 0;var e=l(4),m,r,R,a,E,I,d,V,$,W,U,K,x,k,G,X,Q,Z,_,ee,et,Y,es,eo,ei,ea,er,ec,D,b=l(1),en=l(139),J=l(149),q=l(150);function C(e,t,n){return B(e,t),n}function B(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function h(e,t,n){return typeof Reflect!="undefined"&&Reflect.get?h=Reflect.get:h=function(s,t,o){var n=H(s,t),e;if(!n)return;return e=Object.getOwnPropertyDescriptor(n,t),e.get?e.get.call(o):e.value},h(e,t,n||e)}function H(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t);)if(e=c(e),e===null)break;return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){return z(e)||el(e)||j(e)||N()}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function el(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z(e){if(Array.isArray(e))return v(e)}function i(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function o(e){var t=S();return function(){var s=c(e),n,o;return t?(o=c(this).constructor,n=Reflect.construct(s,arguments,o)):n=s.apply(this,arguments),T(this,n)}}function T(t,e){if(e&&(f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function n(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=j(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function u(e,t){return F(e)||M(e,t)||j(e,t)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,n){if(!e)return;if(typeof e=="string")return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}function v(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function M(t,o){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"],n,s,i,a,r;if(e==null)return;n=[],s=!0,i=!1;try{for(e=e.call(t);!(s=(a=e.next()).done);s=!0)if(n.push(a.value),o&&n.length===o)break}catch(e){i=!0,r=e}finally{try{!s&&e.return!=null&&e.return()}finally{if(i)throw r}}return n}function F(e){if(Array.isArray(e))return e}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function s(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}m=1e3,r=new WeakSet,R=function(){function n(){t(this,n)}return s(n,null,[{key:"create",value:function(t){var n=t.data.annotationType,s;switch(n){case e.AnnotationType.LINK:return new E(t);case e.AnnotationType.TEXT:return new I(t);case e.AnnotationType.WIDGET:switch(s=t.data.fieldType,s){case"Tx":return new V(t);case"Btn":return t.data.radioButton?new W(t):t.data.checkBox?new $(t):new U(t);case"Ch":return new K(t)}return new d(t);case e.AnnotationType.POPUP:return new x(t);case e.AnnotationType.FREETEXT:return new G(t);case e.AnnotationType.LINE:return new X(t);case e.AnnotationType.SQUARE:return new Q(t);case e.AnnotationType.CIRCLE:return new Z(t);case e.AnnotationType.POLYLINE:return new _(t);case e.AnnotationType.CARET:return new et(t);case e.AnnotationType.INK:return new Y(t);case e.AnnotationType.POLYGON:return new ee(t);case e.AnnotationType.HIGHLIGHT:return new es(t);case e.AnnotationType.UNDERLINE:return new eo(t);case e.AnnotationType.SQUIGGLY:return new ei(t);case e.AnnotationType.STRIKEOUT:return new ea(t);case e.AnnotationType.STAMP:return new er(t);case e.AnnotationType.FILEATTACHMENT:return new ec(t);default:return new a(t)}}}]),n}(),a=function(){function o(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.isRenderable,i=s!==void 0&&s,a=n.ignoreBorder,r=a!==void 0&&a,c=n.createQuadrilaterals,l=c!==void 0&&c;t(this,o),this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,i&&(this.container=this._createContainer(r)),l&&(this.quadrilaterals=this._createQuadrilaterals(r))}return s(o,[{key:"_createContainer",value:function(){b=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0];var t=this.data,a=this.page,l=this.viewport;if(n=document.createElement("section"),r=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1],n.setAttribute("data-annotation-id",t.id),s=e.Util.normalizeRect([t.rect[0],a.view[3]-t.rect[1]+a.view[1],t.rect[2],a.view[3]-t.rect[3]+a.view[1]]),t.hasOwnCanvas){var b,n,r,o,s,v=e.Util.singularValueDecompose2dScale(i),m=u(v,2),f=m[0],p=m[1],c,h,d,j,g,i=l.transform.slice();r=Math.ceil(r*f),o=Math.ceil(o*p),s[0]*=f,s[1]*=p;for(c=0;c<4;c++)i[c]=Math.sign(i[c]);n.style.transform="matrix(".concat(i.join(","),")")}else n.style.transform="matrix(".concat(l.transform.join(","),")");if(n.style.transformOrigin="".concat(-s[0],"px ").concat(-s[1],"px"),!b&&t.borderStyle.width>0){switch(n.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==e.AnnotationBorderStyleType.UNDERLINE&&(r-=2*t.borderStyle.width,o-=2*t.borderStyle.width),h=t.borderStyle.horizontalCornerRadius,d=t.borderStyle.verticalCornerRadius,(h>0||d>0)&&(j="".concat(h,"px / ").concat(d,"px"),n.style.borderRadius=j),t.borderStyle.style){case e.AnnotationBorderStyleType.SOLID:n.style.borderStyle="solid";break;case e.AnnotationBorderStyleType.DASHED:n.style.borderStyle="dashed";break;case e.AnnotationBorderStyleType.BEVELED:(0,e.warn)("Unimplemented border style: beveled");break;case e.AnnotationBorderStyleType.INSET:(0,e.warn)("Unimplemented border style: inset");break;case e.AnnotationBorderStyleType.UNDERLINE:n.style.borderBottomStyle="solid";break;default:break}g=t.borderColor||t.color||null,g?n.style.borderColor=e.Util.makeHexColor(t.color[0]|0,t.color[1]|0,t.color[2]|0):n.style.borderWidth=0}return n.style.left="".concat(s[0],"px"),n.style.top="".concat(s[1],"px"),t.hasOwnCanvas?n.style.width=n.style.height="auto":(n.style.width="".concat(r,"px"),n.style.height="".concat(o,"px")),n}},{key:"_createQuadrilaterals",value:function(){var i=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0],s,a,t,o,e;if(!this.data.quadPoints)return null;s=[],a=this.data.rect,t=n(this.data.quadPoints);try{for(t.s();!(o=t.n()).done;)e=o.value,this.data.rect=[e[2].x,e[2].y,e[1].x,e[1].y],s.push(this._createContainer(i))}catch(e){t.e(e)}finally{t.f()}return this.data.rect=a,s}},{key:"_createPopup",value:function(e,n){var t=this.container,o,s;this.quadrilaterals&&(e=e||this.quadrilaterals,t=this.quadrilaterals[0]),e||(e=document.createElement("div"),e.style.height=t.style.height,e.style.width=t.style.width,t.appendChild(e)),o=new k({container:t,trigger:e,color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,hideWrapper:!0}),s=o.render(),s.style.left=t.style.width,t.appendChild(s)}},{key:"_renderQuadrilaterals",value:function(s){var e=n(this.quadrilaterals),t,o;try{for(e.s();!(t=e.n()).done;)o=t.value,o.className=s}catch(t){e.e(t)}finally{e.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,e.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(p){if(f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=[],this._fieldObjects){if(h=this._fieldObjects[p],h){a=n(h);try{for(a.s();!(d=a.n()).done;){var f,o,h,a,d,l=d.value,j=l.page,i=l.id,m=l.exportValues,b,c,t,g,s,u,v;if(j===-1)continue;if(i===f)continue;if(b=typeof m=="string"?m:null,c=document.getElementById(i),c&&!r.has(c)){(0,e.warn)("_getElementsByName - element not allowed: ".concat(i));continue}o.push({id:i,exportValue:b,domElement:c})}}catch(e){a.e(e)}finally{a.f()}}return o}t=n(document.getElementsByName(p));try{for(t.s();!(g=t.n()).done;){if(s=g.value,u=s.id,v=s.exportValue,u===f)continue;if(!r.has(s))continue;o.push({id:u,exportValue:v,domElement:s})}}catch(e){t.e(e)}finally{t.f()}return o}}],[{key:"platform",get:function(){var t=typeof navigator!="undefined"?navigator.platform:"";return(0,e.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}]),o}(),E=function(c){i(a,c);var l=o(a);function a(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s;return t(this,a),s=!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),l.call(this,e,{isRenderable:s,ignoreBorder:!!(n!==null&&n!==void 0&&n.ignoreBorder),createQuadrilaterals:!0})}return s(a,[{key:"render",value:function(){var t=this.data,s=this.linkService,o,i,n=document.createElement("a");return t.url?(s.addLinkAttributes||(0,e.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),(o=s.addLinkAttributes)===null||o===void 0?void 0:o.call(s,n,t.url,t.newWindow)):t.action?this._bindNamedAction(n,t.action):t.dest?this._bindLink(n,t.dest):(i=!1,t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(i=!0,this._bindJSAction(n,t)),t.resetForm?this._bindResetFormAction(n,t.resetForm):i||this._bindLink(n,"")),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(e,t){var s=t===0?n:n.cloneNode();return e.appendChild(s),e}):(this.container.className="linkAnnotation",this.container.appendChild(n),this.container)}},{key:"_bindLink",value:function(t,e){var n=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&n.linkService.goToDestination(e),!1},(e||e==="")&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}},{key:"_bindJSAction",value:function(e,n){s=this,e.href=this.linkService.getAnchorUrl(""),i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),a=function(){var a=o[t],r=i.get(a);if(!r)return"continue";e[r]=function(){var e;return(e=s.linkService.eventBus)===null||e===void 0?void 0:e.dispatch("dispatcheventinsandbox",{source:s,detail:{id:n.id,name:a}}),!1}};for(var s,i,a,t=0,o=Object.keys(n.actions),r;t<o.length;t++)if(r=a(),r==="continue")continue;e.onclick||(e.onclick=function(){return!1}),e.className="internalLink"}},{key:"_bindResetFormAction",value:function(s,i){var t=this,o=s.onclick;if(o||(s.href=this.linkService.getAnchorUrl("")),s.className="internalLink",!this._fieldObjects){(0,e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),o||(s.onclick=function(){return!1});return}s.onclick=function(){o&&o();var A=i.fields,C=i.refs,N=i.include,O,l,_,T,F,d,v,R,p,b,M,a,k,w,u,x,S,g,E,m,j,e,s,y,z,D,f,h,c=[];if(A.length!==0||C.length!==0){O=new Set(C),l=n(A);try{for(l.s();!(_=l.n()).done;){T=_.value,F=t._fieldObjects[T]||[],d=n(F);try{for(d.s();!(v=d.n()).done;)R=v.value.id,O.add(R)}catch(e){d.e(e)}finally{d.f()}}}catch(e){l.e(e)}finally{l.f()}for(p=0,b=Object.values(t._fieldObjects);p<b.length;p++){M=b[p],a=n(M);try{for(a.s();!(k=a.n()).done;)w=k.value,O.has(w.id)===N&&c.push(w)}catch(e){a.e(e)}finally{a.f()}}}else for(u=0,x=Object.values(t._fieldObjects);u<x.length;u++)S=x[u],c.push.apply(c,L(S));g=t.annotationStorage,E=[];for(m=0,j=c;m<j.length;m++){switch(e=j[m],s=e.id,E.push(s),e.type){case"text":{y=e.defaultValue||"",g.setValue(s,{value:y,valueAsString:y});break}case"checkbox":case"radiobutton":{z=e.defaultValue===e.exportValues,g.setValue(s,{value:z});break}case"combobox":case"listbox":{D=e.defaultValue||"",g.setValue(s,{value:D});break}default:continue}if(f=document.getElementById(s),!f||!r.has(f))continue;f.dispatchEvent(new Event("resetform"))}return t.enableScripting&&((h=t.linkService.eventBus)===null||h===void 0?void 0:h.dispatch("dispatcheventinsandbox",{source:t,detail:{id:"app",ids:E,name:"ResetForm"}})),!1}}}]),a}(a),I=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r})}return s(e,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}]),e}(a),d=function(c){i(r,c);var l=o(r);function r(){return t(this,r),l.apply(this,arguments)}return s(r,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(e){var t=a.platform,n=t.isWin,s=t.isMac;return n&&e.ctrlKey||s&&e.metaKey}},{key:"_setEventListener",value:function(n,t,s,o){var e=this;t.includes("mouse")?n.addEventListener(t,function(t){var n;(n=e.linkService.eventBus)===null||n===void 0?void 0:n.dispatch("dispatcheventinsandbox",{source:e,detail:{id:e.data.id,name:s,value:o(t),shift:t.shiftKey,modifier:e._getKeyModifier(t)}})}):n.addEventListener(t,function(n){var t;(t=e.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:e,detail:{id:e.data.id,name:s,value:n.target.checked}})})}},{key:"_setEventListeners",value:function(r,a,l){e=n(a);try{for(e.s();!(i=e.n()).done;){var e,i,t,o=u(i.value,2),c=o[0],s=o[1];(s==="Action"||(t=this.data.actions)!==null&&t!==void 0&&t[s])&&this._setEventListener(r,c,s,l)}}catch(t){e.e(t)}finally{e.f()}}},{key:"_setBackgroundColor",value:function(n){var t=this.data.backgroundColor||null;n.style.backgroundColor=t===null?"transparent":e.Util.makeHexColor(t[0],t[1],t[2])}},{key:"_dispatchEventFromSandbox",value:function(c,o){e=this,t=function(n,s,e){var t=e.detail[n];e.target.style[s]=J.ColorConverters["".concat(t[0],"_HTML")](t.slice(1))},r={display:function(t){var n=t.detail.display%2===1;t.target.style.visibility=n?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{hidden:n,print:t.detail.display===0||t.detail.display===3})},print:function(t){e.annotationStorage.setValue(e.data.id,{print:t.detail.print})},hidden:function(t){t.target.style.visibility=t.detail.hidden?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{hidden:t.detail.hidden})},focus:function(e){setTimeout(function(){return e.target.focus({preventScroll:!1})},0)},userName:function(e){e.target.title=e.detail.userName},readonly:function(e){e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:function(e){e.detail.required?e.target.setAttribute("required",""):e.target.removeAttribute("required")},bgColor:function(e){t("bgColor","backgroundColor",e)},fillColor:function(e){t("fillColor","backgroundColor",e)},fgColor:function(e){t("fgColor","color",e)},textColor:function(e){t("textColor","color",e)},borderColor:function(e){t("borderColor","borderColor",e)},strokeColor:function(e){t("strokeColor","borderColor",e)}};for(var e,t,r,n=0,s=Object.keys(o.detail),i,a;n<s.length;n++)i=s[n],a=c[i]||r[i],a&&a(o)}}]),r}(a),V=function(c){i(a,c);var l=o(a);function a(e){t(this,a);var n=e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue;return l.call(this,e,{isRenderable:n})}return s(a,[{key:"setPropertyOnSiblings",value:function(s,c,o,a){var r=this.annotationStorage,i,t,e=n(this._getElementsByName(s.name,s.id));try{for(e.s();!(i=e.n()).done;)t=i.value,t.domElement&&(t.domElement[c]=o),r.setValue(t.id,P({},a,o))}catch(t){e.e(t)}finally{e.f()}}},{key:"render",value:function(){var n=this,e,l,c,t,i,a,h,f,d,o=this.annotationStorage,s=this.data.id;return this.container.className="textWidgetAnnotation",e=null,this.renderForms?(l=o.getValue(s,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),c=l.valueAsString||l.value||"",t={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null},this.data.multiLine?(e=document.createElement("textarea"),e.textContent=c):(e=document.createElement("input"),e.type="text",e.setAttribute("value",c)),r.add(e),e.disabled=this.data.readOnly,e.name=this.data.fieldName,e.tabIndex=m,t.userValue=c,e.setAttribute("id",s),e.addEventListener("input",function(t){o.setValue(s,{value:t.target.value}),n.setPropertyOnSiblings(e,"value",t.target.value,"value")}),e.addEventListener("resetform",function(){var s=n.data.defaultFieldValue||"";e.value=t.userValue=s,delete t.formattedValue}),i=function(e){t.formattedValue&&(e.target.value=t.formattedValue),e.target.scrollLeft=0,t.beforeInputSelectionRange=null},this.enableScripting&&this.hasJSActions&&(e.addEventListener("focus",function(e){t.userValue&&(e.target.value=t.userValue)}),e.addEventListener("updatefromsandbox",function(e){var i={value:function(e){t.userValue=e.detail.value||"",o.setValue(s,{value:t.userValue.toString()}),t.formattedValue||(e.target.value=t.userValue)},valueAsString:function(e){t.formattedValue=e.detail.valueAsString||"",e.target!==document.activeElement&&(e.target.value=t.formattedValue),o.setValue(s,{formattedValue:t.formattedValue})},selRange:function(e){var t=u(e.detail.selRange,2),n=t[0],s=t[1];n>=0&&s<e.target.value.length&&e.target.setSelectionRange(n,s)}};n._dispatchEventFromSandbox(i,e)}),e.addEventListener("keydown",function(e){t.beforeInputValue=e.target.value;var i,o=-1;if(e.key==="Escape"?o=0:e.key==="Enter"?o=2:e.key==="Tab"&&(o=3),o===-1)return;t.userValue=e.target.value,(i=n.linkService.eventBus)===null||i===void 0?void 0:i.dispatch("dispatcheventinsandbox",{source:n,detail:{id:s,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:o,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})}),h=i,i=null,e.addEventListener("blur",function(e){if(n._mouseState.isDown){var o;t.userValue=e.target.value,(o=n.linkService.eventBus)===null||o===void 0?void 0:o.dispatch("dispatcheventinsandbox",{source:n,detail:{id:s,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})}h(e)}),e.addEventListener("mousedown",function(e){t.beforeInputValue=e.target.value,t.beforeInputSelectionRange=null}),e.addEventListener("keyup",function(e){e.target.selectionStart===e.target.selectionEnd&&(t.beforeInputSelectionRange=null)}),e.addEventListener("select",function(e){t.beforeInputSelectionRange=[e.target.selectionStart,e.target.selectionEnd]}),(a=this.data.actions)!==null&&a!==void 0&&a.Keystroke&&e.addEventListener("input",function(r){var e,o=-1,a,i=-1;t.beforeInputSelectionRange&&(a=u(t.beforeInputSelectionRange,2),o=a[0],i=a[1]),(e=n.linkService.eventBus)===null||e===void 0?void 0:e.dispatch("dispatcheventinsandbox",{source:n,detail:{id:s,name:"Keystroke",value:t.beforeInputValue,change:r.data,willCommit:!1,selStart:o,selEnd:i}})}),this._setEventListeners(e,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.value})),i&&e.addEventListener("blur",i),this.data.maxLen!==null&&(e.maxLength=this.data.maxLen),this.data.comb&&(f=this.data.rect[2]-this.data.rect[0],d=f/this.data.maxLen,e.classList.add("comb"),e.style.letterSpacing="calc(".concat(d,"px - 1ch)"))):(e=document.createElement("div"),e.textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell"),this._setTextStyle(e),this._setBackgroundColor(e),this.container.appendChild(e),this.container}},{key:"_setTextStyle",value:function(i){var s=this.data.defaultAppearanceData,o=s.fontSize,n=s.fontColor,a=["left","center","right"],t=i.style;o&&(t.fontSize="".concat(o,"px")),t.color=e.Util.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(t.textAlign=a[this.data.textAlignment])}}]),a}(d),$=function(a){i(e,a);var c=o(e);function e(n){return t(this,e),c.call(this,n,{isRenderable:n.renderForms})}return s(e,[{key:"render",value:function(){var a=this,e,o=this.annotationStorage,t=this.data,s=t.id,i=o.getValue(s,{value:t.exportValue===t.fieldValue}).value;return typeof i=="string"&&(i=i!=="Off",o.setValue(s,{value:i})),this.container.className="buttonWidgetAnnotation checkBox",e=document.createElement("input"),r.add(e),e.disabled=t.readOnly,e.type="checkbox",e.name=t.fieldName,i&&e.setAttribute("checked",!0),e.setAttribute("id",s),e.setAttribute("exportValue",t.exportValue),e.tabIndex=m,e.addEventListener("change",function(h){var r=h.target,u=r.name,c=r.checked,l,e,d,i=n(a._getElementsByName(u,s));try{for(i.s();!(l=i.n()).done;)e=l.value,d=c&&e.exportValue===t.exportValue,e.domElement&&(e.domElement.checked=d),o.setValue(e.id,{value:d})}catch(e){i.e(e)}finally{i.f()}o.setValue(s,{value:c})}),e.addEventListener("resetform",function(e){var n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}),this.enableScripting&&this.hasJSActions&&(e.addEventListener("updatefromsandbox",function(e){var t={value:function(e){e.target.checked=e.detail.value!=="Off",o.setValue(s,{value:e.target.checked})}};a._dispatchEventFromSandbox(t,e)}),this._setEventListeners(e,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})),this._setBackgroundColor(e),this.container.appendChild(e),this.container}}]),e}(d),W=function(a){i(e,a);var c=o(e);function e(n){return t(this,e),c.call(this,n,{isRenderable:n.renderForms})}return s(e,[{key:"render",value:function(){var a=this,o,t,s,i,e,c;return this.container.className="buttonWidgetAnnotation radioButton",o=this.annotationStorage,t=this.data,s=t.id,i=o.getValue(s,{value:t.fieldValue===t.buttonValue}).value,typeof i=="string"&&(i=i!==t.buttonValue,o.setValue(s,{value:i})),e=document.createElement("input"),r.add(e),e.disabled=t.readOnly,e.type="radio",e.name=t.fieldName,i&&e.setAttribute("checked",!0),e.setAttribute("id",s),e.tabIndex=m,e.addEventListener("change",function(r){var t=r.target,c=t.name,l=t.checked,i,d,e=n(a._getElementsByName(c,s));try{for(e.s();!(i=e.n()).done;)d=i.value,o.setValue(d.id,{value:!1})}catch(t){e.e(t)}finally{e.f()}o.setValue(s,{value:l})}),e.addEventListener("resetform",function(n){var e=t.defaultFieldValue;n.target.checked=e!==null&&e!==void 0&&e===t.buttonValue}),this.enableScripting&&this.hasJSActions&&(c=t.buttonValue,e.addEventListener("updatefromsandbox",function(e){var t={value:function(r){var d=c===r.detail.value,l,t,i,e=n(a._getElementsByName(r.target.name));try{for(e.s();!(l=e.n()).done;)t=l.value,i=d&&t.id===s,t.domElement&&(t.domElement.checked=i),o.setValue(t.id,{value:i})}catch(t){e.e(t)}finally{e.f()}}};a._dispatchEventFromSandbox(t,e)}),this._setEventListeners(e,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})),this._setBackgroundColor(e),this.container.appendChild(e),this.container}}]),e}(d),U=function(n){i(e,n);var a=o(e);function e(n){return t(this,e),a.call(this,n,{ignoreBorder:n.data.hasAppearance})}return s(e,[{key:"render",value:function(){var t=h(c(e.prototype),"render",this).call(this);return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),t}}]),e}(E),K=function(a){i(e,a);var c=o(e);function e(n){return t(this,e),c.call(this,n,{isRenderable:n.renderForms})}return s(e,[{key:"render",value:function(){var a=this,s,t,c,f,e,l,h,u,i,o,d;this.container.className="choiceWidgetAnnotation",s=this.annotationStorage,t=this.data.id,s.getValue(t,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0}),c=this.data.defaultAppearanceData.fontSize,c||(c=9),f="calc(".concat(c,"px * var(--zoom-factor))"),e=document.createElement("select"),r.add(e),e.disabled=this.data.readOnly,e.name=this.data.fieldName,e.setAttribute("id",t),e.tabIndex=m,e.style.fontSize="".concat(c,"px"),this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0)),e.addEventListener("resetform",function(){var i=a.data.defaultFieldValue,s,o,t=n(e.options);try{for(t.s();!(s=t.n()).done;)o=s.value,o.selected=o.value===i}catch(e){t.e(e)}finally{t.f()}}),l=n(this.data.options);try{for(l.s();!(h=l.n()).done;)u=h.value,i=document.createElement("option"),i.textContent=u.displayValue,i.value=u.exportValue,this.data.combo&&(i.style.fontSize=f),this.data.fieldValue.includes(u.exportValue)&&i.setAttribute("selected",!0),e.appendChild(i)}catch(e){l.e(e)}finally{l.f()}return o=function(t,s){var n=s?"value":"textContent",e=t.target.options;return t.target.multiple?Array.prototype.filter.call(e,function(e){return e.selected}).map(function(e){return e[n]}):e.selectedIndex===-1?null:e[e.selectedIndex][n]},d=function(e){var t=e.target.options;return Array.prototype.map.call(t,function(e){return{displayValue:e.textContent,exportValue:e.value}})},this.enableScripting&&this.hasJSActions?(e.addEventListener("updatefromsandbox",function(i){var r={value:function(c){var a=c.detail.value,l,r,d=new Set(Array.isArray(a)?a:[a]),i=n(e.options);try{for(i.s();!(l=i.n()).done;)r=l.value,r.selected=d.has(r.value)}catch(e){i.e(e)}finally{i.f()}s.setValue(t,{value:o(c,!0)})},multipleSelection:function(){e.multiple=!0},remove:function(i){var n=e.options,r,a=i.detail.remove;n[a].selected=!1,e.remove(a),n.length>0&&(r=Array.prototype.findIndex.call(n,function(e){return e.selected}),r===-1&&(n[0].selected=!0)),s.setValue(t,{value:o(i,!0),items:d(i)})},clear:function(){for(;e.length!==0;)e.remove(0);s.setValue(t,{value:null,items:[]})},insert:function(i){var a=i.detail.insert,r=a.index,c=a.displayValue,l=a.exportValue,n=document.createElement("option");n.textContent=c,n.value=l,e.insertBefore(n,e.children[r]),s.setValue(t,{value:o(i,!0),items:d(i)})},items:function(a){for(m=a.detail.items;e.length!==0;)e.remove(0);i=n(m);try{for(i.s();!(c=i.n()).done;){var m,i,c,u=l.displayValue,h=l.exportValue,l=c.value,r=document.createElement("option");r.textContent=u,r.value=h,e.appendChild(r)}}catch(e){i.e(e)}finally{i.f()}e.options.length>0&&(e.options[0].selected=!0),s.setValue(t,{value:o(a,!0),items:d(a)})},indices:function(i){var c=new Set(i.detail.indices),a,r,e=n(i.target.options);try{for(e.s();!(a=e.n()).done;)r=a.value,r.selected=c.has(r.index)}catch(t){e.e(t)}finally{e.f()}s.setValue(t,{value:o(i,!0)})},editable:function(e){e.target.disabled=!e.detail.editable}};a._dispatchEventFromSandbox(r,i)}),e.addEventListener("input",function(n){var e,i=o(n,!0),r=o(n,!1);s.setValue(t,{value:i}),(e=a.linkService.eventBus)===null||e===void 0?void 0:e.dispatch("dispatcheventinsandbox",{source:a,detail:{id:t,name:"Keystroke",value:r,changeEx:i,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(e,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(e){return e.target.checked})):e.addEventListener("input",function(e){s.setValue(t,{value:o(e)})}),this._setBackgroundColor(e),this.container.appendChild(e),this.container}}]),e}(d),x=function(a){i(n,a);var r=o(n);function n(e){t(this,n);var s,o,i,a=!!((s=e.data.titleObj)!==null&&s!==void 0&&s.str||(o=e.data.contentsObj)!==null&&o!==void 0&&o.str||(i=e.data.richText)!==null&&i!==void 0&&i.str);return r.call(this,e,{isRenderable:a})}return s(n,[{key:"render",value:function(){var r=["Line","Square","Circle","PolyLine","Polygon","Ink"],c,i,a,t,n,s,o;return this.container.className="popupAnnotation",r.includes(this.data.parentType)?this.container:(c='[data-annotation-id="'.concat(this.data.parentId,'"]'),i=this.layer.querySelectorAll(c),i.length===0)?this.container:(a=new k({container:this.container,trigger:Array.from(i),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),t=this.page,n=e.Util.normalizeRect([this.data.parentRect[0],t.view[3]-this.data.parentRect[1]+t.view[1],this.data.parentRect[2],t.view[3]-this.data.parentRect[3]+t.view[1]]),s=n[0]+this.data.parentRect[2]-this.data.parentRect[0],o=n[1],this.container.style.transformOrigin="".concat(-s,"px ").concat(-o,"px"),this.container.style.left="".concat(s,"px"),this.container.style.top="".concat(o,"px"),this.container.appendChild(a.render()),this.container)}}]),n}(a),k=function(){function o(e){t(this,o),this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return s(o,[{key:"render",value:function(){var r,c,d=.7,t,s,v,f,g,u,h,o,p,i,m,l,a=document.createElement("div");a.className="popupWrapper",this.hideElement=this.hideWrapper?a:this.container,this.hideElement.hidden=!0,t=document.createElement("div"),t.className="popup",s=this.color,s&&(v=d*(255-s[0])+s[0],f=d*(255-s[1])+s[1],g=d*(255-s[2])+s[2],t.style.backgroundColor=e.Util.makeHexColor(v|0,f|0,g|0)),u=document.createElement("h1"),u.dir=this.titleObj.dir,u.textContent=this.titleObj.str,t.appendChild(u),h=b.PDFDateString.toDateObject(this.modificationDate),h&&(o=document.createElement("span"),o.className="popupDate",o.textContent="{{date}}, {{time}}",o.dataset.l10nId="annotation_date_string",o.dataset.l10nArgs=JSON.stringify({date:h.toLocaleDateString(),time:h.toLocaleTimeString()}),t.appendChild(o)),(r=this.richText)!==null&&r!==void 0&&r.str&&(!((c=this.contentsObj)!==null&&c!==void 0&&c.str)||this.contentsObj.str===this.richText.str)?(q.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:t}),t.lastChild.className="richText popupContent"):(p=this._formatContents(this.contentsObj),t.appendChild(p)),Array.isArray(this.trigger)||(this.trigger=[this.trigger]),i=n(this.trigger);try{for(i.s();!(m=i.n()).done;)l=m.value,l.addEventListener("click",this._toggle.bind(this)),l.addEventListener("mouseover",this._show.bind(this,!1)),l.addEventListener("mouseout",this._hide.bind(this,!1))}catch(e){i.e(e)}finally{i.f()}return t.addEventListener("click",this._hide.bind(this,!0)),a.appendChild(t),a}},{key:"_formatContents",value:function(n){var i=n.str,a=n.dir,s,t,o,r,e=document.createElement("p");e.className="popupContent",e.dir=a,s=i.split(/(?:\r\n?|\n)/);for(t=0,o=s.length;t<o;++t)r=s[t],e.appendChild(document.createTextNode(r)),t<o-1&&e.appendChild(document.createElement("br"));return e}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0];e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),o}(),G=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0})}return s(e,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),e}(a),X=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0})}return s(e,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,s=e.rect[2]-e.rect[0],o=e.rect[3]-e.rect[1],n=this.svgFactory.create(s,o),t=this.svgFactory.createElement("svg:line");return t.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),t.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),t.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),t.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),t.setAttribute("stroke-width",e.borderStyle.width||1),t.setAttribute("stroke","transparent"),t.setAttribute("fill","transparent"),n.appendChild(t),this.container.append(n),this._createPopup(t,e),this.container}}]),e}(a),Q=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0})}return s(e,[{key:"render",value:function(){this.container.className="squareAnnotation";var t=this.data,s=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1],i=this.svgFactory.create(s,o),n=t.borderStyle.width,e=this.svgFactory.createElement("svg:rect");return e.setAttribute("x",n/2),e.setAttribute("y",n/2),e.setAttribute("width",s-n),e.setAttribute("height",o-n),e.setAttribute("stroke-width",n||1),e.setAttribute("stroke","transparent"),e.setAttribute("fill","transparent"),i.appendChild(e),this.container.append(i),this._createPopup(e,t),this.container}}]),e}(a),Z=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0})}return s(e,[{key:"render",value:function(){this.container.className="circleAnnotation";var t=this.data,n=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1],i=this.svgFactory.create(n,s),o=t.borderStyle.width,e=this.svgFactory.createElement("svg:ellipse");return e.setAttribute("cx",n/2),e.setAttribute("cy",s/2),e.setAttribute("rx",n/2-o/2),e.setAttribute("ry",s/2-o/2),e.setAttribute("stroke-width",o||1),e.setAttribute("stroke","transparent"),e.setAttribute("fill","transparent"),i.appendChild(e),this.container.append(i),this._createPopup(e,t),this.container}}]),e}(a),_=function(a){i(e,a);var r=o(e);function e(n){t(this,e);var o,i,a,c=!!(n.data.hasPopup||(o=n.data.titleObj)!==null&&o!==void 0&&o.str||(i=n.data.contentsObj)!==null&&i!==void 0&&i.str||(a=n.data.richText)!==null&&a!==void 0&&a.str),s=r.call(this,n,{isRenderable:c,ignoreBorder:!0});return s.containerClassName="polylineAnnotation",s.svgElementName="svg:polyline",s}return s(e,[{key:"render",value:function(){this.container.className=this.containerClassName;var e=this.data,r,i,d,u,t,l=e.rect[2]-e.rect[0],c=e.rect[3]-e.rect[1],a=this.svgFactory.create(l,c),o=[],s=n(e.vertices);try{for(s.s();!(r=s.n()).done;)i=r.value,d=i.x-e.rect[0],u=e.rect[3]-i.y,o.push(d+","+u)}catch(e){s.e(e)}finally{s.f()}return o=o.join(" "),t=this.svgFactory.createElement(this.svgElementName),t.setAttribute("points",o),t.setAttribute("stroke-width",e.borderStyle.width||1),t.setAttribute("stroke","transparent"),t.setAttribute("fill","transparent"),a.appendChild(t),this.container.append(a),this._createPopup(t,e),this.container}}]),e}(a),ee=function(n){i(e,n);var s=o(e);function e(o){var n;return t(this,e),n=s.call(this,o),n.containerClassName="polygonAnnotation",n.svgElementName="svg:polygon",n}return e}(_),et=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0})}return s(e,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),e}(a),Y=function(a){i(e,a);var r=o(e);function e(n){t(this,e);var o,i,a,c=!!(n.data.hasPopup||(o=n.data.titleObj)!==null&&o!==void 0&&o.str||(i=n.data.contentsObj)!==null&&i!==void 0&&i.str||(a=n.data.richText)!==null&&a!==void 0&&a.str),s=r.call(this,n,{isRenderable:c,ignoreBorder:!0});return s.containerClassName="inkAnnotation",s.svgElementName="svg:polyline",s}return s(e,[{key:"render",value:function(){this.container.className=this.containerClassName;var e=this.data,c,d,o,s,a,l,m,f,t,h=e.rect[2]-e.rect[0],u=e.rect[3]-e.rect[1],r=this.svgFactory.create(h,u),i=n(e.inkLists);try{for(i.s();!(c=i.n()).done;){d=c.value,o=[],s=n(d);try{for(s.s();!(a=s.n()).done;)l=a.value,m=l.x-e.rect[0],f=e.rect[3]-l.y,o.push("".concat(m,",").concat(f))}catch(e){s.e(e)}finally{s.f()}o=o.join(" "),t=this.svgFactory.createElement(this.svgElementName),t.setAttribute("points",o),t.setAttribute("stroke-width",e.borderStyle.width||1),t.setAttribute("stroke","transparent"),t.setAttribute("fill","transparent"),this._createPopup(t,e),r.appendChild(t)}}catch(e){i.e(e)}finally{i.f()}return this.container.append(r),this.container}}]),e}(a),es=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return s(e,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),e}(a),eo=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return s(e,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),e}(a),ei=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return s(e,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),e}(a),ea=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return s(e,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),e}(a),er=function(n){i(e,n);var a=o(e);function e(n){t(this,e);var s,o,i,r=!!(n.data.hasPopup||(s=n.data.titleObj)!==null&&s!==void 0&&s.str||(o=n.data.contentsObj)!==null&&o!==void 0&&o.str||(i=n.data.richText)!==null&&i!==void 0&&i.str);return a.call(this,n,{isRenderable:r,ignoreBorder:!0})}return s(e,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),e}(a),ec=function(a){i(n,a);var r=o(n);function n(l){t(this,n);var o,a=s.data.file,i=a.filename,c=a.content,s=r.call(this,l,{isRenderable:!0});return s.filename=(0,b.getFilenameFromUrl)(i),s.content=c,(o=s.linkService.eventBus)===null||o===void 0?void 0:o.dispatch("fileattachmentannotation",{source:w(s),id:(0,e.stringToPDFString)(i),filename:i,content:c}),s}return s(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var t,n,e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((t=this.data.titleObj)!==null&&t!==void 0&&t.str||(n=this.data.contentsObj)!==null&&n!==void 0&&n.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){var e;(e=this.downloadManager)===null||e===void 0?void 0:e.openOrDownloadData(this.container,this.content,this.filename)}}]),n}(a),D=function(){function o(){t(this,o)}return s(o,null,[{key:"render",value:function(t){var r=[],h=[],m,a,i,d,f,p,u,s,l,g,v,c=n(t.annotations);try{for(c.s();!(m=c.n()).done;){if(a=m.value,!a)continue;if(a.annotationType===e.AnnotationType.POPUP){h.push(a);continue}r.push(a)}}catch(e){c.e(e)}finally{c.f()}h.length&&r.push.apply(r,h),i=t.div;for(d=0,f=r;d<f.length;d++)if(p=f[d],u=R.create({data:p,layer:i,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new b.DOMSVGFactory,annotationStorage:t.annotationStorage||new en.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}}),u.isRenderable)if(s=u.render(),p.hidden&&(s.style.visibility="hidden"),Array.isArray(s)){l=n(s);try{for(l.s();!(g=l.n()).done;)v=g.value,i.appendChild(v)}catch(e){l.e(e)}finally{l.f()}}else u instanceof x?i.prepend(s):i.appendChild(s);C(this,o,y).call(this,i,t.annotationCanvasMap)}},{key:"update",value:function(s){var d=s.page,E=s.viewport,x=s.annotations,O=s.annotationCanvasMap,u=s.div,h,m,g,t,v,a,j,i,p,f,r,b,_,l=E.transform,w="matrix(".concat(l.join(","),")"),c=n(x);try{for(c.s();!(g=c.n()).done;)if(t=g.value,v=u.querySelectorAll('[data-annotation-id="'.concat(t.id,'"]')),v){a=n(v);try{for(a.s();!(j=a.n()).done;)if(i=j.value,t.hasOwnCanvas){if(p=e.Util.normalizeRect([t.rect[0],d.view[3]-t.rect[1]+d.view[1],t.rect[2],d.view[3]-t.rect[3]+d.view[1]]),!m){h=Math.abs(l[0]||l[1]),f=l.slice();for(r=0;r<4;r++)f[r]=Math.sign(f[r]);m="matrix(".concat(f.join(","),")")}b=p[0]*h,_=p[1]*h,i.style.left="".concat(b,"px"),i.style.top="".concat(_,"px"),i.style.transformOrigin="".concat(-b,"px ").concat(-_,"px"),i.style.transform=m}else i.style.transform=w}catch(e){a.e(e)}finally{a.f()}}}catch(e){c.e(e)}finally{c.f()}C(this,o,y).call(this,u,O),u.hidden=!1}}]),o}(),g.AnnotationLayer=D;function y(l,s){if(!s)return;t=n(s);try{for(t.s();!(a=t.n()).done;){var t,a,r=u(a.value,2),c=r[0],i=r[1],o,e=l.querySelector('[data-annotation-id="'.concat(c,'"]'));if(!e)continue;o=e.firstChild,o.nodeName==="CANVAS"?e.replaceChild(i,o):e.insertBefore(i,o)}}catch(e){t.e(e)}finally{t.f()}s.clear()}},(h,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function e(e,t){return r(e)||a(e,t)||l(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,n){if(!e)return;if(typeof e=="string")return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}function s(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function a(t,o){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"],n,s,i,a,r;if(e==null)return;n=[],s=!0,i=!1;try{for(e=e.call(t);!(s=(a=e.next()).done);s=!0)if(n.push(a.value),o&&n.length===o)break}catch(e){i=!0,r=e}finally{try{!s&&e.return!=null&&e.return()}finally{if(i)throw r}}return n}function r(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function d(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function t(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}var i=function(){function n(){c(this,n)}return d(n,null,[{key:"CMYK_G",value:function(s){var t=e(s,4),o=t[0],i=t[1],a=t[2],n=t[3];return["G",1-Math.min(1,.3*o+.59*a+.11*i+n)]}},{key:"G_CMYK",value:function(t){var n=e(t,1),s=n[0];return["CMYK",0,0,0,1-s]}},{key:"G_RGB",value:function(n){var s=e(n,1),t=s[0];return["RGB",t,t,t]}},{key:"G_HTML",value:function(s){var o=e(s,1),i=o[0],n=t(i);return"#".concat(n).concat(n).concat(n)}},{key:"RGB_G",value:function(n){var t=e(n,3),s=t[0],o=t[1],i=t[2];return["G",.3*s+.59*o+.11*i]}},{key:"RGB_HTML",value:function(o){var n=e(o,3),i=n[0],a=n[1],r=n[2],s=t(i),c=t(a),l=t(r);return"#".concat(s).concat(c).concat(l)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(s){var t=e(s,4),o=t[0],i=t[1],a=t[2],n=t[3];return["RGB",1-Math.min(1,o+n),1-Math.min(1,a+n),1-Math.min(1,i+n)]}},{key:"CMYK_HTML",value:function(e){return this.RGB_HTML(this.CMYK_RGB(e))}},{key:"RGB_CMYK",value:function(c){var t=e(c,3),i=t[0],a=t[1],r=t[2],n=1-i,s=1-a,o=1-r,l=Math.min(n,s,o);return["CMYK",n,s,o,l]}}]),n}();n.ColorConverters=i},(p,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var m=n(4),r,u=n(147);function i(e,t){return c(e)||l(e,t)||a(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,o){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"],n,s,i,a,r;if(e==null)return;n=[],s=!0,i=!1;try{for(e=e.call(t);!(s=(a=e.next()).done);s=!0)if(n.push(a.value),o&&n.length===o)break}catch(e){i=!0,r=e}finally{try{!s&&e.return!=null&&e.return()}finally{if(i)throw r}}return n}function c(e){if(Array.isArray(e))return e}function t(e,c){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=a(e))||c&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,r=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){r=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(r)throw n}}}}function a(e,n){if(!e)return;if(typeof e=="string")return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}function o(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function f(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}r=function(){function e(){h(this,e)}return f(e,null,[{key:"setupStorage",value:function(n,o,s,i,r){var e=i.getValue(o,{value:null}),a,c,l;switch(s.name){case"textarea":if(e.value!==null&&(n.textContent=e.value),r==="print")break;n.addEventListener("input",function(e){i.setValue(o,{value:e.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(e.value===s.attributes.xfaOn?n.setAttribute("checked",!0):e.value===s.attributes.xfaOff&&n.removeAttribute("checked"),r==="print")break;n.addEventListener("change",function(e){i.setValue(o,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(e.value!==null&&n.setAttribute("value",e.value),r==="print")break;n.addEventListener("input",function(e){i.setValue(o,{value:e.target.value})})}break;case"select":if(e.value!==null){a=t(s.children);try{for(a.s();!(c=a.n()).done;)l=c.value,l.attributes.value===e.value&&(l.attributes.selected=!0)}catch(e){a.e(e)}finally{a.f()}}n.addEventListener("input",function(t){var e=t.target.options,n=e.selectedIndex===-1?"":e[e.selectedIndex].value;i.setValue(o,{value:n})});break}}},{key:"setAttributes",value:function(o){var n=o.html,l=o.element,p=o.storage,u=p===void 0?null:p,g=o.intent,r=o.linkService,a,h,c,e=l.attributes,d=n instanceof HTMLAnchorElement;e.type==="radio"&&(e.name="".concat(e.name,"-").concat(g));for(a=0,h=Object.entries(e);a<h.length;a++){var f=i(h[a],2),t=f[0],s=f[1];if(s===null||s===void 0||t==="dataId")continue;if(t!=="style")if(t==="textContent")n.textContent=s;else if(t==="class")s.length&&n.setAttribute(t,s.join(" "));else{if(d&&(t==="href"||t==="newWindow"))continue;n.setAttribute(t,s)}else Object.assign(n.style,s)}d&&(r.addLinkAttributes||(0,m.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),(c=r.addLinkAttributes)===null||c===void 0?void 0:c.call(r,n,e.href,e.newWindow)),u&&e.dataId&&this.setupStorage(n,e.dataId,l,u)}},{key:"render",value:function(s){for(C=s.annotationStorage,j=s.linkService,r=s.xfaHtml,h=s.intent||"display",d=document.createElement(r.name),r.attributes&&this.setAttributes({html:d,element:r,intent:h,linkService:j}),n=[[r,-1,d]],c=s.div,c.appendChild(d),s.viewport&&(x="matrix(".concat(s.viewport.transform.join(","),")"),c.style.transform=x),h!=="richText"&&c.setAttribute("class","xfaLayer xfaFont"),m=[];n.length>0;){var C,j,r,h,d,n,c,x,m,f,p=i(n[n.length-1],3),g=p[0],O=p[1],b=p[2],e,a,_,o,v,l,y,w;if(O+1===g.children.length){n.pop();continue}if(e=g.children[++n[n.length-1][1]],e===null)continue;if(a=e.name,a==="#text"){_=document.createTextNode(e.value),m.push(_),b.appendChild(_);continue}o=void 0,e!==null&&e!==void 0&&(f=e.attributes)!==null&&f!==void 0&&f.xmlns?o=document.createElementNS(e.attributes.xmlns,a):o=document.createElement(a),b.appendChild(o),e.attributes&&this.setAttributes({html:o,element:e,storage:C,intent:h,linkService:j}),e.children&&e.children.length>0?n.push([e,-1,o]):e.value&&(v=document.createTextNode(e.value),u.XfaText.shouldBuildText(a)&&m.push(v),o.appendChild(v))}l=t(c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(l.s();!(y=l.n()).done;)w=y.value,w.setAttribute("readOnly",!0)}catch(e){l.e(e)}finally{l.f()}return{textDivs:m}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}]),e}(),e.XfaLayer=r},(O,r,_)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.renderTextLayer=u;var t=_(4),h,e,d,n,f,w;function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function v(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=m(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function m(e,n){if(!e)return;if(typeof e=="string")return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}function l(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}h=1e5,e=30,d=.8,n=new Map,f=/^\s+$/g;function p(o,t){if(u=n.get(o),u)return u;if(t.save(),t.font="".concat(e,"px ").concat(o),h=t.measureText(""),s=h.fontBoundingBoxAscent,c=Math.abs(h.fontBoundingBoxDescent),s)return t.restore(),l=s/(s+c),n.set(o,l),l;t.strokeStyle="red",t.clearRect(0,0,e,e),t.strokeText("g",0,0),i=t.getImageData(0,0,e,e).data,c=0;for(a=i.length-1-3;a>=0;a-=4)if(i[a]>0){c=Math.ceil(a/4/e);break}t.clearRect(0,0,e,e),t.strokeText("A",0,e),i=t.getImageData(0,0,e,e).data,s=0;for(var u,h,s,c,l,i,a,r=0,f=i.length,m;r<f;r+=4)if(i[r]>0){s=e-Math.floor(r/4/e);break}return t.restore(),s?(m=s/(s+c),n.set(o,m),m):(n.set(o,d),d)}function g(n,e,x,O){if(s=document.createElement("span"),d=n._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL},n._textDivs.push(s),i=t.Util.transform(n._viewport.transform,e.transform),o=Math.atan2(i[1],i[0]),l=x[e.fontName],l.vertical&&(o+=Math.PI/2),v=Math.hypot(i[2],i[3]),u=v*p(l.fontFamily,O),o===0?(r=i[4],a=i[5]-u):(r=i[4]+u*Math.sin(o),a=i[5]-u*Math.cos(o)),s.style.left="".concat(r,"px"),s.style.top="".concat(a,"px"),s.style.fontSize="".concat(v,"px"),s.style.fontFamily=l.fontFamily,s.setAttribute("role","presentation"),s.textContent=e.str,s.dir=e.dir,n._fontInspectorEnabled&&(s.dataset.fontName=e.fontName),o!==0&&(d.angle=o*(180/Math.PI)),g=!1,e.str.length>1||n._enhanceTextSelection&&f.test(e.str))g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){var s,d,i,o,l,v,u,r,a,g,w=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]),j,h,m,y,_,c;w!==b&&Math.max(w,b)/Math.min(w,b)>1.5&&(g=!0)}g&&(l.vertical?d.canvasWidth=e.height*n._viewport.scale:d.canvasWidth=e.width*n._viewport.scale),n._textDivProperties.set(s,d),n._textContentStream&&n._layoutText(s),n._enhanceTextSelection&&d.hasText&&(j=1,h=0,o!==0&&(j=Math.cos(o),h=Math.sin(o)),m=(l.vertical?e.height:e.width)*n._viewport.scale,y=v,o!==0?(_=[j,h,-h,j,r,a],c=t.Util.getAxialAlignedBoundingBox([0,0,m,y],_)):c=[r,a,r+m,a+y],n._bounds.push({left:c[0],top:c[1],right:c[2],bottom:c[3],div:s,size:[m,y],m:_}))}function a(e){if(e._canceled)return;var n=e._textDivs,t,s=e._capability,o=n.length;if(o>h){e._renderingDone=!0,s.resolve();return}if(!e._textContentStream)for(t=0;t<o;t++)e._layoutText(n[t]);e._renderingDone=!0,s.resolve()}function s(s,o,i){for(var e=0,t,n=0;n<i;n++)t=s[o++],t>0&&(e=e?Math.min(t,e):t);return e}function j(h){d=h._bounds,b=h._viewport,u=y(b.width,b.height,d);for(c=0;c<u.length;c++){if(p=d[c].div,l=h._textDivProperties.get(p),l.angle===0){l.paddingLeft=d[c].left-u[c].left,l.paddingTop=d[c].top-u[c].top,l.paddingRight=u[c].right-d[c].right,l.paddingBottom=u[c].bottom-d[c].bottom,h._textDivProperties.set(p,l);continue}for(var d,b,u,c,p,l,g=m.m,o=g[0],i=g[1],r,f,a=u[c],m=d[c],v=[[0,0],[0,m.size[1]],[m.size[0],0],m.size],e=new Float64Array(64),n=0,j=v.length;n<j;n++)r=t.Util.applyTransform(v[n],g),e[n+0]=o&&(a.left-r[0])/o,e[n+4]=i&&(a.top-r[1])/i,e[n+8]=o&&(a.right-r[0])/o,e[n+12]=i&&(a.bottom-r[1])/i,e[n+16]=i&&(a.left-r[0])/-i,e[n+20]=o&&(a.top-r[1])/o,e[n+24]=i&&(a.right-r[0])/-i,e[n+28]=o&&(a.bottom-r[1])/o,e[n+32]=o&&(a.left-r[0])/-o,e[n+36]=i&&(a.top-r[1])/-i,e[n+40]=o&&(a.right-r[0])/-o,e[n+44]=i&&(a.bottom-r[1])/-i,e[n+48]=i&&(a.left-r[0])/i,e[n+52]=o&&(a.top-r[1])/-o,e[n+56]=i&&(a.right-r[0])/i,e[n+60]=o&&(a.bottom-r[1])/-o;f=1+Math.min(Math.abs(o),Math.abs(i)),l.paddingLeft=s(e,32,16)/f,l.paddingTop=s(e,48,16)/f,l.paddingRight=s(e,0,16)/f,l.paddingBottom=s(e,16,16)/f,h._textDivProperties.set(p,l)}}function y(r,f,a){var e=a.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}),t,s,d,l,m,n,u,i,h;c(r,e),t=new Array(a.length),s=o(e);try{for(s.s();!(d=s.n()).done;)l=d.value,m=l.index,t[m]={left:l.x1New,top:0,right:l.x2New,bottom:0}}catch(e){s.e(e)}finally{s.f()}a.map(function(o,s){var i=t[s],n=e[s];n.x1=o.top,n.y1=r-i.right,n.x2=o.bottom,n.y2=r-i.left,n.index=s,n.x1New=void 0,n.x2New=void 0}),c(f,e),n=o(e);try{for(n.s();!(u=n.n()).done;)i=u.value,h=i.index,t[h].top=i.x1New,t[h].bottom=i.x2New}catch(e){n.e(e)}finally{n.f()}return t}function c(O,j){j.sort(function(e,t){return e.x1-t.x1||e.index-t.index}),_={x1:-(1/0),y1:-(1/0),x2:0,y2:1/0,index:-1,x1New:0,x2New:0},t=[{start:-(1/0),end:1/0,boundary:_}],m=o(j);try{for(m.s();!(b=m.n()).done;){for(n=b.value,a=0;a<t.length&&t[a].end<=n.y1;)a++;for(r=t.length-1;r>=0&&t[r].start>=n.y2;)r--;var _,t,m,b,n,a,r,s=void 0,i=void 0,u=-(1/0),h,l,v,f,d,p,y,w,g,c=void 0,e=void 0;for(s=a;s<=r;s++)c=t[s],e=c.boundary,h=void 0,e.x2>n.x1?h=e.index>n.index?e.x1New:n.x1:e.x2New===void 0?h=(e.x2+n.x1)/2:h=e.x2New,h>u&&(u=h);n.x1New=u;for(s=a;s<=r;s++)c=t[s],e=c.boundary,e.x2New===void 0?e.x2>n.x1?e.index>n.index&&(e.x2New=e.x2):e.x2New=u:e.x2New>u&&(e.x2New=Math.max(u,e.x2));l=[],v=null;for(s=a;s<=r;s++)c=t[s],e=c.boundary,f=e.x2>n.x2?e:n,v===f?l[l.length-1].end=c.end:(l.push({start:c.start,end:c.end,boundary:f}),v=f);t[a].start<n.y1&&(l[0].start=n.y1,l.unshift({start:t[a].start,end:n.y1,boundary:t[a].boundary})),n.y2<t[r].end&&(l[l.length-1].end=n.y2,l.push({start:n.y2,end:t[r].end,boundary:t[r].boundary}));for(s=a;s<=r;s++){if(c=t[s],e=c.boundary,e.x2New!==void 0)continue;d=!1;for(i=a-1;!d&&i>=0&&t[i].start>=e.y1;i--)d=t[i].boundary===e;for(i=r+1;!d&&i<t.length&&t[i].end<=e.y2;i++)d=t[i].boundary===e;for(i=0;!d&&i<l.length;i++)d=l[i].boundary===e;d||(e.x2New=u)}Array.prototype.splice.apply(t,[a,r-a+1].concat(l))}}catch(e){m.e(e)}finally{m.f()}for(p=0,y=t;p<y.length;p++)w=y[p],g=w.boundary,g.x2New===void 0&&(g.x2New=Math.max(O,g.x2))}w=function(){function n(e){var o,a=e.textContent,r=e.textContentStream,i=e.container,c=e.viewport,l=e.textDivs,d=e.textContentItemsStr,u=e.enhanceTextSelection,s=this;b(this,n),this._textContent=a,this._textContentStream=r,this._container=i,this._document=i.ownerDocument,this._viewport=c,this._textDivs=l||[],this._textContentItemsStr=d||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!!((o=globalThis.FontInspector)!==null&&o!==void 0&&o.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,t.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){s._enhanceTextSelection||(s._textDivProperties=null),s._layoutTextCtx&&(s._layoutTextCtx.canvas.width=0,s._layoutTextCtx.canvas.height=0,s._layoutTextCtx=null)}).catch(function(){})}return v(n,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new t.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(t,n){for(var e=0,s=t.length,o;e<s;e++){if(t[e].str===void 0){t[e].type==="beginMarkedContentProps"||t[e].type==="beginMarkedContent"?(o=this._container,this._container=document.createElement("span"),this._container.classList.add("markedContent"),t[e].id!==null&&this._container.setAttribute("id","".concat(t[e].id)),o.appendChild(this._container)):t[e].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(t[e].str),g(this,t[e],n,this._layoutTextCtx)}}},{key:"_layoutText",value:function(n){if(e=this._textDivProperties.get(n),t="",e.canvasWidth!==0&&e.hasText){var e,t,i=n.style,o=i.fontSize,s=i.fontFamily,l,a,r,c;(o!==this._layoutTextLastFontSize||s!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(o," ").concat(s),this._layoutTextLastFontSize=o,this._layoutTextLastFontFamily=s),l=this._layoutTextCtx.measureText(n.textContent),a=l.width,a>0&&(r=e.canvasWidth/a,this._enhanceTextSelection&&(e.scale=r),t="scaleX(".concat(r,")"))}e.angle!==0&&(t="rotate(".concat(e.angle,"deg) ").concat(t)),t.length>0&&(this._enhanceTextSelection&&(e.originalTransform=t),n.style.transform=t),e.hasText&&this._container.appendChild(n),e.hasEOL&&(c=document.createElement("br"),c.setAttribute("role","presentation"),this._container.appendChild(c))}},{key:"_render",value:function(){var n=this,c,l,d,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=(0,t.createPromiseCapability)(),i=Object.create(null),o=this._document.createElement("canvas");if(o.height=o.width=e,o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent)c=this._textContent.items,l=this._textContent.styles,this._processItems(c,l),s.resolve();else if(this._textContentStream)d=function e(){n._reader.read().then(function(t){var o=t.value,a=t.done;if(a){s.resolve();return}Object.assign(i,o.styles),n._processItems(o.items,i),e()},s.reject)},this._reader=this._textContentStream.getReader(),d();else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');s.promise.then(function(){i=null,r?n._renderTimer=setTimeout(function(){a(n),n._renderTimer=null},r):a(n)},this._capability.reject)}},{key:"expandTextDivs",value:function(){if(a=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0],!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(j(this),this._bounds=null);for(var a,n=[],t=[],s,e,o=0,i=this._textDivs.length;o<i;o++){if(s=this._textDivs[o],e=this._textDivProperties.get(s),!e.hasText)continue;a?(n.length=0,t.length=0,e.originalTransform&&n.push(e.originalTransform),e.paddingTop>0?(t.push("".concat(e.paddingTop,"px")),n.push("translateY(".concat(-e.paddingTop,"px)"))):t.push(0),e.paddingRight>0?t.push("".concat(e.paddingRight/e.scale,"px")):t.push(0),e.paddingBottom>0?t.push("".concat(e.paddingBottom,"px")):t.push(0),e.paddingLeft>0?(t.push("".concat(e.paddingLeft/e.scale,"px")),n.push("translateX(".concat(-e.paddingLeft/e.scale,"px)"))):t.push(0),s.style.padding=t.join(" "),n.length&&(s.style.transform=n.join(" "))):(s.style.padding=null,s.style.transform=e.originalTransform)}}}]),n}();function u(e){var t=new w({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}},(D,i,r)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var e=r(4),p,w,t,o,s,E,k,A,S,M,F,T,z,g,C=r(1),x=r(6);function c(e){return y(e)||_(e)||l(e)||O()}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y(e){if(Array.isArray(e))return u(e)}function a(e,t){return v(e)||b(e,t)||l(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(t,o){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"],n,s,i,a,r;if(e==null)return;n=[],s=!0,i=!1;try{for(e=e.call(t);!(s=(a=e.next()).done);s=!0)if(n.push(a.value),o&&n.length===o)break}catch(e){i=!0,r=e}finally{try{!s&&e.return!=null&&e.return()}finally{if(i)throw r}}return n}function v(e){if(Array.isArray(e))return e}function n(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=l(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function l(e,n){if(!e)return;if(typeof e=="string")return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}function u(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function m(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}p=function t(){d(this,t),(0,e.unreachable)("Not implemented: SVGGraphics")},i.SVGGraphics=p,w=function(a){var e=[],i,s,o=[],t=n(a);try{for(t.s();!(i=t.n()).done;){if(s=i.value,s.fn==="save"){e.push({fnId:92,fn:"group",items:[]}),o.push(e),e=e[e.length-1].items;continue}s.fn==="restore"?e=o.pop():e.push(s)}}catch(e){t.e(e)}finally{t.f()}return e},t=function(n){if(Number.isInteger(n))return n.toString();var e=n.toFixed(10),t=e.length-1;if(e[t]!=="0")return e;do t--;while(e[t]==="0")return e.substring(0,e[t]==="."?t:t+1)},o=function(e){if(e[4]===0&&e[5]===0){{if(e[1]===0&&e[2]===0)return e[0]===1&&e[3]===1?"":"scale(".concat(t(e[0])," ").concat(t(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var n=Math.acos(e[0])*180/Math.PI;return"rotate(".concat(t(n),")")}}}else if(e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1)return"translate(".concat(t(e[4])," ").concat(t(e[5]),")");return"matrix(".concat(t(e[0])," ").concat(t(e[1])," ").concat(t(e[2])," ").concat(t(e[3])," ").concat(t(e[4])," ")+"".concat(t(e[5]),")")},s={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},E="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/1999/xlink",A=["butt","round","square"],S=["miter","round","bevel"],M=function(){for(var s=new Uint8Array([137,80,78,71,13,10,26,10]),t,r,o=12,a=new Int32Array(256),n=0;n<256;n++){t=n;for(r=0;r<8;r++)t&1?t=3988292384^t>>1&2147483647:t=t>>1&2147483647;a[n]=t}function l(n,s,o){for(var e=-1,i,r,t=s;t<o;t++)i=(e^n[t])&255,r=a[i],e=e>>>8^r;return e^-1}function i(n,i,t,a){var e=a,o,s=i.length;t[e]=s>>24&255,t[e+1]=s>>16&255,t[e+2]=s>>8&255,t[e+3]=s&255,e+=4,t[e]=n.charCodeAt(0)&255,t[e+1]=n.charCodeAt(1)&255,t[e+2]=n.charCodeAt(2)&255,t[e+3]=n.charCodeAt(3)&255,e+=4,t.set(i,e),e+=i.length,o=l(t,a+4,e),t[e]=o>>24&255,t[e+1]=o>>16&255,t[e+2]=o>>8&255,t[e+3]=o&255}function d(s,o,i){for(var e=1,t=0,n=o;n<i;++n)e=(e+(s[n]&255))%65521,t=(t+e)%65521;return t<<16|e}function u(t){if(!x.isNodeJS)return c(t);try{parseInt(process.versions.node)>=8?n=t:n=Buffer.from(t);var n,s=f().deflateSync(n,{level:9});return s instanceof Uint8Array?s:new Uint8Array(s)}catch(t){(0,e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return c(t)}function c(s){var n=s.length,i,a,o=65535,r=Math.ceil(n/o),t=new Uint8Array(2+n+r*5+4),e=0;for(t[e++]=120,t[e++]=156,i=0;n>o;)t[e++]=0,t[e++]=255,t[e++]=255,t[e++]=0,t[e++]=0,t.set(s.subarray(i,i+o),e),e+=o,i+=o,n-=o;return t[e++]=1,t[e++]=n&255,t[e++]=n>>8&255,t[e++]=~n&65535&255,t[e++]=(~n&65535)>>8&255,t.set(s.subarray(i),e),e+=s.length-i,a=d(s,0,s.length),t[e++]=a>>24&255,t[e++]=a>>16&255,t[e++]=a>>8&255,t[e++]=a&255,t}function h(v,y,x,O){switch(a=v.width,r=v.height,w=v.data,y){case e.ImageKind.GRAYSCALE_1BPP:h=0,d=1,t=a+7>>3;break;case e.ImageKind.RGB_24BPP:h=2,d=8,t=a*3;break;case e.ImageKind.RGBA_32BPP:h=6,d=8,t=a*4;break;default:throw new Error("invalid format")}for(var a,r,d,h,t,w,c=0,g=0,_,b,f,p,C,l,n,m=new Uint8Array((1+t)*r),j=0;j<r;++j)m[c++]=0,m.set(w.subarray(g,g+t),c),g+=t,c+=t;if(y===e.ImageKind.GRAYSCALE_1BPP&&O){c=0;for(_=0;_<r;_++){c++;for(b=0;b<t;b++)m[c++]^=255}}return f=new Uint8Array([a>>24&255,a>>16&255,a>>8&255,a&255,r>>24&255,r>>16&255,r>>8&255,r&255,d,h,0,0,0]),p=u(m),C=s.length+o*3+f.length+p.length,l=new Uint8Array(C),n=0,l.set(s,n),n+=s.length,i("IHDR",f,l,n),n+=o+f.length,i("IDATA",p,l,n),n+=o+p.length,i("IEND",new Uint8Array(0),l,n),(0,e.createObjectURL)(l,"image/png",x)}return function(t,n,s){var o=t.kind===void 0?e.ImageKind.GRAYSCALE_1BPP:t.kind;return h(t,o,n,s)}}(),F=function(){function t(){d(this,t),this.fontSizeScale=1,this.fontWeight=s.fontWeight,this.fontSize=0,this.textMatrix=e.IDENTITY_MATRIX,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=e.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return h(t,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),t}(),T=0,z=0,g=0,i.SVGGraphics=p=function(){function i(n,s){var o=!!(arguments.length>2&&arguments[2]!==void 0)&&arguments[2],t;d(this,i),this.svgFactory=new C.DOMSVGFactory,this.current=new F,this.transformMatrix=e.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=s,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!o,this._operatorIdMapping=[];for(t in e.OPS)this._operatorIdMapping[e.OPS[t]]=t}return h(i,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(a){o=this,i=a.fnArray,l=a.argsArray;for(var o,i,l,s=0,c=i.length,t,r,d;s<c;s++){if(i[s]!==e.OPS.dependency)continue;t=n(l[s]);try{d=function(){var e=r.value,t=e.startsWith("g_")?o.commonObjs:o.objs,n=new Promise(function(n){t.get(e,n)});o.current.dependencies.push(n)};for(t.s();!(r=t.n()).done;)d()}catch(e){t.e(e)}finally{t.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(n,s,o,i,a,t){var r=[n,s,o,i,a,t];this.transformMatrix=e.Util.transform(this.transformMatrix,r),this.tgrp=null}},{key:"getSVG",value:function(n,s){var t=this,o;return this.viewport=s,o=this._initialize(s),this.loadDependencies(n).then(function(){return t.transformMatrix=e.IDENTITY_MATRIX,t.executeOpTree(t.convertOpList(n)),o})}},{key:"convertOpList",value:function(t){r=this._operatorIdMapping,i=t.argsArray,s=t.fnArray,o=[];for(var r,i,s,o,e=0,a=s.length,n;e<a;e++)n=s[e],o.push({fnId:n,fn:r[n],args:i[e]});return w(o)}},{key:"executeOpTree",value:function(c){var s=n(c),i,o,r,a,t;try{for(s.s();!(i=s.n()).done;)switch(o=i.value,r=o.fn,a=o.fnId,t=o.args,a|0){case e.OPS.beginText:this.beginText();break;case e.OPS.dependency:break;case e.OPS.setLeading:this.setLeading(t);break;case e.OPS.setLeadingMoveText:this.setLeadingMoveText(t[0],t[1]);break;case e.OPS.setFont:this.setFont(t);break;case e.OPS.showText:this.showText(t[0]);break;case e.OPS.showSpacedText:this.showText(t[0]);break;case e.OPS.endText:this.endText();break;case e.OPS.moveText:this.moveText(t[0],t[1]);break;case e.OPS.setCharSpacing:this.setCharSpacing(t[0]);break;case e.OPS.setWordSpacing:this.setWordSpacing(t[0]);break;case e.OPS.setHScale:this.setHScale(t[0]);break;case e.OPS.setTextMatrix:this.setTextMatrix(t[0],t[1],t[2],t[3],t[4],t[5]);break;case e.OPS.setTextRise:this.setTextRise(t[0]);break;case e.OPS.setTextRenderingMode:this.setTextRenderingMode(t[0]);break;case e.OPS.setLineWidth:this.setLineWidth(t[0]);break;case e.OPS.setLineJoin:this.setLineJoin(t[0]);break;case e.OPS.setLineCap:this.setLineCap(t[0]);break;case e.OPS.setMiterLimit:this.setMiterLimit(t[0]);break;case e.OPS.setFillRGBColor:this.setFillRGBColor(t[0],t[1],t[2]);break;case e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(t[0],t[1],t[2]);break;case e.OPS.setStrokeColorN:this.setStrokeColorN(t);break;case e.OPS.setFillColorN:this.setFillColorN(t);break;case e.OPS.shadingFill:this.shadingFill(t[0]);break;case e.OPS.setDash:this.setDash(t[0],t[1]);break;case e.OPS.setRenderingIntent:this.setRenderingIntent(t[0]);break;case e.OPS.setFlatness:this.setFlatness(t[0]);break;case e.OPS.setGState:this.setGState(t[0]);break;case e.OPS.fill:this.fill();break;case e.OPS.eoFill:this.eoFill();break;case e.OPS.stroke:this.stroke();break;case e.OPS.fillStroke:this.fillStroke();break;case e.OPS.eoFillStroke:this.eoFillStroke();break;case e.OPS.clip:this.clip("nonzero");break;case e.OPS.eoClip:this.clip("evenodd");break;case e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case e.OPS.paintImageXObject:this.paintImageXObject(t[0]);break;case e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(t[0]);break;case e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(t[0]);break;case e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(t[0],t[1]);break;case e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case e.OPS.closePath:this.closePath();break;case e.OPS.closeStroke:this.closeStroke();break;case e.OPS.closeFillStroke:this.closeFillStroke();break;case e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case e.OPS.nextLine:this.nextLine();break;case e.OPS.transform:this.transform(t[0],t[1],t[2],t[3],t[4],t[5]);break;case e.OPS.constructPath:this.constructPath(t[0],t[1]);break;case e.OPS.endPath:this.endPath();break;case 92:this.group(o.items);break;default:(0,e.warn)("Unimplemented operator ".concat(r));break}}catch(e){s.e(e)}finally{s.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(s,n,i,a,r,o){var e=this.current;e.textMatrix=e.lineMatrix=[s,n,i,a,r,o],e.textMatrixScale=Math.hypot(s,n),e.x=e.lineX=0,e.y=e.lineY=0,e.xcoords=[],e.ycoords=[],e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size","".concat(t(e.fontSize),"px")),e.tspan.setAttributeNS(null,"y",t(-e.y)),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtElement.appendChild(e.tspan)}},{key:"beginText",value:function(){var t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=e.IDENTITY_MATRIX,t.lineMatrix=e.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}},{key:"moveText",value:function(n,s){var e=this.current;e.x=e.lineX+=n,e.y=e.lineY+=s,e.xcoords=[],e.ycoords=[],e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size","".concat(t(e.fontSize),"px")),e.tspan.setAttributeNS(null,"y",t(-e.y))}},{key:"showText",value:function(z){if(i=this.current,_=i.font,w=i.fontSize,w===0)return;v=i.fontSizeScale,M=i.charSpacing,k=i.wordSpacing,m=i.fontDirection,C=i.textHScale*m,c=_.vertical,T=c?1:-1,A=_.defaultVMetrics,u=w*i.fontMatrix[0],r=0,h=n(z);try{for(h.s();!(O=h.n()).done;){if(a=O.value,a===null){r+=m*k;continue}if((0,e.isNum)(a)){r+=T*a*w/1e3;continue}x=(a.isSpace?k:0)+M,S=a.fontChar;var i,_,w,v,M,k,m,C,c,T,A,u,r,h,O,a,x,S,j=void 0,y=void 0,p,f,F,b,d,D,g,l=a.width;c?(p=void 0,f=a.vmetric||A,p=a.vmetric?f[1]:l*.5,p=-p*u,F=f[2]*u,l=f?-f[0]:l,j=p/v,y=(r+F)/v):(j=r/v,y=0),(a.isInFont||_.missingFile)&&(i.xcoords.push(i.x+j),c&&i.ycoords.push(-i.y+y),i.tspan.textContent+=S),b=void 0,c?b=l*u-x*m:b=l*u+x*m,r+=b}}catch(e){h.e(e)}finally{h.f()}i.tspan.setAttributeNS(null,"x",i.xcoords.map(t).join(" ")),c?i.tspan.setAttributeNS(null,"y",i.ycoords.map(t).join(" ")):i.tspan.setAttributeNS(null,"y",t(-i.y)),c?i.y-=r:i.x+=r*C,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size","".concat(t(i.fontSize),"px")),i.fontStyle!==s.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==s.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight),d=i.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK,d===e.TextRenderingMode.FILL||d===e.TextRenderingMode.FILL_STROKE?(i.fillColor!==s.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.textRenderingMode===e.TextRenderingMode.ADD_TO_PATH?i.tspan.setAttributeNS(null,"fill","transparent"):i.tspan.setAttributeNS(null,"fill","none"),(d===e.TextRenderingMode.STROKE||d===e.TextRenderingMode.FILL_STROKE)&&(D=1/(i.textMatrixScale||1),this._setStrokeAttributes(i.tspan,D)),g=i.textMatrix,i.textRise!==0&&(g=g.slice(),g[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform","".concat(o(g)," scale(").concat(t(C),", -1)")),i.txtElement.setAttributeNS(E,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"addFontStyle",value:function(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var n=(0,e.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(n,"); }\n")}},{key:"setFont",value:function(a){var n=this.current,i,r,s=this.commonObjs.get(a[0]),o=a[1];n.font=s,this.embedFonts&&!s.missingFile&&!this.embeddedFonts[s.loadedName]&&(this.addFontStyle(s),this.embeddedFonts[s.loadedName]=s),n.fontMatrix=s.fontMatrix||e.FONT_IDENTITY_MATRIX,i="normal",s.black?i="900":s.bold&&(i="bold"),r=s.italic?"italic":"normal",o<0?(o=-o,n.fontDirection=-1):n.fontDirection=1,n.fontSize=o,n.fontFamily=s.loadedName,n.fontWeight=i,n.fontStyle=r,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",t(-n.y)),n.xcoords=[],n.ycoords=[]}},{key:"endText",value:function(){var n,t=this.current;t.textRenderingMode&e.TextRenderingMode.ADD_TO_PATH_FLAG&&(n=t.txtElement)!==null&&n!==void 0&&n.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=A[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=S[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(t,n,s){this.current.strokeColor=e.Util.makeHexColor(t,n,s)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(t,n,s){this.current.fillColor=e.Util.makeHexColor(t,n,s),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(u){var c=this.viewport.width,r=this.viewport.height,i=e.Util.inverseTransform(this.transformMatrix),n=e.Util.applyTransform([0,0],i),o=e.Util.applyTransform([0,r],i),a=e.Util.applyTransform([c,0],i),s=e.Util.applyTransform([c,r],i),l=Math.min(n[0],o[0],a[0],s[0]),d=Math.min(n[1],o[1],a[1],s[1]),h=Math.max(n[0],o[0],a[0],s[0]),m=Math.max(n[1],o[1],a[1],s[1]),t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x",l),t.setAttributeNS(null,"y",d),t.setAttributeNS(null,"width",h-l),t.setAttributeNS(null,"height",m-d),t.setAttributeNS(null,"fill",this._makeShadingPattern(u)),this.current.fillAlpha<1&&t.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(t)}},{key:"_makeColorN_Pattern",value:function(e){return e[0]==="TilingPattern"?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(n){N=n[1],M=n[2],s=n[3]||e.IDENTITY_MATRIX;var o=a(n[4],4),C=o[0],_=o[1],y=o[2],j=o[3];v=n[5],f=n[6],p=n[7],r="shading".concat(g++);var N,M,s,v,f,p,r,b=e.Util.normalizeRect([].concat(c(e.Util.applyTransform([C,_],s)),c(e.Util.applyTransform([y,j],s)))),i=a(b,4),h=i[0],u=i[1],w=i[2],O=i[3],F,T,z,D,l,m,x=e.Util.singularValueDecompose2dScale(s),d=a(x,2),E=d[0],k=d[1],A=v*E,S=f*k,t=this.svgFactory.createElement("svg:pattern");return t.setAttributeNS(null,"id",r),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",A),t.setAttributeNS(null,"height",S),t.setAttributeNS(null,"x","".concat(h)),t.setAttributeNS(null,"y","".concat(u)),F=this.svg,T=this.transformMatrix,z=this.current.fillColor,D=this.current.strokeColor,l=this.svgFactory.create(w-h,O-u),this.svg=l,this.transformMatrix=s,p===2&&(m=e.Util.makeHexColor.apply(e.Util,c(N)),this.current.fillColor=m,this.current.strokeColor=m),this.executeOpTree(this.convertOpList(M)),this.svg=F,this.transformMatrix=T,this.current.fillColor=z,this.current.strokeColor=D,t.appendChild(l.childNodes[0]),this.defs.appendChild(t),"url(#".concat(r,")")}},{key:"_makeShadingPattern",value:function(s){switch(typeof s=="string"&&(s=this.objs.get(s)),s[0]){case"RadialAxial":var a="shading".concat(g++),t,l,c,r,d,f,m,o,u,h,i,p=s[3];switch(s[1]){case"axial":l=s[4],c=s[5],t=this.svgFactory.createElement("svg:linearGradient"),t.setAttributeNS(null,"id",a),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",l[0]),t.setAttributeNS(null,"y1",l[1]),t.setAttributeNS(null,"x2",c[0]),t.setAttributeNS(null,"y2",c[1]);break;case"radial":r=s[4],d=s[5],f=s[6],m=s[7],t=this.svgFactory.createElement("svg:radialGradient"),t.setAttributeNS(null,"id",a),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",d[0]),t.setAttributeNS(null,"cy",d[1]),t.setAttributeNS(null,"r",m),t.setAttributeNS(null,"fx",r[0]),t.setAttributeNS(null,"fy",r[1]),t.setAttributeNS(null,"fr",f);break;default:throw new Error("Unknown RadialAxial type: ".concat(s[1]))}o=n(p);try{for(o.s();!(u=o.n()).done;)h=u.value,i=this.svgFactory.createElement("svg:stop"),i.setAttributeNS(null,"offset",h[0]),i.setAttributeNS(null,"stop-color",h[1]),t.appendChild(i)}catch(e){o.e(e)}finally{o.f()}return this.defs.appendChild(t),"url(#".concat(a,")");case"Mesh":return(0,e.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(s[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(d,o){var i=c.x,a=c.y,h,g,f,p,m,u,c=this.current,r=[],s=0,l=n(d);try{for(l.s();!(h=l.n()).done;)switch(g=h.value,g|0){case e.OPS.rectangle:i=o[s++],a=o[s++],f=o[s++],p=o[s++],m=i+f,u=a+p,r.push("M",t(i),t(a),"L",t(m),t(a),"L",t(m),t(u),"L",t(i),t(u),"Z");break;case e.OPS.moveTo:i=o[s++],a=o[s++],r.push("M",t(i),t(a));break;case e.OPS.lineTo:i=o[s++],a=o[s++],r.push("L",t(i),t(a));break;case e.OPS.curveTo:i=o[s+4],a=o[s+5],r.push("C",t(o[s]),t(o[s+1]),t(o[s+2]),t(o[s+3]),t(i),t(a)),s+=6;break;case e.OPS.curveTo2:r.push("C",t(i),t(a),t(o[s]),t(o[s+1]),t(o[s+2]),t(o[s+3])),i=o[s+2],a=o[s+3],s+=4;break;case e.OPS.curveTo3:i=o[s+2],a=o[s+3],r.push("C",t(o[s]),t(o[s+1]),t(i),t(a),t(i),t(a)),s+=4;break;case e.OPS.closePath:r.push("Z");break}}catch(e){l.e(e)}finally{l.f()}r=r.join(" "),c.path&&d.length>0&&d[0]!==e.OPS.rectangle&&d[0]!==e.OPS.moveTo?r=c.path.getAttributeNS(null,"d")+r:(c.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(c.path)),c.path.setAttributeNS(null,"d",r),c.path.setAttributeNS(null,"fill","none"),c.element=c.path,c.setCurrentPoint(i,a)}},{key:"endPath",value:function(){var e=this.current,r,t,i,s,a,c;if(e.path=null,!this.pendingClip)return;if(!e.element){this.pendingClip=null;return}if(r="clippath".concat(T++),t=this.svgFactory.createElement("svg:clipPath"),t.setAttributeNS(null,"id",r),t.setAttributeNS(null,"transform",o(this.transformMatrix)),i=e.element.cloneNode(!0),this.pendingClip==="evenodd"?i.setAttributeNS(null,"clip-rule","evenodd"):i.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,t.appendChild(i),this.defs.appendChild(t),e.activeClipUrl){e.clipGroup=null,s=n(this.extraStack);try{for(s.s();!(a=s.n()).done;)c=a.value,c.clipGroup=null}catch(e){s.e(e)}finally{s.f()}t.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl="url(#".concat(r,")"),this.tgrp=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current,t;e.path&&(t="".concat(e.path.getAttributeNS(null,"d"),"Z"),e.path.setAttributeNS(null,"d",t))}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(){}},{key:"setFlatness",value:function(){}},{key:"setGState",value:function(c){s=n(c);try{for(s.s();!(o=s.n()).done;){var s,o,i=a(o.value,2),r=i[0],t=i[1];switch(r){case"LW":this.setLineWidth(t);break;case"LC":this.setLineCap(t);break;case"LJ":this.setLineJoin(t);break;case"ML":this.setMiterLimit(t);break;case"D":this.setDash(t[0],t[1]);break;case"RI":this.setRenderingIntent(t);break;case"FL":this.setFlatness(t);break;case"Font":this.setFont(t);break;case"CA":this.setStrokeAlpha(t);break;case"ca":this.setFillAlpha(t);break;default:(0,e.warn)("Unimplemented graphic state operator ".concat(r));break}}}catch(e){s.e(e)}finally{s.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=this.current,o=n.dashArray;s!==1&&o.length>0&&(o=o.map(function(e){return s*e})),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",t(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",t(s*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",o.map(t).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",t(s*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(t){var n=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(!n){(0,e.warn)("Dependent image with object ID ".concat(t," is not ready yet"));return}this.paintInlineImageXObject(n)}},{key:"paintInlineImageXObject",value:function(a,o){var i=a.width,e,s=a.height,r=M(a,this.forceDataSchema,!!o),n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width",t(i)),n.setAttributeNS(null,"height",t(s)),this.current.element=n,this.clip("nonzero"),e=this.svgFactory.createElement("svg:image"),e.setAttributeNS(k,"xlink:href",r),e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y",t(-s)),e.setAttributeNS(null,"width",t(i)+"px"),e.setAttributeNS(null,"height",t(s)+"px"),e.setAttributeNS(null,"transform","scale(".concat(t(1/i)," ").concat(t(-1/s),")")),o?o.appendChild(e):this._ensureTransformGroup().appendChild(e)}},{key:"paintImageMaskXObject",value:function(o){var n=this.current,s,e,i=o.width,a=o.height,r=n.fillColor;n.maskId="mask".concat(z++),s=this.svgFactory.createElement("svg:mask"),s.setAttributeNS(null,"id",n.maskId),e=this.svgFactory.createElement("svg:rect"),e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width",t(i)),e.setAttributeNS(null,"height",t(a)),e.setAttributeNS(null,"fill",r),e.setAttributeNS(null,"mask","url(#".concat(n.maskId,")")),this.defs.appendChild(s),this._ensureTransformGroup().appendChild(e),this.paintInlineImageXObject(o,s)}},{key:"paintFormXObjectBegin",value:function(e,n){if(Array.isArray(e)&&e.length===6&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n){var o=n[2]-n[0],i=n[3]-n[1],s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x",n[0]),s.setAttributeNS(null,"y",n[1]),s.setAttributeNS(null,"width",t(o)),s.setAttributeNS(null,"height",t(i)),this.current.element=s,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n,s=this.svgFactory.createElement("svg:defs");return t.appendChild(s),this.defs=s,n=this.svgFactory.createElement("svg:g"),n.setAttributeNS(null,"transform",o(e.transform)),t.appendChild(n),this.svg=n,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",o(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),i}()},(I,h,u)=>{"use strict";function i(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(e){return typeof e}:i=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(h,"__esModule",{value:!0}),h.PDFNodeStream=void 0;var a=L(u(2)),m,k,w,_,b,z,f,x,R,P,H,A,e=u(4),E=u(154);function L(e){return e&&e.__esModule?e:{default:e}}function n(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function s(e){var t=F();return function(){var s=r(e),n,o;return t?(o=r(this).constructor,n=Reflect.construct(s,arguments,o)):n=s.apply(this,arguments),N(this,n)}}function N(t,e){if(e&&(i(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(t)}function D(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function j(n,r,c,s,o,i,a){try{var e=n[i](a),t=e.value}catch(e){c(e);return}e.done?r(t):Promise.resolve(t).then(s,o)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){j(a,o,i,s,r,"next",e)}function r(e){j(a,o,i,s,r,"throw",e)}s(void 0)})}}function M(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=S(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function S(e,n){if(!e)return;if(typeof e=="string")return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,n)}function O(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function l(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}m=o(),k=p(),w=g(),_=v(),b=/^file:\/\/\/[a-zA-Z]:\//;function T(t){var e=_.parse(t);return e.protocol==="file:"||e.host?e:/^[a-z]:[/\\]/i.test(t)?_.parse("file:///".concat(t)):(e.host||(e.protocol="file:"),e)}z=function(){function n(e){t(this,n),this.source=e,this.url=T(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return l(n,[{key:"_progressiveDataLength",get:function(){var e,t;return(e=(t=this._fullRequestReader)===null||t===void 0?void 0:t._loaded)!==null&&e!==void 0?e:0}},{key:"getFullReader",value:function(){return(0,e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new H(this):new R(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=this.isFsUrl?new A(this,t,e):new P(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e=M(this._rangeRequestReaders.slice(0)),n,s;try{for(e.s();!(n=e.n()).done;)s=n.value,s.cancel(t)}catch(t){e.e(t)}finally{e.f()}}}]),n}(),h.PDFNodeStream=z,f=function(){function n(o){t(this,n),this._url=o.url,this._done=!1,this._storedError=null,this.onProgress=null;var s=o.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=(0,e.createPromiseCapability)(),this._headersCapability=(0,e.createPromiseCapability)()}return l(n,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var t=y(a.default.mark(function s(){var t,n;return a.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:return s.next=2,this._readCapability.promise;case 2:if(!this._done){s.next=4;break}return s.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){s.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),!(t===null)){s.next=10;break}return this._readCapability=(0,e.createPromiseCapability)(),s.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,s.abrupt("return",{value:n,done:!1});case 14:case"end":return s.stop()}},s,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"cancel",value:function(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var n=this;this._readableStream=t,t.on("readable",function(){n._readCapability.resolve()}),t.on("end",function(){t.destroy(),n._done=!0,n._readCapability.resolve()}),t.on("error",function(e){n._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),n}(),x=function(){function n(s){t(this,n),this._url=s.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,e.createPromiseCapability)();var o=s.source;this._isStreamingSupported=!o.disableStream}return l(n,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var t=y(a.default.mark(function s(){var t,n;return a.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:return s.next=2,this._readCapability.promise;case 2:if(!this._done){s.next=4;break}return s.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){s.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),!(t===null)){s.next=10;break}return this._readCapability=(0,e.createPromiseCapability)(),s.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,s.abrupt("return",{value:n,done:!1});case 14:case"end":return s.stop()}},s,this)}));function n(){return t.apply(this,arguments)}return n}()},{key:"cancel",value:function(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),n}();function c(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}R=function(i){n(o,i);var a=s(o);function o(s){t(this,o);var i=function(t){if(t.statusCode===404){o=new e.MissingPDFException('Missing PDF "'.concat(n._url,'".')),n._storedError=o,n._headersCapability.reject(o);return}n._headersCapability.resolve(),n._setReadableStream(t),i=function(e){return n._readableStream.headers[e.toLowerCase()]};var o,i,a=(0,E.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:s.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),c=a.allowRangeRequests,r=a.suggestedLength;n._isRangeSupported=c,n._contentLength=r||n._contentLength,n._filename=(0,E.extractFilenameFromHeader)(i)},n=a.call(this,s);return n._request=null,n._url.protocol==="http:"?n._request=k.request(c(n._url,s.httpHeaders),i):n._request=w.request(c(n._url,s.httpHeaders),i),n._request.on("error",function(e){n._storedError=e,n._headersCapability.reject(e)}),n._request.end(),n}return o}(f),P=function(i){n(o,i);var a=s(o);function o(s,d,u){t(this,o),n=a.call(this,s),n._httpHeaders={};for(i in s.httpHeaders){var n,i,r=s.httpHeaders[i],l;if(typeof r=="undefined")continue;n._httpHeaders[i]=r}return n._httpHeaders.Range="bytes=".concat(d,"-").concat(u-1),l=function(t){if(t.statusCode===404){var s=new e.MissingPDFException('Missing PDF "'.concat(n._url,'".'));n._storedError=s;return}n._setReadableStream(t)},n._request=null,n._url.protocol==="http:"?n._request=k.request(c(n._url,n._httpHeaders),l):n._request=w.request(c(n._url,n._httpHeaders),l),n._request.on("error",function(e){n._storedError=e}),n._request.end(),n}return o}(x),H=function(i){n(o,i);var a=s(o);function o(i){t(this,o);var s=decodeURIComponent(n._url.path),n=a.call(this,i);return b.test(n._url.href)&&(s=s.replace(/^\//,"")),m.lstat(s,function(t,o){if(t){t.code==="ENOENT"&&(t=new e.MissingPDFException('Missing PDF "'.concat(s,'".'))),n._storedError=t,n._headersCapability.reject(t);return}n._contentLength=o.size,n._setReadableStream(m.createReadStream(s)),n._headersCapability.resolve()}),n}return o}(f),A=function(o){n(e,o);var i=s(e);function e(o,a,r){t(this,e);var s=decodeURIComponent(n._url.path),n=i.call(this,o);return b.test(n._url.href)&&(s=s.replace(/^\//,"")),n._setReadableStream(m.createReadStream(s,{start:a,end:r-1})),n}return e}(x)},(l,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=r,e.extractFilenameFromHeader=a,e.validateRangeRequestCapabilities=s,e.validateResponseStatus=c;var n=t(4),o=t(155),i=t(1);function s(t){var s=t.getResponseHeader,a=t.isHttp,i=t.rangeChunkSize,r=t.disableRange,e,o,c;return(0,n.assert)(i>0,"Range chunk size must be larger than zero"),e={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(s("Content-Length"),10),!Number.isInteger(o)?e:(e.suggestedLength=o,o<=2*i)?e:r||!a?e:s("Accept-Ranges")!=="bytes"?e:(c=s("Content-Encoding")||"identity",c!=="identity")?e:(e.allowRangeRequests=!0,e)}function a(n){var t=n("Content-Disposition"),e;if(t){if(e=(0,o.getFilenameFromContentDispositionHeader)(t),e.includes("%"))try{e=decodeURIComponent(e)}catch(e){}if((0,i.isPdfFile)(e))return e}return null}function r(e,t){return e===404||e===0&&t.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+t+'".'):new n.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function c(e){return e===200||e===206}},(d,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=l;var i=o(4);function t(e,t){return c(e)||r(e,t)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,s){if(!e)return;if(typeof e=="string")return n(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,s)}function n(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function r(t,o){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"],n,s,i,a,r;if(e==null)return;n=[],s=!0,i=!1;try{for(e=e.call(t);!(s=(a=e.next()).done);s=!0)if(n.push(a.value),o&&n.length===o)break}catch(e){i=!0,r=e}finally{try{!s&&e.return!=null&&e.return()}finally{if(i)throw r}}return n}function c(e){if(Array.isArray(e))return e}function l(a){var o=!0,n,f,r,e=c("filename\\*","i").exec(a);if(e)return e=e[1],n=l(e),n=unescape(n),n=h(n),n=u(n),d(n);if(e=m(a),e)return f=u(e),d(f);if(e=c("filename","i").exec(a),e)return e=e[1],r=l(e),r=u(r),d(r);function c(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(t,e){if(t){if(!/^[\x00-\xFF]+$/.test(e))return e;try{var n=new TextDecoder(t,{fatal:!0}),s=(0,i.stringToBytes)(e);e=n.decode(s),o=!1}catch(n){if(/^utf-?8$/i.test(t))try{e=decodeURIComponent(escape(e)),o=!1}catch(e){}}}return e}function d(e){return o&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),o&&(e=s("iso-8859-1",e))),e}function m(v){for(o=[],p=c("filename\\*((?!0\\d)\\d+)(\\*?)","ig");(a=p.exec(v))!==null;){var o,a,p,f=a,i=t(f,4),n=i[1],u=i[2],m=i[3],d,s;if(n=parseInt(n,10),n in o){if(n===0)break;continue}o[n]=[u,m]}d=[];for(s=0;s<o.length;++s){if(!(s in o))break;var r=t(o[s],2),g=r[0],e=r[1];e=l(e),g&&(e=unescape(e),s===0&&(e=h(e))),d.push(e)}return d.join("")}function l(n){if(n.startsWith('"')){for(var e=n.slice(1).split('\\"'),s,t=0;t<e.length;++t)s=e[t].indexOf('"'),s!==-1&&(e[t]=e[t].slice(0,s),e.length=t+1),e[t]=e[t].replace(/\\(.)/g,"$1");n=e.join('"')}return n}function h(e){var t=e.indexOf("'"),n,o,i;return t===-1?e:(n=e.slice(0,t),o=e.slice(t+1),i=o.replace(/^[^']*'/,""),s(n,i))}function u(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(o,t,n,e){if(n==="q"||n==="Q")return e=e.replace(/_/g," "),e=e.replace(/=([0-9a-fA-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}),s(t,e);try{e=atob(e)}catch(e){}return s(t,e)})}return""}},(_,c,l)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNetworkStream=void 0;var i=g(l(2)),a,r,b,j,y,f,t=l(4),o=l(154);function g(e){return e&&e.__esModule?e:{default:e}}function d(n,r,c,s,o,i,a){try{var e=n[i](a),t=e.value}catch(e){c(e);return}e.done?r(t):Promise.resolve(t).then(s,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){d(a,o,i,s,r,"next",e)}function r(e){d(a,o,i,s,r,"throw",e)}s(void 0)})}}function e(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=p(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function p(e,n){if(!e)return;if(typeof e=="string")return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}function u(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function n(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}a=200,r=206;function v(n){var e=n.response,s;return typeof e!="string"?e:(s=(0,t.stringToBytes)(e),s.buffer)}b=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,e),this.url=n,this.isHttp=/^https?:/i.test(n),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return n(e,[{key:"requestRange",value:function(s,o,e){var t={begin:s,end:o},n;for(n in e)t[n]=e[n];return this.request(t)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(t){var e=this.getXhr(),i,o,s=this.currXhrId++,n=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(i in this.httpHeaders){if(o=this.httpHeaders[i],typeof o=="undefined")continue;e.setRequestHeader(i,o)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),n.expectedStatus=r):n.expectedStatus=a,e.responseType="arraybuffer",t.onError&&(e.onerror=function(){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),n.onHeadersReceived=t.onHeadersReceived,n.onDone=t.onDone,n.onError=t.onError,n.onProgress=t.onProgress,e.send(null),s}},{key:"onProgress",value:function(n,s){var e,t=this.pendingRequests[n];if(!t)return;(e=t.onProgress)===null||e===void 0?void 0:e.call(t,s)}},{key:"onStateChange",value:function(s){var e=this.pendingRequests[s],t,i,c,d,n,o,u,h,l;if(!e)return;if(t=e.xhr,t.readyState>=2&&e.onHeadersReceived&&(e.onHeadersReceived(),delete e.onHeadersReceived),t.readyState!==4)return;if(!(s in this.pendingRequests))return;if(delete this.pendingRequests[s],t.status===0&&this.isHttp){(i=e.onError)===null||i===void 0?void 0:i.call(e,t.status);return}if(c=t.status||a,d=c===a&&e.expectedStatus===r,!d&&c!==e.expectedStatus){(n=e.onError)===null||n===void 0?void 0:n.call(e,t.status);return}o=v(t),c===r?(u=t.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(u),e.onDone({begin:parseInt(h[1],10),chunk:o})):o?e.onDone({begin:0,chunk:o}):(l=e.onError)===null||l===void 0?void 0:l.call(e,t.status)}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),j=function(){function o(e){s(this,o),this._source=e,this._manager=new b(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return n(o,[{key:"_onRangeRequestReaderClosed",value:function(t){var e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}},{key:"getFullReader",value:function(){return(0,t.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new y(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(t,n){var e=new f(this._manager,t,n);return e.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(e),e}},{key:"cancelAllRequests",value:function(s){(n=this._fullRequestReader)===null||n===void 0?void 0:n.cancel(s);var n,t=e(this._rangeRequestReaders.slice(0)),o,i;try{for(t.s();!(o=t.n()).done;)i=o.value,i.cancel(s)}catch(e){t.e(e)}finally{t.f()}}}]),o}(),c.PDFNetworkStream=j,y=function(){function a(n,e){s(this,a),this._manager=n;var o={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=n.requestFull(o),this._headersReceivedCapability=(0,t.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return n(a,[{key:"_onHeadersReceived",value:function(){e=this._fullRequestId,i=this._manager.getRequestXhr(e),t=function(e){return i.getResponseHeader(e)};var e,i,t,n=(0,o.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=n.allowRangeRequests,s=n.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(t),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(n){if(n)if(this._requests.length>0){var o=this._requests.shift(),t,s,i;o.resolve({value:n.chunk,done:!1})}else this._cachedChunks.push(n.chunk);if(this._done=!0,this._cachedChunks.length>0)return;t=e(this._requests);try{for(t.s();!(s=t.n()).done;)i=s.value,i.resolve({value:void 0,done:!0})}catch(e){t.e(e)}finally{t.f()}this._requests.length=0}},{key:"_onError",value:function(s){this._storedError=(0,o.createResponseStatusError)(s,this._url),this._headersReceivedCapability.reject(this._storedError);var t=e(this._requests),n,i;try{for(t.s();!(n=t.n()).done;)i=n.value,i.reject(this._storedError)}catch(e){t.e(e)}finally{t.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(e){var t;(t=this.onProgress)===null||t===void 0?void 0:t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var e=h(i.default.mark(function s(){var n,e;return i.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:if(!this._storedError){s.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){s.next=5;break}return n=this._cachedChunks.shift(),s.abrupt("return",{value:n,done:!1});case 5:if(!this._done){s.next=7;break}return s.abrupt("return",{value:void 0,done:!0});case 7:return e=(0,t.createPromiseCapability)(),this._requests.push(e),s.abrupt("return",e.promise);case 10:case"end":return s.stop()}},s,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"cancel",value:function(s){this._done=!0,this._headersReceivedCapability.reject(s);var t=e(this._requests),n,o;try{for(t.s();!(n=t.n()).done;)o=n.value,o.resolve({value:void 0,done:!0})}catch(e){t.e(e)}finally{t.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),a}(),f=function(){function a(e,t,n){s(this,a),this._manager=e;var o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return n(a,[{key:"_close",value:function(){var e;(e=this.onClosed)===null||e===void 0?void 0:e.call(this,this)}},{key:"_onDone",value:function(i){var n=i.chunk,a,t,s,o;this._requests.length>0?(a=this._requests.shift(),a.resolve({value:n,done:!1})):this._queuedChunk=n,this._done=!0,t=e(this._requests);try{for(t.s();!(s=t.n()).done;)o=s.value,o.resolve({value:void 0,done:!0})}catch(e){t.e(e)}finally{t.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(s){this._storedError=(0,o.createResponseStatusError)(s,this._url);var t=e(this._requests),n,i;try{for(t.s();!(n=t.n()).done;)i=n.value,i.reject(this._storedError)}catch(e){t.e(e)}finally{t.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(t){if(!this.isStreamingSupported){var e;(e=this.onProgress)===null||e===void 0?void 0:e.call(this,{loaded:t.loaded})}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=h(i.default.mark(function s(){var n,e;return i.default.wrap(function(s){for(;1;)switch(s.prev=s.next){case 0:if(!this._storedError){s.next=2;break}throw this._storedError;case 2:if(!(this._queuedChunk!==null)){s.next=6;break}return n=this._queuedChunk,this._queuedChunk=null,s.abrupt("return",{value:n,done:!1});case 6:if(!this._done){s.next=8;break}return s.abrupt("return",{value:void 0,done:!0});case 8:return e=(0,t.createPromiseCapability)(),this._requests.push(e),s.abrupt("return",e.promise);case 11:case"end":return s.stop()}},s,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"cancel",value:function(){this._done=!0;var t=e(this._requests),n,s;try{for(t.s();!(n=t.n()).done;)s=n.value,s.resolve({value:void 0,done:!0})}catch(e){t.e(e)}finally{t.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),a}()},(j,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var t=g(i(2)),v,b,m,n=i(4),e=i(154);function g(e){return e&&e.__esModule?e:{default:e}}function d(n,r,c,s,o,i,a){try{var e=n[i](a),t=e.value}catch(e){c(e);return}e.done?r(t):Promise.resolve(t).then(s,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){d(a,o,i,s,r,"next",e)}function r(e){d(a,o,i,s,r,"throw",e)}s(void 0)})}}function p(e,r){if(t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"],!t){if(Array.isArray(e)||(t=f(e))||r&&e&&typeof e.length=="number")return t&&(e=t),s=0,o=function(){},{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,s,o,i=!0,a=!1,n;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,n=e},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(a)throw n}}}}function f(e,n){if(!e)return;if(typeof e=="string")return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}function u(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(s,n){for(var t=0,e;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}function s(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function l(t,n,e){return{method:"GET",headers:t,signal:e===null||e===void 0?void 0:e.signal,mode:"cors",credentials:n?"include":"same-origin",redirect:"follow"}}function r(e){var t=new Headers,n,s;for(n in e){if(s=e[n],typeof s=="undefined")continue;t.append(n,s)}return t}v=function(){function e(t){a(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return s(e,[{key:"_progressiveDataLength",get:function(){var e,t;return(e=(t=this._fullRequestReader)===null||t===void 0?void 0:t._loaded)!==null&&e!==void 0?e:0}},{key:"getFullReader",value:function(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}},{key:"getRangeReader",value:function(n,e){if(e<=this._progressiveDataLength)return null;var t=new m(this,n,e);return this._rangeRequestReaders.push(t),t}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e=p(this._rangeRequestReaders.slice(0)),n,s;try{for(e.s();!(n=e.n()).done;)s=n.value,s.cancel(t)}catch(t){e.e(t)}finally{e.f()}}}]),e}(),o.PDFFetchStream=v,b=function(){function o(i){var t=this,s,c;a(this,o),this._stream=i,this._reader=null,this._loaded=0,this._filename=null,s=i.source,this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=r(this._stream.httpHeaders),c=s.url,fetch(c,l(this._headers,this._withCredentials,this._abortController)).then(function(s){if(!(0,e.validateResponseStatus)(s.status))throw(0,e.createResponseStatusError)(s.status,c);t._reader=s.body.getReader(),t._headersCapability.resolve(),o=function(e){return s.headers.get(e)};var o,i=(0,e.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:t._stream.isHttp,rangeChunkSize:t._rangeChunkSize,disableRange:t._disableRange}),a=i.allowRangeRequests,r=i.suggestedLength;t._isRangeSupported=a,t._contentLength=r||t._contentLength,t._filename=(0,e.extractFilenameFromHeader)(o),!t._isStreamingSupported&&t._isRangeSupported&&t.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return s(o,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=c(t.default.mark(function i(){var n,e,s,o;return t.default.wrap(function(t){for(;1;)switch(t.prev=t.next){case 0:return t.next=2,this._headersCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(n=t.sent,e=n.value,s=n.done,!s){t.next=9;break}return t.abrupt("return",{value:e,done:s});case 9:return this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),o=new Uint8Array(e).buffer,t.abrupt("return",{value:o,done:!1});case 13:case"end":return t.stop()}},i,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),o}(),m=function(){function o(s,d,u){var i=this,t,c;a(this,o),this._stream=s,this._reader=null,this._loaded=0,t=s.source,this._withCredentials=t.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!t.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=r(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(d,"-").concat(u-1)),c=t.url,fetch(c,l(this._headers,this._withCredentials,this._abortController)).then(function(t){if(!(0,e.validateResponseStatus)(t.status))throw(0,e.createResponseStatusError)(t.status,c);i._readCapability.resolve(),i._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return s(o,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=c(t.default.mark(function i(){var n,e,s,o;return t.default.wrap(function(t){for(;1;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(n=t.sent,e=n.value,s=n.done,!s){t.next=9;break}return t.abrupt("return",{value:e,done:s});case 9:return this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),o=new Uint8Array(e).buffer,t.abrupt("return",{value:o,done:!1});case 13:case"end":return t.stop()}},i,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),o}()}],n,t={};function e(o){var i=t[o],n;return i!==void 0?i.exports:(n=t[o]={id:o,loaded:!1,exports:{}},s[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports)}return(()=>{e.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),n={},(()=>{"use strict";if(t=n,Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return u.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return r.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return o.LinkTarget}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return i.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return d.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return a.XfaLayer}}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return o.addLinkAttributes}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return s.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return s.removeNullCharacters}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}}),o=e(1),s=e(4),i=e(136),u=e(148),r=e(142),c=e(6),l=e(151),d=e(152),a=e(150),j="2.12.313",b="a2ae56f39",c.isNodeJS){var t,o,s,i,u,r,c,l,d,a,j,b,f=e(153),p=f.PDFNodeStream,g,m,h,v;(0,i.setPDFNetworkStreamFactory)(function(e){return new p(e)})}else g=e(156),m=g.PDFNetworkStream,h=e(157),v=h.PDFFetchStream,(0,i.setPDFNetworkStreamFactory)(function(e){return(0,o.isValidFetchUrl)(e.url)?new v(e):new m(e)})})(),n})()})}}),l=d(m()),r=d(b());r.GlobalWorkerOptions.workerSrc="/js/pdf.worker.js",a=document.querySelector("[data-resume-loading]"),n=document.querySelector("[data-resume]"),t=document.querySelector("[data-resume-canvas]"),x=document.querySelector("[data-resume-download-button]"),u=n.dataset.resume,l.default.supportsPDFs?l.default.embed(u,n):(a.classList.remove("hidden"),x.classList.remove("hidden"),r.getDocument(u).promise.then(function(e){e.getPage(1).then(function(o){const i=n.clientWidth/o.getViewport({scale:1}).width,e=o.getViewport({scale:i}),s=window.devicePixelRatio||1,a=t.getContext("2d");t.width=Math.floor(e.width*s),t.height=Math.floor(e.height*s),t.style.width=Math.floor(e.width)+"px",t.style.height=Math.floor(e.height)+"px";const r=s!==1?[s,0,0,s,0,0]:null,c={canvasContext:a,transform:r,viewport:e},l=o.render(c);return l.promise})}).catch(function(){n.classList.add("hidden")}).then(function(){t.classList.remove("hidden"),a.classList.add("hidden")}))})()