import{k as f,D as g,b as h}from"./floating-ui.dom.browser.min.b9202534.js";import"./ThemeSelect.astro_astro_type_script_index_0_lang.a8b55151.js";const i=document.querySelector("[data-blog-post-container]"),a=document.querySelector("[data-toggle-toc]"),d=localStorage.getItem("__preferred_toc_state");d!==null&&(d==="open"?u():p());function u(){i?.setAttribute("data-toc","open"),localStorage.setItem("__preferred_toc_state","open"),a.setAttribute("aria-label",a.dataset.closedTocLabel??"")}function p(){i?.setAttribute("data-toc","closed"),localStorage.setItem("__preferred_toc_state","closed"),a.setAttribute("aria-label",a.dataset.openTocLabel??"")}a?.addEventListener("click",()=>{i.dataset.toc==="open"?p():u()});for(const e of document.querySelectorAll("[data-codeblock] pre.twoslash data-lsp"))e.addEventListener("mouseover",async r=>{if(!r.target)return;const t=document.createElement("div"),o=r.target;t.setAttribute("role","tooltip");const c="twoslash-lsp-tooltip";t.setAttribute("id",c),o.setAttribute("aria-describedby",c);const{x:n,y:b}=await f(o,t,{placement:"bottom-start",middleware:[g(8),h()]});Object.assign(t.style,{left:`${n}px`,top:`${b}px`});const m=o.getAttribute("lsp");t.textContent=m,t.classList.add("font-mono","absolute","bg-gray-700","text-white","text-left","p-2","text-sm","whitespace-pre-wrap"),document.body.append(t),o.addEventListener("mouseout",()=>{t.remove(),o.removeAttribute("aria-describedby")},{once:!0})});const l=document.querySelector("nav[data-toc-wrapper] ol"),s=l?.closest("[data-toc-wrapper]"),v=document.querySelector("[data-blog-post]"),A=l?.querySelector("li");function y(e){e.setAttribute("data-active","")}function I(e){e.removeAttribute("data-active")}function S(){l?.querySelectorAll("li").forEach(I)}function T(e){const r=e.getAttribute("id"),t=l?.querySelector(`li a[href="#${r}"]`);return t?t.closest("li"):null}const _=new IntersectionObserver(e=>{e.forEach(r=>{if(!s)return null;const t=r.target;if(r.isIntersecting){const o=T(t);if(!o)return null;S(),y(o);const c=s.getBoundingClientRect(),n=o.getBoundingClientRect();if(o===A){s.scrollTop=0;return}if(c.top>n.top){s.scrollTop-=c.top-n.top;return}n.bottom>c.bottom&&(s.scrollTop+=n.bottom-c.bottom)}})},{threshold:1}),w=v.querySelectorAll("h2, h3, h4, h4, h6");for(const e of w)_.observe(e);
