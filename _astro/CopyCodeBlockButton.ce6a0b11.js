import{r as e}from"./index.57fae3ab.js";import{r as E}from"./index.ffa87b56.js";import{c as y,I as R}from"./createReactComponent.099c7328.js";import{O as T,E as N,T as S,m as B}from"./floating-ui.dom.browser.min.8b9d8992.js";import{j as o,c as s}from"./jsx-runtime.7a8c40fc.js";const $=y("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),A=y("Clipboard",[["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1",key:"wz2j3u"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);function O(w){const{code:g,className:j,tooltipText:k,...v}=w,a=e.useRef(null),l=e.useRef(null),c=e.useRef(null),[r,i]=e.useState(!1),[p,C]=e.useState(null);return e.useEffect(()=>{C(document.body)},[]),e.useEffect(()=>{const t=l.current;if(!t)return;(async()=>{if(!r)return;const u=a.current,n=c.current;if(!u||!n)return;const{x:m,y:x,middlewareData:f}=await T(u,t,{placement:"top",middleware:[N({padding:8}),S(8),B({element:n})]}),b=f.arrow?.x,h=f.arrow?.y;t.style.left=m!=null?`${m}px`:"",t.style.top=x!=null?`${x}px`:"",t.style.animation="tooltip-animation 1.5s forwards",n.style.left=b!=null?`${b}px`:"",n.style.top=h!=null?`${h}px`:"",n.style.bottom="-4px"})();const d=()=>{i(!1)};return t?.addEventListener("animationend",d),()=>{t?.removeEventListener("animationend",d)}},[r]),o.jsxs(R,{ref:a,className:s([r&&"border-green-500",j]),onClick:async()=>{await navigator.clipboard.writeText(g),i(!0)},...v,children:[r?o.jsx("span",{className:"text-green-500 [&_svg]:stroke-current",children:o.jsx($,{})}):o.jsx("span",{className:"text-[var(--code-fg)]",children:o.jsx(A,{})}),p&&r&&E.createPortal(o.jsxs("div",{ref:l,role:"tooltip",className:s("dark pointer-events-none absolute rounded border border-green-500 bg-background px-2 text-on-background"),children:[k,o.jsx("div",{ref:c,className:s("absolute h-[8px] w-[8px] rotate-45 border-r border-b border-green-500 bg-background")})]}),p)]})}export{O as C};
