import{c as se,I as oe}from"./createReactComponent.b6a655c0.js";import{u as i,r as t}from"./index.385e17fc.js";import{j as E}from"./jsx-runtime.c931ae04.js";import"./_commonjsHelpers.042e6b4d.js";const ce=se("MoveHorizontal",[["polyline",{points:"18 8 22 12 18 16",key:"1hqrds"}],["polyline",{points:"6 8 2 12 6 16",key:"f0ernq"}],["line",{x1:"2",y1:"12",x2:"22",y2:"12",key:"zvmn4p"}]]),D=t.forwardRef((e,n)=>{const r={position:"absolute",top:0,left:0,width:"100%",height:"100%",willChange:"clip",userSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return i.createElement("div",Object.assign({},e,{style:r,"data-rcs":"clip-item",ref:n}))});D.displayName="ContainerClip";const $=t.forwardRef(({children:e,portrait:n},r)=>{const l={position:"absolute",top:0,width:"100%",height:"100%",pointerEvents:"none"},a={position:"absolute",width:n?"100%":void 0,height:n?void 0:"100%",transform:n?"translateY(-50%)":"translateX(-50%)",pointerEvents:"all"};return i.createElement("div",{style:l,"data-rcs":"handle-container",ref:r},i.createElement("div",{style:a},e))});$.displayName="ThisHandleContainer";const O=({flip:e})=>{const n={width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:e?"rotate(180deg)":void 0};return i.createElement("div",{style:n})},le=({portrait:e,buttonStyle:n,linesStyle:r,style:l,...a})=>{const c={display:"flex",flexDirection:e?"row":"column",placeItems:"center",height:"100%",cursor:e?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...l},u={flexGrow:1,height:e?2:"100%",width:e?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 7px rgba(0,0,0,.35)",...r},d={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",boxShadow:"0 0 7px rgba(0,0,0,.35)",transform:e?"rotate(90deg)":void 0,...n};return i.createElement("div",Object.assign({className:"__rcs-handle-root"},a,{style:c}),i.createElement("div",{className:"__rcs-handle-line",style:u}),i.createElement("div",{className:"__rcs-handle-button",style:d},i.createElement(O,null),i.createElement(O,{flip:!0})),i.createElement("div",{className:"__rcs-handle-line",style:u}))},ie=({boxSizing:e="border-box",objectFit:n="cover",objectPosition:r="center",...l}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:e,objectFit:n,objectPosition:r,...l}),ae=e=>{const n=t.useRef(e);return t.useEffect(()=>{n.current=e}),n.current},X=(e,n,r,l)=>{const a=t.useRef();t.useEffect(()=>{a.current=n},[n]),t.useEffect(()=>{if(!(r&&r.addEventListener))return;const c=u=>a.current&&a.current(u);return r.addEventListener(e,c,l),()=>{r.removeEventListener(e,c,l)}},[e,r,l])},ue=typeof window<"u"&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,de=(e,n)=>{const r=t.useRef(),l=t.useCallback(()=>{e.current&&r.current&&r.current.observe(e.current)},[e]);ue(()=>(r.current=new ResizeObserver(([a])=>n(a.contentRect)),l(),()=>{r.current&&r.current.disconnect()}),[n,l])},g={passive:!0},Y={capture:!0,passive:!1},fe=({handle:e,itemOne:n,itemTwo:r,onlyHandleDraggable:l=!1,onPositionChange:a,portrait:c=!1,position:u=50,boundsPadding:d=0,changePositionOnHover:I=!1,style:F,...V})=>{const f=t.useRef(null),P=t.useRef(null),j=t.useRef(null),m=t.useRef(u),B=ae(u),[y,U]=t.useState(!1),S=t.useRef(!1),[W,q]=t.useState(),[A,K]=t.useState(!1);t.useEffect(()=>{q(l?j.current:f.current)},[l]);const h=t.useCallback(function({x:o,y:x,isOffset:R,portrait:p,boundsPadding:T}){const{top:Z,left:ee,width:C,height:k}=f.current.getBoundingClientRect();if(C===0||k===0)return;const te=Math.min(Math.max(p?R?x-Z-window.pageYOffset:x:R?o-ee-window.pageXOffset:o,0),p?k:C),M=p?k/(f.current.offsetHeight||1):C/(f.current.offsetWidth||1),b=te/M,N=C/M,z=k/M,_=b/(p?z:N)*100,ne=p?b===0||b===z:b===0||b===N,re=_===m.current&&(m.current===0||m.current===100);if(A&&re&&ne)return;K(!0),m.current=_;const L=Math.min(Math.max(b,0+T),(p?z:N)-T);P.current.style.clip=p?`rect(auto,auto,${L}px,auto)`:`rect(auto,${L}px,auto,auto)`,j.current.style.transform=p?`translate3d(0,${L}px,0)`:`translate3d(${L}px,0,0)`,a&&a(m.current)},[A,a]);t.useEffect(()=>{const{width:s,height:o}=f.current.getBoundingClientRect(),x=u===B?m.current:u;h({portrait:c,boundsPadding:d,x:s/100*x,y:o/100*x})},[c,u,B,d,h]);const H=t.useCallback(s=>{s.preventDefault(),h({portrait:c,boundsPadding:d,isOffset:!0,x:s instanceof MouseEvent?s.pageX:s.touches[0].pageX,y:s instanceof MouseEvent?s.pageY:s.touches[0].pageY}),U(!0)},[c,d,h]),v=t.useCallback(function(o){h({portrait:c,boundsPadding:d,isOffset:!0,x:o instanceof MouseEvent?o.pageX:o.touches[0].pageX,y:o instanceof MouseEvent?o.pageY:o.touches[0].pageY})},[c,d,h]),w=t.useCallback(()=>{U(!1)},[]),G=t.useCallback(({width:s,height:o})=>{const{width:x,height:R}=f.current.getBoundingClientRect();h({portrait:c,boundsPadding:d,x:s/100*m.current*x/s,y:o/100*m.current*R/o})},[c,d,h]);t.useEffect(()=>(y&&!S.current&&(window.addEventListener("mousemove",v,g),window.addEventListener("mouseup",w,g),window.addEventListener("touchmove",v,g),window.addEventListener("touchend",w,g),S.current=!0),()=>{S.current&&(window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",w),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",w),S.current=!1)}),[v,w,y]),de(f,G),t.useEffect(()=>{const s=f.current,o=()=>{y||w()};return I&&(s.addEventListener("mousemove",v,g),s.addEventListener("mouseleave",o,g)),()=>{s.removeEventListener("mousemove",v),s.removeEventListener("mouseleave",o)}},[I,v,w,y]),X("mousedown",H,W,Y),X("touchstart",H,W,Y);const J=e||i.createElement(le,{portrait:c}),Q={position:"relative",overflow:"hidden",cursor:y?c?"ns-resize":"ew-resize":void 0,userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...F};return i.createElement("div",Object.assign({},V,{ref:f,style:Q,"data-rcs":"root"}),r,i.createElement(D,{ref:P},n),i.createElement($,{portrait:c,ref:j},J))},Ee=({style:e,...n})=>{const r=ie(e);return i.createElement("img",Object.assign({},n,{style:r,"data-rcs":"image"}))};function we(e){return E.jsx(fe,{className:"full-width-on-mobile",handle:E.jsxs("div",{className:"flex h-full flex-col items-center justify-center",children:[E.jsx("div",{className:"flex-1 border-l-2 border-divider"}),E.jsxs("div",{className:"relative h-10 w-10 rounded-full border-2 border-divider",children:[E.jsx("div",{className:"pointer-events-none absolute inset-0 h-full w-full rounded-full backdrop-blur-sm"}),E.jsx(oe,{className:"dark h-full w-full cursor-move rounded-full border-0 backdrop-blur-none",children:E.jsx(ce,{className:"dark"})})]}),E.jsx("div",{className:"flex-1 border-l-2 border-divider"})]}),...e})}export{we as ReactCompareSlider,Ee as ReactCompareSliderImage};
